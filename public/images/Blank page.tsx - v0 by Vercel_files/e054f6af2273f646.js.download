(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,440420,e=>{"use strict";var t=e.i(308165),i=e.i(211023),o=e.i(436120),n=e.i(247921),r=e.i(910207),s=e.i(581793),a=e.i(116086),l=e.i(232204),d=e.i(8114),c=e.i(785310),u=e.i(836387),h=e.i(619223),p=e.i(166253),g=e.i(756970),m=e.i(545731),_=e.i(693655),f=e.i(352700),y=e.i(633921),v=e.i(272117),C=e.i(180997),b=e.i(588624),S=e.i(68174),w=e.i(982534),E=e.i(323235),I=e.i(657170),x=e.i(87211),D=e.i(320152),k=e.i(720274),A=e.i(544421),M=e.i(901485),L=e.i(886202),T=e.i(6423),R=e.i(120337),N=e.i(73351),P=e.i(357790),O=e.i(630903);let F=0,K=!1,W=class extends r.CodeEditorWidget{constructor(e,t,o,n,r,s,l,d,c,u,h,p,g){const m={...t};m.ariaLabel=m.ariaLabel||b.StandaloneCodeEditorNLS.editorViewAccessibleLabel,super(e,m,{isStandaloneEditor:!0},o,n,r,s,c,u,h,p,g),d instanceof a.StandaloneKeybindingService?this._standaloneKeybindingService=d:this._standaloneKeybindingService=null,function(e){if(!e){if(K)return;K=!0}(0,i.setARIAContainer)(e||T.mainWindow.document.body)}(m.ariaContainerElement),(0,R.setHoverDelegateFactory)((e,t)=>o.createInstance(N.WorkbenchHoverDelegate,e,t,{})),(0,O.setBaseLayerHoverDelegate)(l)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let o="DYNAMIC_"+ ++F,n=p.ContextKeyExpr.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(o,e,t,n),o}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),o.Disposable.None;let t=e.id,i=e.label,n=p.ContextKeyExpr.and(p.ContextKeyExpr.equals("editorId",this.getId()),p.ContextKeyExpr.deserialize(e.precondition)),r=e.keybindings,a=p.ContextKeyExpr.and(n,p.ContextKeyExpr.deserialize(e.keybindingContext)),l=e.contextMenuGroupId||null,u=e.contextMenuOrder||0,h=(t,...i)=>Promise.resolve(e.run(this,...i)),g=new o.DisposableStore,m=this.getId()+":"+t;if(g.add(c.CommandsRegistry.registerCommand(m,h)),l&&g.add(d.MenuRegistry.appendMenuItem(d.MenuId.EditorContext,{command:{id:m,title:i},when:n,group:l,order:u})),Array.isArray(r))for(let e of r)g.add(this._standaloneKeybindingService.addDynamicKeybinding(m,e,h,a));let _=new s.InternalEditorAction(m,i,i,void 0,n,(...t)=>Promise.resolve(e.run(this,...t)),this._contextKeyService);return this._actions.set(t,_),g.add((0,o.toDisposable)(()=>{this._actions.delete(t)})),g}_triggerCommand(e,t){if(this._codeEditorService instanceof x.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};W=(0,t.__decorate)([(0,t.__param)(2,_.IInstantiationService),(0,t.__param)(3,n.ICodeEditorService),(0,t.__param)(4,u.ICommandService),(0,t.__param)(5,g.IContextKeyService),(0,t.__param)(6,P.IHoverService),(0,t.__param)(7,f.IKeybindingService),(0,t.__param)(8,v.IThemeService),(0,t.__param)(9,y.INotificationService),(0,t.__param)(10,C.IAccessibilityService),(0,t.__param)(11,k.ILanguageConfigurationService),(0,t.__param)(12,A.ILanguageFeaturesService)],W);let z=class extends W{constructor(e,t,i,o,n,r,s,l,d,c,u,h,p,g,m,_){let f;const y={...t};(0,a.updateConfigurationService)(u,y,!1);const v=d.registerEditorContainer(e);"string"==typeof y.theme&&d.setTheme(y.theme),void 0!==y.autoDetectHighContrast&&d.setAutoDetectHighContrast(!!y.autoDetectHighContrast);const C=y.model;if(delete y.model,super(e,y,i,o,n,r,s,l,d,c,h,m,_),this._configurationService=u,this._standaloneThemeService=d,this._register(v),void 0===C){const e=g.getLanguageIdByMimeType(y.language)||y.language||D.PLAINTEXT_LANGUAGE_ID;f=B(p,g,y.value||"",e,void 0),this._ownsModel=!0}else f=C,this._ownsModel=!1;if(this._attachModel(f),f){const e={oldModelUrl:null,newModelUrl:f.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){(0,a.updateConfigurationService)(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};z=(0,t.__decorate)([(0,t.__param)(2,_.IInstantiationService),(0,t.__param)(3,n.ICodeEditorService),(0,t.__param)(4,u.ICommandService),(0,t.__param)(5,g.IContextKeyService),(0,t.__param)(6,P.IHoverService),(0,t.__param)(7,f.IKeybindingService),(0,t.__param)(8,l.IStandaloneThemeService),(0,t.__param)(9,y.INotificationService),(0,t.__param)(10,h.IConfigurationService),(0,t.__param)(11,C.IAccessibilityService),(0,t.__param)(12,E.IModelService),(0,t.__param)(13,I.ILanguageService),(0,t.__param)(14,k.ILanguageConfigurationService),(0,t.__param)(15,A.ILanguageFeaturesService)],z);let V=class extends M.DiffEditorWidget{constructor(e,t,i,o,n,r,s,l,d,c,u,h){const p={...t};(0,a.updateConfigurationService)(l,p,!0);const g=r.registerEditorContainer(e);"string"==typeof p.theme&&r.setTheme(p.theme),void 0!==p.autoDetectHighContrast&&r.setAutoDetectHighContrast(!!p.autoDetectHighContrast),super(e,p,{isStandaloneEditor:!0},o,i,n,h,c),this._configurationService=l,this._standaloneThemeService=r,this._register(g)}dispose(){super.dispose()}updateOptions(e){(0,a.updateConfigurationService)(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(W,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function B(e,t,i,o,n){if(i=i||"",!o){let o=i.indexOf("\n"),r=i;return -1!==o&&(r=i.substring(0,o)),H(e,i,t.createByFilepathOrFirstLine(n||null,r),n)}return H(e,i,t.createById(o),n)}function H(e,t,i,o){return e.createModel(t,i,o)}V=(0,t.__decorate)([(0,t.__param)(2,_.IInstantiationService),(0,t.__param)(3,g.IContextKeyService),(0,t.__param)(4,n.ICodeEditorService),(0,t.__param)(5,l.IStandaloneThemeService),(0,t.__param)(6,y.INotificationService),(0,t.__param)(7,h.IConfigurationService),(0,t.__param)(8,m.IContextMenuService),(0,t.__param)(9,w.IEditorProgressService),(0,t.__param)(10,S.IClipboardService),(0,t.__param)(11,L.IAccessibilitySignalService)],V),e.s(["StandaloneCodeEditor",()=>W,"StandaloneDiffEditor2",()=>V,"StandaloneEditor",()=>z,"createTextModel",()=>B])},240043,147031,e=>{"use strict";var t,i,o,n,r=e.i(68858),s=e.i(760837),a=e.i(394839),l=e.i(371305),d=e.i(450332),c=e.i(839435),u=e.i(292473),h=e.i(857798),p=e.i(309187),g=e.i(747053),m=e.i(475424),_=e.i(91418),f=e.i(236924),y=e.i(279691),v=e.i(490582),C=e.i(224961),b=e.i(116185);class S{static _handleEolEdits(e,t){let i,o=[];for(let e of t)"number"==typeof e.eol&&(i=e.eol),e.range&&"string"==typeof e.text&&o.push(e);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),o}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;let i=e.getModel(),o=i.validateRange(t.range);return i.getFullModelRange().equalsRange(o)}static execute(e,t,i){i&&e.pushUndoStop();let o=b.StableEditorScrollState.capture(e),n=S._handleEolEdits(e,t);1===n.length&&S._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map(e=>C.EditOperation.replace(m.Range.lift(e.range),e.text))):e.executeEdits("formatEditsCommand",n.map(e=>C.EditOperation.replaceMove(m.Range.lift(e.range),e.text))),i&&e.pushUndoStop(),o.restoreRelativeVerticalPositionOfCursor(e)}}e.s(["FormattingEdit",()=>S],147031);var w=e.i(785310),E=e.i(883333),I=e.i(693655),x=e.i(544421),D=e.i(322549),k=e.i(450569),A=e.i(886202);function M(e,t,i){let o=[],n=new E.ExtensionIdentifierSet;for(let t of e.ordered(i))o.push(t),t.extensionId&&n.add(t.extensionId);for(let e of t.ordered(i)){if(e.extensionId){if(n.has(e.extensionId))continue;n.add(e.extensionId)}o.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:(t,i,o)=>e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),i,o)})}return o}(t=o||(o={}))[t.File=1]="File",t[t.Selection=2]="Selection",(i=n||(n={}))[i.Explicit=1]="Explicit",i[i.Silent=2]="Silent";class L{static{this._selectors=new d.LinkedList}static setFormatterSelector(e){return{dispose:L._selectors.unshift(e)}}static async select(e,t,i,o){if(0===e.length)return;let n=l.Iterable.first(L._selectors);if(n)return await n(e,t,i,o)}}async function T(e,t,i,n,r,s,a){let l=e.get(I.IInstantiationService),{documentRangeFormattingEditProvider:d}=e.get(x.ILanguageFeaturesService),c=(0,p.isCodeEditor)(t)?t.getModel():t,u=d.ordered(c),h=await L.select(u,c,n,o.Selection);h&&(r.report(h),await l.invokeFunction(R,h,t,i,s,a))}async function R(e,t,i,o,n,s){let a,l,d=e.get(y.IEditorWorkerService),c=e.get(D.ILogService),u=e.get(A.IAccessibilitySignalService);(0,p.isCodeEditor)(i)?(a=i.getModel(),l=new h.EditorStateCancellationTokenSource(i,h.CodeEditorStateFlag.Value|h.CodeEditorStateFlag.Position,void 0,n)):(a=i,l=new h.TextModelCancellationTokenSource(i,n));let g=[],v=0;for(let e of(0,r.asArray)(o).sort(m.Range.compareRangesUsingStarts))v>0&&m.Range.areIntersectingOrTouching(g[v-1],e)?g[v-1]=m.Range.fromPositions(g[v-1].getStartPosition(),e.getEndPosition()):v=g.push(e);let C=async e=>{c.trace("[format][provideDocumentRangeFormattingEdits] (request)",t.extensionId?.value,e);let i=await t.provideDocumentRangeFormattingEdits(a,e,a.getFormattingOptions(),l.token)||[];return c.trace("[format][provideDocumentRangeFormattingEdits] (response)",t.extensionId?.value,i),i},b=(e,t)=>{if(!e.length||!t.length)return!1;let i=e.reduce((e,t)=>m.Range.plusRange(e,t.range),e[0].range);if(!t.some(e=>m.Range.intersectRanges(i,e.range)))return!1;for(let i of e)for(let e of t)if(m.Range.intersectRanges(i.range,e.range))return!0;return!1},w=[],E=[];try{if("function"==typeof t.provideDocumentRangesFormattingEdits){c.trace("[format][provideDocumentRangeFormattingEdits] (request)",t.extensionId?.value,g);let e=await t.provideDocumentRangesFormattingEdits(a,g,a.getFormattingOptions(),l.token)||[];c.trace("[format][provideDocumentRangeFormattingEdits] (response)",t.extensionId?.value,e),E.push(e)}else{for(let e of g){if(l.token.isCancellationRequested)return!0;E.push(await C(e))}for(let e=0;e<g.length;++e)for(let t=e+1;t<g.length;++t){if(l.token.isCancellationRequested)return!0;if(b(E[e],E[t])){let i=m.Range.plusRange(g[e],g[t]),o=await C(i);g.splice(t,1),g.splice(e,1),g.push(i),E.splice(t,1),E.splice(e,1),E.push(o),e=0,t=0}}}for(let e of E){if(l.token.isCancellationRequested)return!0;let t=await d.computeMoreMinimalEdits(a.uri,e);t&&w.push(...t)}}finally{l.dispose()}if(0===w.length)return!1;if((0,p.isCodeEditor)(i))S.execute(i,w,!0),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),f.ScrollType.Immediate);else{let[{range:e}]=w,t=new _.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);a.pushEditOperations([t],w.map(e=>({text:e.text,range:m.Range.lift(e.range),forceMoveMarkers:!0})),e=>{for(let{range:i}of e)if(m.Range.areIntersectingOrTouching(i,t))return[new _.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return u.playSignal(k.AccessibilitySignal.format,{userGesture:s}),!0}async function N(e,t,i,n,r,s){let a=e.get(I.IInstantiationService),l=e.get(x.ILanguageFeaturesService),d=(0,p.isCodeEditor)(t)?t.getModel():t,c=M(l.documentFormattingEditProvider,l.documentRangeFormattingEditProvider,d),u=await L.select(c,d,i,o.File);u&&(n.report(u),await a.invokeFunction(P,u,t,i,r,s))}async function P(e,t,i,o,r,s){let a,l,d,c=e.get(y.IEditorWorkerService),u=e.get(A.IAccessibilitySignalService);(0,p.isCodeEditor)(i)?(a=i.getModel(),l=new h.EditorStateCancellationTokenSource(i,h.CodeEditorStateFlag.Value|h.CodeEditorStateFlag.Position,void 0,r)):(a=i,l=new h.TextModelCancellationTokenSource(i,r));try{let e=await t.provideDocumentFormattingEdits(a,a.getFormattingOptions(),l.token);if(d=await c.computeMoreMinimalEdits(a.uri,e),l.token.isCancellationRequested)return!0}finally{l.dispose()}if(!d||0===d.length)return!1;if((0,p.isCodeEditor)(i))S.execute(i,d,o!==n.Silent),o!==n.Silent&&i.revealPositionInCenterIfOutsideViewport(i.getPosition(),f.ScrollType.Immediate);else{let[{range:e}]=d,t=new _.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);a.pushEditOperations([t],d.map(e=>({text:e.text,range:m.Range.lift(e.range),forceMoveMarkers:!0})),e=>{for(let{range:i}of e)if(m.Range.areIntersectingOrTouching(i,t))return[new _.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return u.playSignal(k.AccessibilitySignal.format,{userGesture:s}),!0}async function O(e,t,i,o,n,s){for(let l of t.documentRangeFormattingEditProvider.ordered(i)){let t=await Promise.resolve(l.provideDocumentRangeFormattingEdits(i,o,n,s)).catch(a.onUnexpectedExternalError);if((0,r.isNonEmptyArray)(t))return await e.computeMoreMinimalEdits(i.uri,t)}}async function F(e,t,i,o,n){for(let s of M(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,i)){let t=await Promise.resolve(s.provideDocumentFormattingEdits(i,o,n)).catch(a.onUnexpectedExternalError);if((0,r.isNonEmptyArray)(t))return await e.computeMoreMinimalEdits(i.uri,t)}}function K(e,t,i,o,n,r,s){let l=t.onTypeFormattingEditProvider.ordered(i);return 0===l.length||0>l[0].autoFormatTriggerCharacters.indexOf(n)?Promise.resolve(void 0):Promise.resolve(l[0].provideOnTypeFormattingEdits(i,o,n,r,s)).catch(a.onUnexpectedExternalError).then(t=>e.computeMoreMinimalEdits(i.uri,t))}w.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(e,...t){let[i,o,n]=t;(0,c.assertType)(u.URI.isUri(i)),(0,c.assertType)(m.Range.isIRange(o));let r=e.get(v.ITextModelService),a=e.get(y.IEditorWorkerService),l=e.get(x.ILanguageFeaturesService),d=await r.createModelReference(i);try{return O(a,l,d.object.textEditorModel,m.Range.lift(o),n,s.CancellationToken.None)}finally{d.dispose()}}),w.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(e,...t){let[i,o]=t;(0,c.assertType)(u.URI.isUri(i));let n=e.get(v.ITextModelService),r=e.get(y.IEditorWorkerService),a=e.get(x.ILanguageFeaturesService),l=await n.createModelReference(i);try{return F(r,a,l.object.textEditorModel,o,s.CancellationToken.None)}finally{l.dispose()}}),w.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(e,...t){let[i,o,n,r]=t;(0,c.assertType)(u.URI.isUri(i)),(0,c.assertType)(g.Position.isIPosition(o)),(0,c.assertType)("string"==typeof n);let a=e.get(v.ITextModelService),l=e.get(y.IEditorWorkerService),d=e.get(x.ILanguageFeaturesService),h=await a.createModelReference(i);try{return K(l,d,h.object.textEditorModel,g.Position.lift(o),n,r,s.CancellationToken.None)}finally{h.dispose()}}),e.s(["FormattingConflicts",()=>L,"FormattingKind",()=>o,"FormattingMode",()=>n,"formatDocumentRangesWithProvider",()=>R,"formatDocumentRangesWithSelectedProvider",()=>T,"formatDocumentWithProvider",()=>P,"formatDocumentWithSelectedProvider",()=>N,"getOnTypeFormattingEdits",()=>K,"getRealAndSyntheticDocumentFormattersOrdered",()=>M],240043)},364359,e=>{"use strict";var t=e.i(145384),i=e.i(645304),o=e.i(547158);class n{get regions(){return this._regions}get textModel(){return this._textModel}get decorationProvider(){return this._decorationProvider}constructor(e,o){this._updateEventEmitter=new t.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=o,this._regions=new i.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((e,t)=>e.regionIndex-t.regionIndex);let t={};this._decorationProvider.changeDecorations(o=>{let n=0,r=-1,s=-1,a=e=>{for(;n<e;){let e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);if(e<=r){let r=this.regions.getSource(n)!==i.FoldSource.provider;o.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=s,r))}t&&e>s&&(s=e),n++}};for(let i of e){let e=i.regionIndex,o=this._editorDecorationIds[e];if(o&&!t[o]){t[o]=!0,a(e);let i=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,i),r=Math.max(r,this._regions.getEndLineNumber(e))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){let t=[],o=t=>{for(let i of e)if(!(i.startLineNumber>t.endLineNumber||t.startLineNumber>i.endLineNumber))return!0;return!1};for(let e=0;e<this._regions.length;e++){let n=this._regions.toFoldRange(e);n.source!==i.FoldSource.provider&&o(n)||t.push(n)}this.updatePost(i.FoldingRegions.fromFoldRanges(t))}update(e,t){let o=this._currentFoldedOrManualRanges(t),n=i.FoldingRegions.sanitizeAndMerge(e,o,this._textModel.getLineCount(),t);this.updatePost(i.FoldingRegions.fromFoldRanges(n))}updatePost(e){let t=[],o=-1;for(let n=0,r=e.length;n<r;n++){let r=e.getStartLineNumber(n),s=e.getEndLineNumber(n),a=e.isCollapsed(n),l=e.getSource(n)!==i.FoldSource.provider,d={startLineNumber:r,startColumn:this._textModel.getLineMaxColumn(r),endLineNumber:s,endColumn:this._textModel.getLineMaxColumn(s)+1};t.push({range:d,options:this._decorationProvider.getDecorationOption(a,s<=o,l)}),a&&s>o&&(o=s)}this._decorationProvider.changeDecorations(e=>this._editorDecorationIds=e.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e){let t=[];for(let o=0,n=this._regions.length;o<n;o++){let n=this.regions.isCollapsed(o),r=this.regions.getSource(o);if(n||r!==i.FoldSource.provider){let i=this._regions.toFoldRange(o),s=this._textModel.getDecorationRange(this._editorDecorationIds[o]);s&&(n&&e?.startsInside(s.startLineNumber+1,s.endLineNumber)&&(n=!1),t.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:i.type,isCollapsed:n,source:r}))}}return t}getMemento(){let e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let o=0,n=e.length;o<n;o++){let n=e[o];if(n.startLineNumber>=n.endLineNumber||n.startLineNumber<1||n.endLineNumber>i)continue;let r=this._getLinesChecksum(n.startLineNumber+1,n.endLineNumber);t.push({startLineNumber:n.startLineNumber,endLineNumber:n.endLineNumber,isCollapsed:n.isCollapsed,source:n.source,checksum:r})}return t.length>0?t:void 0}applyMemento(e){if(!Array.isArray(e))return;let t=[],o=this._textModel.getLineCount();for(let n of e){if(n.startLineNumber>=n.endLineNumber||n.startLineNumber<1||n.endLineNumber>o)continue;let e=this._getLinesChecksum(n.startLineNumber+1,n.endLineNumber);n.checksum&&e!==n.checksum||t.push({startLineNumber:n.startLineNumber,endLineNumber:n.endLineNumber,type:void 0,isCollapsed:n.isCollapsed??!0,source:n.source??i.FoldSource.provider})}let n=i.FoldingRegions.sanitizeAndMerge(this._regions,t,o);this.updatePost(i.FoldingRegions.fromFoldRanges(n))}_getLinesChecksum(e,t){return(0,o.hash)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let o=this._regions.findRange(e),n=1;for(;o>=0;){let e=this._regions.toRegion(o);(!t||t(e,n))&&i.push(e),n++,o=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],o=e?e.regionIndex+1:0,n=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){let e=[];for(let r=o,s=this._regions.length;r<s;r++){let o=this._regions.toRegion(r);if(this._regions.getStartLineNumber(r)<n){for(;e.length>0&&!o.containedBy(e[e.length-1]);)e.pop();e.push(o),t(o,e.length)&&i.push(o)}else break}}else for(let e=o,r=this._regions.length;e<r;e++){let o=this._regions.toRegion(e);if(this._regions.getStartLineNumber(e)<n)(!t||t(o))&&i.push(o);else break}return i}}function r(e,t,i){let o=[];for(let n of i){let i=e.getRegionAtLine(n);if(i){let n=!i.isCollapsed;if(o.push(i),t>1){let r=e.getRegionsInside(i,(e,i)=>e.isCollapsed!==n&&i<t);o.push(...r)}}}e.toggleCollapseState(o)}function s(e,t,i=Number.MAX_VALUE,o){let n=[];if(o&&o.length>0)for(let r of o){let o=e.getRegionAtLine(r);if(o&&(o.isCollapsed!==t&&n.push(o),i>1)){let r=e.getRegionsInside(o,(e,o)=>e.isCollapsed!==t&&o<i);n.push(...r)}}else{let o=e.getRegionsInside(null,(e,o)=>e.isCollapsed!==t&&o<i);n.push(...o)}e.toggleCollapseState(n)}function a(e,t,i,o){let n=[];for(let r of o){let o=e.getAllRegionsAtLine(r,(e,o)=>e.isCollapsed!==t&&o<=i);n.push(...o)}e.toggleCollapseState(n)}function l(e,t,i){let o=[];for(let n of i){let i=e.getAllRegionsAtLine(n,e=>e.isCollapsed!==t);i.length>0&&o.push(i[0])}e.toggleCollapseState(o)}function d(e,t,i,o){let n=e.getRegionsInside(null,(e,n)=>n===t&&e.isCollapsed!==i&&!o.some(t=>e.containsLine(t)));e.toggleCollapseState(n)}function c(e,t,i){let o=[];for(let t of i){let i=e.getAllRegionsAtLine(t,void 0);i.length>0&&o.push(i[0])}let n=e.getRegionsInside(null,e=>o.every(t=>!t.containedBy(e)&&!e.containedBy(t))&&e.isCollapsed!==t);e.toggleCollapseState(n)}function u(e,t,i){let o=e.textModel,n=e.regions,r=[];for(let e=n.length-1;e>=0;e--)if(i!==n.isCollapsed(e)){let i=n.getStartLineNumber(e);t.test(o.getLineContent(i))&&r.push(n.toRegion(e))}e.toggleCollapseState(r)}function h(e,t,i){let o=e.regions,n=[];for(let e=o.length-1;e>=0;e--)i!==o.isCollapsed(e)&&t===o.getType(e)&&n.push(o.toRegion(e));e.toggleCollapseState(n)}function p(e,t){let i=null,o=t.getRegionAtLine(e);if(null!==o&&e===(i=o.startLineNumber)){let e=o.parentIndex;i=-1!==e?t.regions.getStartLineNumber(e):null}return i}function g(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e)if(e!==i.startLineNumber)return i.startLineNumber;else{let e=i.parentIndex,o=0;for(-1!==e&&(o=t.regions.getStartLineNumber(i.parentIndex));null!==i;)if(i.regionIndex>0){if((i=t.regions.toRegion(i.regionIndex-1)).startLineNumber<=o)break;if(i.parentIndex===e)return i.startLineNumber}else break}else if(t.regions.length>0)for(i=t.regions.toRegion(t.regions.length-1);null!==i;){if(i.startLineNumber<e)return i.startLineNumber;i=i.regionIndex>0?t.regions.toRegion(i.regionIndex-1):null}return null}function m(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){let e=i.parentIndex,o=0;if(-1!==e)o=t.regions.getEndLineNumber(i.parentIndex);else{if(0===t.regions.length)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==i;)if(i.regionIndex<t.regions.length){if((i=t.regions.toRegion(i.regionIndex+1)).startLineNumber>=o)break;if(i.parentIndex===e)return i.startLineNumber}else break}else if(t.regions.length>0)for(i=t.regions.toRegion(0);null!==i;){if(i.startLineNumber>e)return i.startLineNumber;i=i.regionIndex<t.regions.length?t.regions.toRegion(i.regionIndex+1):null}return null}e.s(["FoldingModel",()=>n,"getNextFoldLine",()=>m,"getParentFoldLine",()=>p,"getPreviousFoldLine",()=>g,"setCollapseStateAtLevel",()=>d,"setCollapseStateForMatchingLines",()=>u,"setCollapseStateForRest",()=>c,"setCollapseStateForType",()=>h,"setCollapseStateLevelsDown",()=>s,"setCollapseStateLevelsUp",()=>a,"setCollapseStateUp",()=>l,"toggleCollapseState",()=>r])},68363,e=>{"use strict";(0,e.i(521549).default)('.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded{align-items:center;cursor:pointer;display:flex;font-size:140%;justify-content:center;margin-left:2px;opacity:0;transition:opacity .5s}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded{transition:initial}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:var(--vscode-editor-foldPlaceholderForeground);content:"\\22EF";cursor:pointer;display:inline;line-height:1em;margin:.1em .2em 0}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded{color:var(--vscode-editorGutter-foldingControlForeground)!important}',{}),e.s([])},645304,482999,591563,e=>{"use strict";(r=s||(s={}))[r.provider=0]="provider",r[r.userDefined=1]="userDefined",r[r.recovered=2]="recovered";let t={[s.provider]:" ",[s.userDefined]:"u",[s.recovered]:"r"};class i{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){return(this._states[e/32|0]&1<<e%32)!=0}set(e,t){let i=e/32|0,o=e%32,n=this._states[i];t?this._states[i]=n|1<<o:this._states[i]=n&~(1<<o)}}class o{constructor(e,t,o){if(e.length!==t.length||e.length>65535)throw Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new i(e.length),this._userDefinedStates=new i(e.length),this._recoveredStates=new i(e.length),this._types=o,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,i)=>{let o=e[e.length-1];return this.getStartLineNumber(o)<=t&&this.getEndLineNumber(o)>=i};for(let i=0,o=this._startIndexes.length;i<o;i++){let o=this._startIndexes[i],n=this._endIndexes[i];if(o>0xffffff||n>0xffffff)throw Error("startLineNumber or endLineNumber must not exceed 16777215");for(;e.length>0&&!t(o,n);)e.pop();let r=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((255&r)<<24),this._endIndexes[i]=n+((65280&r)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return 0xffffff&this._startIndexes[e]}getEndLineNumber(e){return 0xffffff&this._endIndexes[e]}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?s.userDefined:this.isRecovered(e)?s.recovered:s.provider}setSource(e,t){t===s.userDefined?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===s.recovered?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===e&&(this.setCollapsed(o,t),i=!0);return i}toRegion(e){return new n(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((0xff000000&this._startIndexes[e])>>>24)+((0xff000000&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return -1;for(;t<i;){let o=Math.floor((t+i)/2);e<this.getStartLineNumber(o)?i=o:t=o+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return -1}toString(){let e=[];for(let i=0;i<this.length;i++)e[i]=`[${t[this.getSource(i)]}${this.isCollapsed(i)?"+":"-"}] ${this.getStartLineNumber(i)}/${this.getEndLineNumber(i)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:0xffffff&this._startIndexes[e],endLineNumber:0xffffff&this._endIndexes[e],type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){let t=e.length,i=new Uint32Array(t),n=new Uint32Array(t),r=[],s=!1;for(let o=0;o<t;o++){let t=e[o];i[o]=t.startLineNumber,n[o]=t.endLineNumber,r.push(t.type),t.type&&(s=!0)}s||(r=void 0);let a=new o(i,n,r);for(let i=0;i<t;i++)e[i].isCollapsed&&a.setCollapsed(i,!0),a.setSource(i,e[i].source);return a}static sanitizeAndMerge(e,t,i,o){let n;i=i??Number.MAX_VALUE;let r=(e,t)=>Array.isArray(e)?i=>i<t?e[i]:void 0:i=>i<t?e.toFoldRange(i):void 0,a=r(e,e.length),l=r(t,t.length),d=0,c=0,u=a(0),h=l(0),p=[],g=0,m=[];for(;u||h;){let e;if(h&&(!u||u.startLineNumber>=h.startLineNumber))u&&u.startLineNumber===h.startLineNumber?(h.source===s.userDefined?e=h:((e=u).isCollapsed=h.isCollapsed&&(u.endLineNumber===h.endLineNumber||!o?.startsInside(u.startLineNumber+1,u.endLineNumber+1)),e.source=s.provider),u=a(++d)):(e=h,h.isCollapsed&&h.source===s.provider&&(e.source=s.recovered)),h=l(++c);else{let t=c,i=h;for(;;){if(!i||i.startLineNumber>u.endLineNumber){e=u;break}if(i.source===s.userDefined&&i.endLineNumber>u.endLineNumber)break;i=l(++t)}u=a(++d)}if(e){for(;n&&n.endLineNumber<e.startLineNumber;)n=p.pop();e.endLineNumber>e.startLineNumber&&e.startLineNumber>g&&e.endLineNumber<=i&&(!n||n.endLineNumber>=e.endLineNumber)&&(m.push(e),g=e.startLineNumber,n&&p.push(n),n=e)}}return m}}class n{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}hidesLine(e){return this.startLineNumber<e&&e<=this.endLineNumber}}e.s(["FoldSource",()=>s,"FoldingRegions",()=>o,"MAX_LINE_NUMBER",()=>0xffffff],645304);var r,s,a=e.i(304729),l=e.i(13310),d=e.i(341541),c=e.i(383962),u=e.i(945588),h=e.i(786480);e.i(184765);var p=e.i(537397);e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var g=e.i(358764),m=e.i(307955),_=e.i(610620);let f=(0,u.registerColor)("editor.foldBackground",{light:(0,u.transparent)(p.editorSelectionBackground,.3),dark:(0,u.transparent)(p.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,c.localize)(1017,"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,u.registerColor)("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},(0,c.localize)(1018,"Color of the collapsed text after the first line of a folded range.")),(0,u.registerColor)("editorGutter.foldingControlForeground",h.iconForeground,(0,c.localize)(1019,"Color of the folding control in the editor gutter."));let y=(0,g.registerIcon)("folding-expanded",a.Codicon.chevronDown,(0,c.localize)(1020,"Icon for expanded ranges in the editor glyph margin.")),v=(0,g.registerIcon)("folding-collapsed",a.Codicon.chevronRight,(0,c.localize)(1021,"Icon for collapsed ranges in the editor glyph margin.")),C=(0,g.registerIcon)("folding-manual-collapsed",v,(0,c.localize)(1022,"Icon for manually collapsed ranges in the editor glyph margin.")),b=(0,g.registerIcon)("folding-manual-expanded",y,(0,c.localize)(1023,"Icon for manually expanded ranges in the editor glyph margin.")),S={color:(0,m.themeColorFromId)(f),position:l.MinimapPosition.Inline},w=(0,c.localize)(1024,"Click to expand the range."),E=(0,c.localize)(1025,"Click to collapse the range.");class I{static{this.COLLAPSED_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:w,firstLineDecorationClassName:_.ThemeIcon.asClassName(v)})}static{this.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",className:"folded-background",minimap:S,isWholeLine:!0,linesDecorationsTooltip:w,firstLineDecorationClassName:_.ThemeIcon.asClassName(v)})}static{this.MANUALLY_COLLAPSED_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:w,firstLineDecorationClassName:_.ThemeIcon.asClassName(C)})}static{this.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",className:"folded-background",minimap:S,isWholeLine:!0,linesDecorationsTooltip:w,firstLineDecorationClassName:_.ThemeIcon.asClassName(C)})}static{this.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=d.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:w})}static{this.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=d.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",className:"folded-background",minimap:S,isWholeLine:!0,linesDecorationsTooltip:w})}static{this.EXPANDED_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+_.ThemeIcon.asClassName(y),linesDecorationsTooltip:E})}static{this.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:_.ThemeIcon.asClassName(y),linesDecorationsTooltip:E})}static{this.MANUALLY_EXPANDED_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+_.ThemeIcon.asClassName(b),linesDecorationsTooltip:E})}static{this.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=d.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,isWholeLine:!0,firstLineDecorationClassName:_.ThemeIcon.asClassName(b),linesDecorationsTooltip:E})}static{this.NO_CONTROLS_EXPANDED_RANGE_DECORATION=d.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:l.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,isWholeLine:!0})}static{this.HIDDEN_RANGE_DECORATION=d.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges})}constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?I.HIDDEN_RANGE_DECORATION:"never"===this.showFoldingControls?e?this.showFoldingHighlights?I.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:I.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:I.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?I.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:I.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?I.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:I.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?i?I.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:I.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?I.MANUALLY_EXPANDED_VISUAL_DECORATION:I.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}e.s(["FoldingDecorationProvider",()=>I,"foldingCollapsedIcon",()=>v,"foldingExpandedIcon",()=>y],482999);var x=e.i(394839),D=e.i(436120);let k={};class A{constructor(e,t,i,o,n){for(const r of(this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=o,this.fallbackRangeProvider=n,this.id="syntax",this.disposables=new D.DisposableStore,n&&this.disposables.add(n),t))"function"==typeof r.onDidChange&&this.disposables.add(r.onDidChange(i))}compute(e){var t,i,o;let n;return(t=this.providers,i=this.editorModel,o=e,n=null,Promise.all(t.map((e,t)=>Promise.resolve(e.provideFoldingRanges(i,k,o)).then(e=>{if(!o.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);let o=i.getLineCount();for(let i of e)i.start>0&&i.end>i.start&&i.end<=o&&n.push({start:i.start,end:i.end,rank:t,kind:i.kind})}},x.onUnexpectedExternalError))).then(e=>n)).then(t=>t?L(t,this.foldingRangesLimit):this.fallbackRangeProvider?.compute(e)??null)}dispose(){this.disposables.dispose()}}class M{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,o){if(e>0xffffff||t>0xffffff)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._nestingLevels[n]=o,this._types[n]=i,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){let e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new o(e,t,this._types)}{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let o=0;o<this._nestingLevelCounts.length;o++){let n=this._nestingLevelCounts[o];if(n){if(n+t>e){i=o;break}t+=n}}let n=new Uint32Array(e),r=new Uint32Array(e),s=[];for(let o=0,a=0;o<this._length;o++){let l=this._nestingLevels[o];(l<i||l===i&&t++<e)&&(n[a]=this._startIndexes[o],r[a]=this._endIndexes[o],s[a]=this._types[o],a++)}return new o(n,r,s)}}}function L(e,t){let i,o=e.sort((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i}),n=new M(t),r=[];for(let e of o)if(i){if(e.start>i.start)if(e.end<=i.end)r.push(i),i=e,n.add(e.start,e.end,e.kind&&e.kind.value,r.length);else{if(e.start>i.end){do i=r.pop();while(i&&e.start>i.end)i&&r.push(i),i=e}n.add(e.start,e.end,e.kind&&e.kind.value,r.length)}}else i=e,n.add(e.start,e.end,e.kind&&e.kind.value,r.length);return n.toIndentRanges()}e.s(["SyntaxRangeProvider",()=>A,"sanitizeRanges",()=>L],591563)},64803,479213,e=>{"use strict";var t,i=e.i(308165),o=e.i(395806),n=e.i(760837),r=e.i(394839),s=e.i(332217),a=e.i(436120),l=e.i(448493),d=e.i(839435);e.i(68363);var c=e.i(116185),u=e.i(309187),h=e.i(710252),p=e.i(918299),g=e.i(236924),m=e.i(716526),_=e.i(418964),f=e.i(720274),y=e.i(364359),v=e.i(374267),C=e.i(145384),b=e.i(475424),S=e.i(137630);class w{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new C.Emitter,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(e=>e.range.endLineNumber!==e.range.startLineNumber||0!==(0,S.countEOL)(e.text)[0]))}updateHiddenRanges(){let e=!1,t=[],i=0,o=0,n=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;for(;i<s.length;i++){if(!s.isCollapsed(i))continue;let a=s.getStartLineNumber(i)+1,l=s.getEndLineNumber(i);n<=a&&l<=r||(!e&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===a&&this._hiddenRanges[o].endLineNumber===l?(t.push(this._hiddenRanges[o]),o++):(e=!0,t.push(new b.Range(a,1,l,1))),n=a,r=l)}(this._hasLineChanges||e||o<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==E(this._hiddenRanges,e)}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,o=null,n=e=>{var t,i;return(o&&(t=e)>=(i=o).startLineNumber&&t<=i.endLineNumber||(o=E(this._hiddenRanges,e)),o)?o.startLineNumber-1:null};for(let o=0,r=e.length;o<r;o++){let r=e[o],s=n(r.startLineNumber);s&&(r=r.setStartPosition(s,i.getLineMaxColumn(s)),t=!0);let a=n(r.endLineNumber);a&&(r=r.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[o]=r}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function E(e,t){let i=(0,v.findFirstIdxMonotonousOrArrLen)(e,e=>t<e.startLineNumber)-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}var I=e.i(89500),x=e.i(645304);class D{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id="indent"}dispose(){}compute(e){let t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,o=t&&t.markers;return Promise.resolve(function(e,t,i,o=A){let n,r=e.getOptions().tabSize,s=new k(o);i&&(n=RegExp(`(${i.start.source})|(?:${i.end.source})`));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let i=e.getLineCount();i>0;i--){let o,l=e.getLineContent(i),d=(0,I.computeIndentLevel)(l,r),c=a[a.length-1];if(-1===d){t&&(c.endAbove=i);continue}if(n&&(o=l.match(n)))if(o[1]){let e=a.length-1;for(;e>0&&-2!==a[e].indent;)e--;if(e>0){a.length=e+1,c=a[e],s.insertFirst(i,c.line,d),c.line=i,c.indent=d,c.endAbove=i;continue}}else{a.push({indent:-2,endAbove:i,line:i});continue}if(c.indent>d){do a.pop(),c=a[a.length-1];while(c.indent>d)let e=c.endAbove-1;e-i>=1&&s.insertFirst(i,e,d)}c.indent===d?c.endAbove=i:a.push({indent:d,endAbove:i,line:i})}return s.toIndentRanges(e)}(this.editorModel,i,o,this.foldingRangesLimit))}}class k{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>x.MAX_LINE_NUMBER||t>x.MAX_LINE_NUMBER)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){let t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,o=0;i>=0;i--,o++)e[o]=this._startIndexes[i],t[o]=this._endIndexes[i];return new x.FoldingRegions(e,t)}{this._foldingRangesLimit.update(this._length,t);let i=0,o=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let n=this._indentOccurrences[e];if(n){if(n+i>t){o=e;break}i+=n}}let n=e.getOptions().tabSize,r=new Uint32Array(t),s=new Uint32Array(t);for(let a=this._length-1,l=0;a>=0;a--){let d=this._startIndexes[a],c=e.getLineContent(d),u=(0,I.computeIndentLevel)(c,n);(u<o||u===o&&i++<t)&&(r[l]=d,s[l]=this._endIndexes[a],l++)}return new x.FoldingRegions(r,s)}}}let A={limit:5e3,update:()=>{}};e.s(["IndentRangeProvider",()=>D],479213);var M=e.i(383962),L=e.i(166253),T=e.i(756970),R=e.i(564485),N=e.i(482999),P=e.i(591563),O=e.i(633921),F=e.i(555690),K=e.i(225696),W=e.i(544421),z=e.i(785310),V=e.i(292473),B=e.i(323235),H=e.i(619223);let U=new L.RawContextKey("foldingEnabled",!1),G=class extends a.Disposable{static{t=this}static{this.ID="editor.contrib.folding"}static get(e){return e.getContribution(t.ID)}static getFoldingRangeProviders(e,i){let o=e.foldingRangeProvider.ordered(i);return t._foldingRangeSelector?.(o,i)??o}static setFoldingRangeProviderSelector(e){return t._foldingRangeSelector=e,{dispose:()=>{t._foldingRangeSelector=void 0}}}constructor(e,t,i,o,n,r){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=r,this.localToDispose=this._register(new a.DisposableStore),this.editor=e,this._foldingLimitReporter=new q(e);const s=this.editor.getOptions();this._isEnabled=s.get(p.EditorOption.folding),this._useFoldingProviders="indentation"!==s.get(p.EditorOption.foldingStrategy),this._unfoldOnClickAfterEndOfLine=s.get(p.EditorOption.unfoldOnClickAfterEndOfLine),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=s.get(p.EditorOption.foldingImportsByDefault),this.updateDebounceInfo=n.for(r.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new N.FoldingDecorationProvider(e),this.foldingDecorationProvider.showFoldingControls=s.get(p.EditorOption.showFoldingControls),this.foldingDecorationProvider.showFoldingHighlights=s.get(p.EditorOption.foldingHighlight),this.foldingEnabled=U.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(e=>{if(e.hasChanged(p.EditorOption.folding)&&(this._isEnabled=this.editor.getOptions().get(p.EditorOption.folding),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(p.EditorOption.foldingMaximumRegions)&&this.onModelChanged(),e.hasChanged(p.EditorOption.showFoldingControls)||e.hasChanged(p.EditorOption.foldingHighlight)){let e=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=e.get(p.EditorOption.showFoldingControls),this.foldingDecorationProvider.showFoldingHighlights=e.get(p.EditorOption.foldingHighlight),this.triggerFoldingModelChanged()}e.hasChanged(p.EditorOption.foldingStrategy)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(p.EditorOption.foldingStrategy),this.onFoldingStrategyChanged()),e.hasChanged(p.EditorOption.unfoldOnClickAfterEndOfLine)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(p.EditorOption.unfoldOnClickAfterEndOfLine)),e.hasChanged(p.EditorOption.foldingImportsByDefault)&&(this._foldingImportsByDefault=this.editor.getOptions().get(p.EditorOption.foldingImportsByDefault))})),this.onModelChanged()}get limitReporter(){return this._foldingLimitReporter}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization())&&this.hiddenRangeModel&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new y.FoldingModel(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new w(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(e=>this.onHiddenRangesChanges(e))),this.updateScheduler=new o.Delayer(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new o.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(e=>this.onDidChangeModelContent(e))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler?.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider?.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider?.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;let i=new D(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=i,this._useFoldingProviders&&this.foldingModel){let o=t.getFoldingRangeProviders(this.languageFeaturesService,e);o.length>0&&(this.rangeProvider=new P.SyntaxRangeProvider(e,o,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,i))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){this.hiddenRangeModel?.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let t=new K.StopWatch,i=this.getRangeProvider(e.textModel),n=this.foldingRegionPromise=(0,o.createCancelablePromise)(e=>i.compute(e));return n.then(i=>{if(i&&n===this.foldingRegionPromise){var o;let n;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let e=i.setCollapsedAllOfType(_.FoldingRangeKind.Imports.value,!0);e&&(n=c.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=e)}let r=this.editor.getSelections();e.update(i,(o=r)&&0!==o.length?{startsInside(e,t){for(let i of o){let o=i.startLineNumber;if(o>=e&&o<=t)return!0}return!1}}:{startsInside:()=>!1}),n?.restore(this.editor);let s=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=s)}return e})}).then(void 0,e=>((0,r.onUnexpectedError)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();e&&e.then(e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let i=[];for(let o of t){let t=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,e=>e.isCollapsed&&t>e.startLineNumber))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}}).then(void 0,r.onUnexpectedError)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let t=e.target.range,i=!1;switch(e.target.type){case u.MouseTargetType.GUTTER_LINE_DECORATIONS:{let t=e.target.detail,o=e.target.element.offsetLeft;if(t.offsetX-o<4)return;i=!0;break}case u.MouseTargetType.CONTENT_EMPTY:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case u.MouseTargetType.CONTENT_TEXT:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){let t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,n=e.target.range;if(!n||n.startLineNumber!==i)return;if(o){if(e.target.type!==u.MouseTargetType.GUTTER_LINE_DECORATIONS)return}else{let e=this.editor.getModel();if(!e||n.startColumn!==e.getLineMaxColumn(i))return}let r=t.getRegionAtLine(i);if(r&&r.startLineNumber===i){let n=r.isCollapsed;if(o||n){let o=e.event.altKey,s=[];if(o){let e=t.getRegionsInside(null,e=>!e.containedBy(r)&&!r.containedBy(e));for(let t of e)t.isCollapsed&&s.push(t);0===s.length&&(s=e)}else{let i=e.event.middleButton||e.event.shiftKey;if(i)for(let e of t.getRegionsInside(r))e.isCollapsed===n&&s.push(e);(n||!i||0===s.length)&&s.push(r)}t.toggleCollapseState(s),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,g.ScrollType.Smooth)}};G=t=(0,i.__decorate)([(0,i.__param)(1,T.IContextKeyService),(0,i.__param)(2,f.ILanguageConfigurationService),(0,i.__param)(3,O.INotificationService),(0,i.__param)(4,F.ILanguageFeatureDebounceService),(0,i.__param)(5,W.ILanguageFeaturesService)],G);class q{constructor(e){this.editor=e,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(p.EditorOption.foldingMaximumRegions)}get computed(){return this._computed}get limited(){return this._limited}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}class $ extends h.EditorAction{runEditorCommand(e,t,i){let o=e.get(f.ILanguageConfigurationService),n=G.get(t);if(!n)return;let r=n.getFoldingModel();if(r)return this.reportTelemetry(e,t),r.then(e=>{if(e){this.invoke(n,e,t,i,o);let r=t.getSelection();r&&n.reveal(r.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(e=>e.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(e=>e+1):this.getSelectedLines(t)}run(e,t){}}function j(e){if(!(0,d.isUndefined)(e)&&(!(0,d.isObject)(e)||!(0,d.isUndefined)(e.levels)&&!(0,d.isNumber)(e.levels)||!(0,d.isUndefined)(e.direction)&&!(0,d.isString)(e.direction)||!(0,d.isUndefined)(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(d.isNumber))))return!1;return!0}class Q extends ${static{this.ID_PREFIX="editor.foldLevel"}static{this.ID=e=>Q.ID_PREFIX+e}getFoldingLevel(){return parseInt(this.id.substr(Q.ID_PREFIX.length))}invoke(e,t,i){(0,y.setCollapseStateAtLevel)(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}(0,h.registerEditorContribution)(G.ID,G,h.EditorContributionInstantiation.Eager),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.unfold",label:(0,M.localize2)(997,"Unfold"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:s.KeyMod.CtrlCmd|s.KeyMod.Shift|s.KeyCode.BracketRight,mac:{primary:s.KeyMod.CtrlCmd|s.KeyMod.Alt|s.KeyCode.BracketRight},weight:R.KeybindingWeight.EditorContrib},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:j,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,o){let n=o&&o.levels||1,r=this.getLineNumbers(o,i);o&&"up"===o.direction?(0,y.setCollapseStateLevelsUp)(t,!1,n,r):(0,y.setCollapseStateLevelsDown)(t,!1,n,r)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.unfoldRecursively",label:(0,M.localize2)(998,"Unfold Recursively"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.BracketRight),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i,o){(0,y.setCollapseStateLevelsDown)(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.fold",label:(0,M.localize2)(999,"Fold"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:s.KeyMod.CtrlCmd|s.KeyMod.Shift|s.KeyCode.BracketLeft,mac:{primary:s.KeyMod.CtrlCmd|s.KeyMod.Alt|s.KeyCode.BracketLeft},weight:R.KeybindingWeight.EditorContrib},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:j,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,o){let n=this.getLineNumbers(o,i),r=o&&o.levels,s=o&&o.direction;"number"!=typeof r&&"string"!=typeof s?(0,y.setCollapseStateUp)(t,!0,n):"up"===s?(0,y.setCollapseStateLevelsUp)(t,!0,r||1,n):(0,y.setCollapseStateLevelsDown)(t,!0,r||1,n)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.foldRecursively",label:(0,M.localize2)(1001,"Fold Recursively"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.BracketLeft),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.setCollapseStateLevelsDown)(t,!0,Number.MAX_VALUE,o)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.toggleFoldRecursively",label:(0,M.localize2)(1002,"Toggle Fold Recursively"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyMod.Shift|s.KeyCode.KeyL),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.toggleCollapseState)(t,Number.MAX_VALUE,o)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.foldAll",label:(0,M.localize2)(1008,"Fold All"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Digit0),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){(0,y.setCollapseStateLevelsDown)(t,!0)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.unfoldAll",label:(0,M.localize2)(1009,"Unfold All"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.KeyJ),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){(0,y.setCollapseStateLevelsDown)(t,!1)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.foldAllBlockComments",label:(0,M.localize2)(1003,"Fold All Block Comments"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Slash),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i,o,n){if(t.regions.hasTypes())(0,y.setCollapseStateForType)(t,_.FoldingRangeKind.Comment.value,!0);else{let e=i.getModel();if(!e)return;let o=n.getLanguageConfiguration(e.getLanguageId()).comments;if(o&&o.blockCommentStartToken){let e=RegExp("^\\s*"+(0,l.escapeRegExpCharacters)(o.blockCommentStartToken));(0,y.setCollapseStateForMatchingLines)(t,e,!0)}}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.foldAllMarkerRegions",label:(0,M.localize2)(1004,"Fold All Regions"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Digit8),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i,o,n){if(t.regions.hasTypes())(0,y.setCollapseStateForType)(t,_.FoldingRangeKind.Region.value,!0);else{let e=i.getModel();if(!e)return;let o=n.getLanguageConfiguration(e.getLanguageId()).foldingRules;if(o&&o.markers&&o.markers.start){let e=new RegExp(o.markers.start);(0,y.setCollapseStateForMatchingLines)(t,e,!0)}}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.unfoldAllMarkerRegions",label:(0,M.localize2)(1005,"Unfold All Regions"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Digit9),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i,o,n){if(t.regions.hasTypes())(0,y.setCollapseStateForType)(t,_.FoldingRangeKind.Region.value,!1);else{let e=i.getModel();if(!e)return;let o=n.getLanguageConfiguration(e.getLanguageId()).foldingRules;if(o&&o.markers&&o.markers.start){let e=new RegExp(o.markers.start);(0,y.setCollapseStateForMatchingLines)(t,e,!1)}}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.foldAllExcept",label:(0,M.localize2)(1006,"Fold All Except Selected"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Minus),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.setCollapseStateForRest)(t,!0,o)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.unfoldAllExcept",label:(0,M.localize2)(1007,"Unfold All Except Selected"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Equal),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.setCollapseStateForRest)(t,!1,o)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.toggleFold",label:(0,M.localize2)(1e3,"Toggle Fold"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.KeyL),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);(0,y.toggleCollapseState)(t,1,o)}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.gotoParentFold",label:(0,M.localize2)(1010,"Go to Parent Fold"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);if(o.length>0){let e=(0,y.getParentFoldLine)(o[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.gotoPreviousFold",label:(0,M.localize2)(1011,"Go to Previous Folding Range"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);if(o.length>0){let e=(0,y.getPreviousFoldLine)(o[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.gotoNextFold",label:(0,M.localize2)(1012,"Go to Next Folding Range"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=this.getSelectedLines(i);if(o.length>0){let e=(0,y.getNextFoldLine)(o[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.createFoldingRangeFromSelection",label:(0,M.localize2)(1013,"Create Folding Range from Selection"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Comma),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=[],n=i.getSelections();if(n){for(let e of n){let t=e.endLineNumber;1===e.endColumn&&--t,t>e.startLineNumber&&(o.push({startLineNumber:e.startLineNumber,endLineNumber:t,type:void 0,isCollapsed:!0,source:x.FoldSource.userDefined}),i.setSelection({startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((e,t)=>e.startLineNumber-t.startLineNumber);let e=x.FoldingRegions.sanitizeAndMerge(t.regions,o,i.getModel()?.getLineCount());t.updatePost(x.FoldingRegions.fromFoldRanges(e))}}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.removeManualFoldingRanges",label:(0,M.localize2)(1014,"Remove Manual Folding Ranges"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Period),weight:R.KeybindingWeight.EditorContrib}})}invoke(e,t,i){let o=i.getSelections();if(o){let i=[];for(let e of o){let{startLineNumber:t,endLineNumber:o}=e;i.push(o>=t?{startLineNumber:t,endLineNumber:o}:{endLineNumber:o,startLineNumber:t})}t.removeManualRanges(i),e.triggerFoldingModelChanged()}}}),(0,h.registerEditorAction)(class extends ${constructor(){super({id:"editor.toggleImportFold",label:(0,M.localize2)(1015,"Toggle Import Fold"),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,weight:R.KeybindingWeight.EditorContrib}})}async invoke(e,t){let i=[],o=t.regions;for(let e=o.length-1;e>=0;e--)o.getType(e)===_.FoldingRangeKind.Imports.value&&i.push(o.toRegion(e));t.toggleCollapseState(i),e.triggerFoldingModelChanged()}});for(let e=1;e<=7;e++)(0,h.registerInstantiatedEditorAction)(new Q({id:Q.ID(e),label:(0,M.localize2)(1016,"Fold Level {0}",e),precondition:U,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,s.KeyChord)(s.KeyMod.CtrlCmd|s.KeyCode.KeyK,s.KeyMod.CtrlCmd|s.KeyCode.Digit0+e),weight:R.KeybindingWeight.EditorContrib}}));z.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(e,...t){let[i]=t;if(!(i instanceof V.URI))throw(0,r.illegalArgument)();let o=e.get(W.ILanguageFeaturesService),s=e.get(B.IModelService).getModel(i);if(!s)throw(0,r.illegalArgument)();let a=e.get(H.IConfigurationService);if(!a.getValue("editor.folding",{resource:i}))return[];let l=e.get(f.ILanguageConfigurationService),d=a.getValue("editor.foldingStrategy",{resource:i}),c={get limit(){return a.getValue("editor.foldingMaximumRegions",{resource:i})},update:(e,t)=>{}},u=new D(s,l,c),h=u;if("indentation"!==d){let e=G.getFoldingRangeProviders(o,s);e.length&&(h=new P.SyntaxRangeProvider(s,e,()=>{},c,u))}let p=await h.compute(n.CancellationToken.None),g=[];try{if(p)for(let e=0;e<p.length;e++){let t=p.getType(e);g.push({start:p.getStartLineNumber(e),end:p.getEndLineNumber(e),kind:t?_.FoldingRangeKind.fromValue(t):void 0})}return g}finally{h.dispose()}}),e.s(["FoldingController",()=>G,"RangesLimitReporter",()=>q],64803)},82678,485060,249137,603312,44050,731069,891147,e=>{"use strict";var t=e.i(693655);let i="diagnosticsService";class o{async getPerformanceInfo(e,t){return{}}async getSystemInfo(e,t){return{processArgs:"nullProcessArgs",gpuStatus:"nullGpuStatus",screenReader:"nullScreenReader",remoteData:[],os:"nullOs",memory:"nullMemory",vmHint:"nullVmHint"}}async getDiagnostics(e,t){return""}async getWorkspaceFileExtensions(e){return{extensions:[]}}async reportWorkspaceStats(e){}}e.s(["ID",()=>i,"NullDiagnosticsService",()=>o],485060);let n=(0,t.createDecorator)(i);e.s(["IDiagnosticsService",()=>n],82678);let r=(0,t.createDecorator)("encryptionService");e.s(["IEncryptionService",()=>r],249137);let s=(0,t.createDecorator)("IExtensionsScannerService");e.s(["IExtensionsScannerService",()=>s],603312);let a=(0,t.createDecorator)("IExtensionRecommendationNotificationService");e.s(["IExtensionRecommendationNotificationService",()=>a],44050);let l=(0,t.createDecorator)("IBuiltinExtensionsScannerService");e.s(["IBuiltinExtensionsScannerService",()=>l],731069);let d=(0,t.createDecorator)("keyboardLayoutService");e.s(["IKeyboardLayoutService",()=>d],891147)},856945,e=>{"use strict";var t=e.i(145384);e.i(371305),e.i(436120);class i{constructor(){this.onDidChange=t.Event.None}async updatePolicyDefinitions(){return{}}getPolicyValue(){}serialize(){}}e.s(["NullPolicyService",()=>i])},950745,e=>{"use strict";var t=e.i(693655);let i=(0,t.createDecorator)("IUserDataSyncStoreManagementService"),o=(0,t.createDecorator)("IUserDataSyncStoreService"),n=(0,t.createDecorator)("IUserDataSyncLocalStoreService"),r=(0,t.createDecorator)("IUserDataSyncEnablementService"),s=(0,t.createDecorator)("IUserDataSyncService"),a=(0,t.createDecorator)("IUserDataSyncResourceProviderService"),l=(0,t.createDecorator)("IUserDataAutoSyncService"),d=(0,t.createDecorator)("IUserDataSyncUtilService"),c=(0,t.createDecorator)("IUserDataSyncLogService");e.s(["IUserDataAutoSyncService",()=>l,"IUserDataSyncEnablementService",()=>r,"IUserDataSyncLocalStoreService",()=>n,"IUserDataSyncLogService",()=>c,"IUserDataSyncResourceProviderService",()=>a,"IUserDataSyncService",()=>s,"IUserDataSyncStoreManagementService",()=>i,"IUserDataSyncStoreService",()=>o,"IUserDataSyncUtilService",()=>d])},18640,467802,511095,383771,685487,762621,261320,548742,905831,e=>{"use strict";var t=e.i(693655);let i=(0,t.createDecorator)("updateService");e.s(["IUpdateService",()=>i],18640);let o=(0,t.createDecorator)("IInlineChatSavingService	");e.s(["IInlineChatSavingService",()=>o],467802);let n=(0,t.createDecorator)("IInlineChatSessionService");e.s(["IInlineChatSessionService",()=>n],511095);let r=(0,t.createDecorator)("INotebookExecutionService");e.s(["INotebookExecutionService",()=>r],383771);let s=(0,t.createDecorator)("notebookEditorWorkerService");e.s(["INotebookEditorWorkerService",()=>s],685487);let a=(0,t.createDecorator)("replaceService");e.s(["IReplaceService",()=>a],762621);let l=(0,t.createDecorator)("searchViewModelWorkbenchService");e.s(["ISearchViewModelWorkbenchService",()=>l],261320);let d=(0,t.createDecorator)("notebookSearchService");e.s(["INotebookSearchService",()=>d],548742);let c=(0,t.createDecorator)("searchHistoryService");e.s(["ISearchHistoryService",()=>c],905831)},928546,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("activityService");e.s(["IActivityService",()=>t])},420365,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("WorkbenchAssignmentService");e.s(["IWorkbenchAssignmentService",()=>t])},577289,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("jsonEditingService");e.s(["IJSONEditingService",()=>t])},189595,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("textMateTokenizationFeature");e.s(["ITextMateTokenizationService",()=>t])},71190,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("textEditorService");e.s(["ITextEditorService",()=>t])},464627,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("hostColorSchemeService");e.s(["IHostColorSchemeService",()=>t])},48717,918496,782024,347195,e=>{"use strict";var t,i,o,n,r,s,a,l,d,c,u,h=e.i(68858),p=e.i(839435);e.i(383962);var g=e.i(206605);e.i(403340),e.i(782353);var m=e.i(569038);function _(){let e=m.Registry.as(g.Extensions.Configuration).getConfigurationProperties();return Object.keys(e).filter(t=>!!e[t].disallowSyncIgnore)}function f(e=!1){let t=function(e,t){let i=new Set;for(let o in e){if(t&&e[o].source)continue;let n=(0,p.isString)(e[o].scope)?(0,g.parseScope)(e[o].scope):e[o].scope;(e[o].ignoreSync||n===g.ConfigurationScope.MACHINE||n===g.ConfigurationScope.MACHINE_OVERRIDABLE)&&i.add(o)}return[...i.values()]}(m.Registry.as(g.Extensions.Configuration).getConfigurationProperties(),e),i=_();return(0,h.distinct)([...t,...i])}(t=a||(a={})).Settings="settings",t.Keybindings="keybindings",t.Snippets="snippets",t.Tasks="tasks",t.Extensions="extensions",t.GlobalState="globalState",t.Profiles="profiles",t.WorkspaceState="workspaceState",a.Settings,a.Keybindings,a.Snippets,a.Tasks,a.Extensions,a.GlobalState,a.Profiles,(i=l||(l={})).Unauthorized="Unauthorized",i.Forbidden="Forbidden",i.NotFound="NotFound",i.MethodNotFound="MethodNotFound",i.Conflict="Conflict",i.Gone="Gone",i.PreconditionFailed="PreconditionFailed",i.TooLarge="TooLarge",i.UpgradeRequired="UpgradeRequired",i.PreconditionRequired="PreconditionRequired",i.TooManyRequests="RemoteTooManyRequests",i.TooManyRequestsAndRetryAfter="TooManyRequestsAndRetryAfter",i.RequestFailed="RequestFailed",i.RequestCanceled="RequestCanceled",i.RequestTimeout="RequestTimeout",i.RequestProtocolNotSupported="RequestProtocolNotSupported",i.RequestPathNotEscaped="RequestPathNotEscaped",i.RequestHeadersNotObject="RequestHeadersNotObject",i.NoCollection="NoCollection",i.NoRef="NoRef",i.EmptyResponse="EmptyResponse",i.TurnedOff="TurnedOff",i.SessionExpired="SessionExpired",i.ServiceChanged="ServiceChanged",i.DefaultServiceChanged="DefaultServiceChanged",i.LocalTooManyProfiles="LocalTooManyProfiles",i.LocalTooManyRequests="LocalTooManyRequests",i.LocalPreconditionFailed="LocalPreconditionFailed",i.LocalInvalidContent="LocalInvalidContent",i.LocalError="LocalError",i.IncompatibleLocalContent="IncompatibleLocalContent",i.IncompatibleRemoteContent="IncompatibleRemoteContent",i.Unknown="Unknown",(o=class extends Error{constructor(e,t,i,o){super(e),this.code=t,this.resource=i,this.operationId=o,this.name=`${this.code} (UserDataSyncError) syncResource:${this.resource||"unknown"} operationId:${this.operationId||"unknown"}`}}).toUserDataSyncError=function(e){if(e instanceof o)return e;let t=/^(.+) \(UserDataSyncError\) syncResource:(.+) operationId:(.+)$/.exec(e.name);if(t&&t[1]){let i="unknown"===t[2]?void 0:t[2],n="unknown"===t[3]?void 0:t[3];return new o(e.message,t[1],i,n)}return new o(e.message,l.Unknown)},(n=d||(d={})).Uninitialized="uninitialized",n.Idle="idle",n.Syncing="syncing",n.HasConflicts="hasConflicts",(r=c||(c={}))[r.None=0]="None",r[r.Added=1]="Added",r[r.Modified=2]="Modified",r[r.Deleted=3]="Deleted",(s=u||(u={})).Preview="preview",s.Conflict="conflict",s.Accepted="accepted",e.s(["SyncResource",()=>a,"SyncStatus",()=>d,"getDefaultIgnoredSettings",()=>f,"getDisallowedIgnoredSettings",()=>_],48717);var y=e.i(693655);let v=(0,y.createDecorator)("preferencesSearchService");e.s(["IPreferencesSearchService",()=>v],918496);let C=(0,y.createDecorator)("keybindingEditingService");e.s(["IKeybindingEditingService",()=>C],782024);let b=(0,y.createDecorator)("IUserDataSyncWorkbenchService");e.s(["IUserDataSyncWorkbenchService",()=>b],347195)},339953,e=>{"use strict";let t=(0,e.i(693655).createDecorator)("treeSitterTokenizationFeature");e.s(["ITreeSitterTokenizationFeature",()=>t])},199007,957583,614535,736758,987430,383566,227497,e=>{"use strict";var t=e.i(693655);let i=(0,t.createDecorator)("extensionRecommendationsService"),o=(0,t.createDecorator)("IExtensionIgnoredRecommendationsService");e.s(["IExtensionIgnoredRecommendationsService",()=>o,"IExtensionRecommendationsService",()=>i],199007);let n=(0,t.createDecorator)("issueFormService"),r=(0,t.createDecorator)("workbenchIssueService");e.s(["IIssueFormService",()=>n,"IWorkbenchIssueService",()=>r],957583);let s=(0,t.createDecorator)("localizationService"),a=(0,t.createDecorator)("activeLanguageService");e.s(["IActiveLanguagePackService",()=>a,"ILocaleService",()=>s],614535);let l=(0,t.createDecorator)("ITrustedDomainService");e.s(["ITrustedDomainService",()=>l],736758);let d=(0,t.createDecorator)("INotebookOriginalCellModelFactory");e.s(["INotebookOriginalCellModelFactory",()=>d],987430);let c=(0,t.createDecorator)("INotebookOriginalModelReferenceFactory");e.s(["INotebookOriginalModelReferenceFactory",()=>c],383566);let u=(0,t.createDecorator)("INotebookModelSynchronizerFactory");e.s(["INotebookModelSynchronizerFactory",()=>u],227497)},225911,153397,370769,852656,355860,52848,864067,e=>{"use strict";let t;var i,o,n,r,s,a,l,d,c,u,h=e.i(308165),p=e.i(6423),g=e.i(145384),m=e.i(436120),_=e.i(441900),f=e.i(509592),y=e.i(678417),v=e.i(292473),C=e.i(247921),b=e.i(323235),S=e.i(74944),w=e.i(116086),E=e.i(756970),I=e.i(657943),x=e.i(82678),D=e.i(485060),k=e.i(749351),A=e.i(260263),M=e.i(249137),L=e.i(313587),T=e.i(430504),R=e.i(13236),N=e.i(822398),P=e.i(603312),O=e.i(44050),F=e.i(996912),K=e.i(731069),W=e.i(911694),z=e.i(777700),V=e.i(891147),B=e.i(395882),H=e.i(790728),U=e.i(322549),G=e.i(856945),q=e.i(354345),$=e.i(576549),j=e.i(390457),Q=e.i(365110),Y=e.i(557260),Z=e.i(364045),X=e.i(796635),J=e.i(138495),ee=e.i(261583),et=e.i(936953),ei=e.i(834166),eo=e.i(693655);let en=(0,eo.createDecorator)("terminalLogService");var er=e.i(562462),es=e.i(839435);(i=s||(s={})).Uninitialized="uninitialized",i.Idle="idle",i.Disabled="disabled",i.CheckingForUpdates="checking for updates",i.AvailableForDownload="available for download",i.Downloading="downloading",i.Downloaded="downloaded",i.Updating="updating",i.Ready="ready",(o=a||(a={}))[o.Setup=0]="Setup",o[o.Archive=1]="Archive",o[o.Snap=2]="Snap",(n=l||(l={}))[n.NotBuilt=0]="NotBuilt",n[n.DisabledByEnvironment=1]="DisabledByEnvironment",n[n.ManuallyDisabled=2]="ManuallyDisabled",n[n.MissingConfiguration=3]="MissingConfiguration",n[n.InvalidConfiguration=4]="InvalidConfiguration",n[n.RunningAsAdmin=5]="RunningAsAdmin";let ea={Uninitialized:(0,es.upcast)({type:s.Uninitialized}),Disabled:e=>({type:s.Disabled,reason:e}),Idle:(e,t)=>({type:s.Idle,updateType:e,error:t}),CheckingForUpdates:e=>({type:s.CheckingForUpdates,explicit:e}),AvailableForDownload:e=>({type:s.AvailableForDownload,update:e}),Downloading:(0,es.upcast)({type:s.Downloading}),Downloaded:e=>({type:s.Downloaded,update:e}),Updating:e=>({type:s.Updating,update:e}),Ready:e=>({type:s.Ready,update:e})};e.s(["State",()=>ea,"StateType",()=>s],153397);var el=e.i(18640),ed=e.i(625092),ec=e.i(971921);class eu{constructor(e,t,i){this.level=e,this.key=t,this.value=i,this.forward=[]}}class eh{constructor(e,i=65536){this.comparator=e,this[d]="SkipList",this._level=0,this._size=0,this._maxLevel=Math.max(1,0|Math.log2(i)),this._header=new eu(this._maxLevel,t,t)}get size(){return this._size}clear(){this._header=new eu(this._maxLevel,t,t),this._size=0}has(e){return!!eh._search(this,e,this.comparator)}get(e){return eh._search(this,e,this.comparator)?.value}set(e,t){return eh._insert(this,e,t,this.comparator)&&(this._size+=1),this}delete(e){let t=eh._delete(this,e,this.comparator);return t&&(this._size-=1),t}forEach(e,t){let i=this._header.forward[0];for(;i;)e.call(t,i.value,i.key,this),i=i.forward[0]}[(d=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*entries(){let e=this._header.forward[0];for(;e;)yield[e.key,e.value],e=e.forward[0]}*keys(){let e=this._header.forward[0];for(;e;)yield e.key,e=e.forward[0]}*values(){let e=this._header.forward[0];for(;e;)yield e.value,e=e.forward[0]}toString(){let e="[SkipList]:",t=this._header.forward[0];for(;t;)e+=`node(${t.key}, ${t.value}, lvl:${t.level})`,t=t.forward[0];return e}static _search(e,t,i){let o=e._header;for(let n=e._level-1;n>=0;n--)for(;o.forward[n]&&0>i(o.forward[n].key,t);)o=o.forward[n];if((o=o.forward[0])&&0===i(o.key,t))return o}static _insert(e,t,i,o){let n=[],r=e._header;for(let i=e._level-1;i>=0;i--){for(;r.forward[i]&&0>o(r.forward[i].key,t);)r=r.forward[i];n[i]=r}if((r=r.forward[0])&&0===o(r.key,t))return r.value=i,!1;{let o=eh._randomLevel(e);if(o>e._level){for(let t=e._level;t<o;t++)n[t]=e._header;e._level=o}r=new eu(o,t,i);for(let e=0;e<o;e++)r.forward[e]=n[e].forward[e],n[e].forward[e]=r;return!0}}static _randomLevel(e,t=.5){let i=1;for(;Math.random()<t&&i<e._maxLevel;)i+=1;return i}static _delete(e,i,o){let n=[],r=e._header;for(let t=e._level-1;t>=0;t--){for(;r.forward[t]&&0>o(r.forward[t].key,i);)r=r.forward[t];n[t]=r}if(!(r=r.forward[0])||0!==o(r.key,i))return!1;for(let t=0;t<e._level&&n[t].forward[t]===r;t++)n[t].forward[t]=r.forward[t];for(;e._level>0&&e._header.forward[e._level-1]===t;)e._level-=1;return!0}}class ep{static{this._clock=0}constructor(e){this.uri=e,this.time=ep._clock++}touch(){return this.time=ep._clock++,this}}let eg=class{constructor(e){this._fileService=e,this._dispooables=new m.DisposableStore,this._limit=65536;const t=new Map,i=i=>{let o=t.get(i.scheme);return void 0===o&&(o=e.hasProvider(i)&&!this._fileService.hasCapability(i,ec.FileSystemProviderCapabilities.PathCaseSensitive),t.set(i.scheme,o)),o};this._dispooables.add(g.Event.any(e.onDidChangeFileSystemProviderRegistrations,e.onDidChangeFileSystemProviderCapabilities)(e=>{t.delete(e.scheme)})),this.extUri=new y.ExtUri(i),this._canonicalUris=new eh((e,t)=>this.extUri.compare(e,t,!0),this._limit)}dispose(){this._dispooables.dispose(),this._canonicalUris.clear()}asCanonicalUri(e){this._fileService.hasProvider(e)&&(e=(0,y.normalizePath)(e));let t=this._canonicalUris.get(e);return t?t.touch().uri.with({fragment:e.fragment}):(this._canonicalUris.set(e,new ep(e)),this._checkTrim(),e)}_checkTrim(){if(this._canonicalUris.size<this._limit)return;let e=[...this._canonicalUris.entries()].sort((e,t)=>e[1].time<t[1].time?1:e[1].time>t[1].time?-1:0);ep._clock=0,this._canonicalUris.clear();let t=.5*this._limit;for(let i=0;i<t;i++)this._canonicalUris.set(e[i][0],e[i][1].touch())}};eg=(0,h.__decorate)([(0,h.__param)(0,W.IFileService)],eg);var em=e.i(797837),e_=e.i(708251);let ef=(0,eo.createDecorator)("IIgnoredExtensionsManagementService");var ey=e.i(48717),ev=e.i(950745);let eC=(0,eo.createDecorator)("IUserDataSyncAccountService"),eb=(0,eo.createDecorator)("IUserDataSyncMachinesService");var eS=e.i(751326),ew=e.i(788601),eE=e.i(164363),eI=e.i(395612),ex=e.i(534888),eD=e.i(290527),ek=e.i(230632),eA=e.i(32248),eM=e.i(970469),eL=e.i(571188),eT=e.i(151920),eR=e.i(634524),eN=e.i(848041),eP=e.i(834012),eO=e.i(394970),eF=e.i(698822),eK=e.i(390877),eW=e.i(75649),ez=e.i(528520),eV=e.i(716199),eB=e.i(133576);let eH=(0,eo.createDecorator)("IEditSessionsStorageService"),eU=(0,eo.createDecorator)("IEditSessionsLogService");var eG=e.i(439351),eq=e.i(383163),e$=e.i(273199),ej=e.i(467802),eQ=e.i(511095),eY=e.i(767303),eZ=e.i(375360);let eX=(0,eo.createDecorator)("IDefaultLogLevelsService");var eJ=e.i(182764),e0=e.i(828076),e1=e.i(791991),e2=e.i(150110),e3=e.i(383771),e5=e.i(926911),e4=e.i(262709);let e6=(0,eo.createDecorator)("notebookKeymapService");var e8=e.i(70664),e9=e.i(59235),e7=e.i(355842),te=e.i(685487);let tt=(0,eo.createDecorator)("outputChannelModelService");var ti=e.i(918496),to=e.i(503035),tn=e.i(549523),tr=e.i(762621),ts=e.i(261320),ta=e.i(548742),tl=e.i(905831),td=e.i(439500),tc=e.i(750364),tu=e.i(349602);let th=(0,eo.createDecorator)("workspaceTagsService");var tp=e.i(845702),tg=e.i(657009),tm=e.i(716658),t_=e.i(611345);let tf=(0,eo.createDecorator)("terminalContributionsService");var ty=e.i(313576),tv=e.i(470222);let tC=(0,eo.createDecorator)("testCoverageService"),tb=(0,eo.createDecorator)("testingFilterState");var tS=e.i(814965),tw=e.i(662964);let tE=(0,eo.createDecorator)("ITestResultStorage");var tI=e.i(867686);let tx=(0,eo.createDecorator)("testingContinuousRunService"),tD=(0,eo.createDecorator)("testingDecorationService"),tk=(0,eo.createDecorator)("testingPeekOpener");var tA=e.i(427357),tM=e.i(988359),tL=e.i(514452),tT=e.i(370351);let tR=(0,eo.createDecorator)("walkthroughsService");var tN=e.i(928546),tP=e.i(998174),tO=e.i(810364),tF=e.i(420365),tK=e.i(84249),tW=e.i(904528),tz=e.i(559813);let tV=(0,eo.createDecorator)("auxiliaryWindowService");e.s(["IAuxiliaryWindowService",()=>tV],370769);let tB=(0,eo.createDecorator)("bannerService");e.s(["IBannerService",()=>tB],852656);var tH=e.i(577289),tU=e.i(42900),tG=e.i(452229),tq=e.i(783122),t$=e.i(380755),tj=e.i(985586),tQ=e.i(142968),tY=e.i(810602),tZ=e.i(636501),tX=e.i(603042),tJ=e.i(309402),t0=e.i(122357),t1=e.i(199007);let t2=(0,eo.createDecorator)("IWorkspaceExtensionsConfigService");var t3=e.i(988525),t5=e.i(622055),t4=e.i(976233),t6=e.i(429940),t8=e.i(362507),t9=e.i(259430),t7=e.i(976204);let ie=(0,eo.createDecorator)("ITroubleshootIssueService");var it=e.i(957583),ii=e.i(519135),io=e.i(103756);class ir{constructor(e,t){this._mapAltGrToCtrlAlt=e,this._OS=t}dumpDebugInfo(){return"FallbackKeyboardMapper dispatching on keyCode"}resolveKeyboardEvent(e){let t=e.ctrlKey||this._mapAltGrToCtrlAlt&&e.altGraphKey,i=e.altKey||this._mapAltGrToCtrlAlt&&e.altGraphKey,o=new ii.KeyCodeChord(t,e.shiftKey,i,e.metaKey,e.keyCode);return this.resolveKeybinding(new ii.Keybinding([o]))[0]}resolveKeybinding(e){return io.USLayoutResolvedKeybinding.resolveKeybinding(e,this._OS)}}e.s(["FallbackKeyboardMapper",()=>ir],355860);var is=e.i(782024),ia=e.i(707259),il=e.i(256120),id=e.i(604058),ic=e.i(395806),iu=m,ih=e.i(297334),ip=e.i(108476),ig=e.i(413174),im=e.i(780379);let i_=class extends iu.Disposable{static{c=this}static{this.LAST_SHUTDOWN_REASON_KEY="lifecyle.lastShutdownReason"}get startupKind(){return this._startupKind}get phase(){return this._phase}constructor(e,t){super(),this.logService=e,this.storageService=t,this._onBeforeShutdown=this._register(new g.Emitter),this.onBeforeShutdown=this._onBeforeShutdown.event,this._onWillShutdown=this._register(new g.Emitter),this.onWillShutdown=this._onWillShutdown.event,this._onDidShutdown=this._register(new g.Emitter),this.onDidShutdown=this._onDidShutdown.event,this._onBeforeShutdownError=this._register(new g.Emitter),this.onBeforeShutdownError=this._onBeforeShutdownError.event,this._onShutdownVeto=this._register(new g.Emitter),this.onShutdownVeto=this._onShutdownVeto.event,this._phase=ih.LifecyclePhase.Starting,this.phaseWhen=new Map,this._startupKind=this.resolveStartupKind(),this._register(this.storageService.onWillSaveState(e=>{e.reason===ig.WillSaveStateReason.SHUTDOWN&&this.storageService.store(c.LAST_SHUTDOWN_REASON_KEY,this.shutdownReason,ig.StorageScope.WORKSPACE,ig.StorageTarget.MACHINE)}))}resolveStartupKind(){let e=this.doResolveStartupKind()??ih.StartupKind.NewWindow;return this.logService.trace(`[lifecycle] starting up (startup kind: ${e})`),e}doResolveStartupKind(){let e,t=this.storageService.getNumber(c.LAST_SHUTDOWN_REASON_KEY,ig.StorageScope.WORKSPACE);switch(this.storageService.remove(c.LAST_SHUTDOWN_REASON_KEY,ig.StorageScope.WORKSPACE),t){case ih.ShutdownReason.RELOAD:e=ih.StartupKind.ReloadedWindow;break;case ih.ShutdownReason.LOAD:e=ih.StartupKind.ReopenedWindow}return e}set phase(e){if(e<this.phase)throw Error("Lifecycle cannot go backwards");if(this._phase===e)return;this.logService.trace(`lifecycle: phase changed (value: ${e})`),this._phase=e,(0,ip.mark)(`code/LifecyclePhase/${(0,ih.LifecyclePhaseToString)(e)}`);let t=this.phaseWhen.get(this._phase);t&&(t.open(),this.phaseWhen.delete(this._phase))}async when(e){if(e<=this._phase)return;let t=this.phaseWhen.get(e);t||(t=new ic.Barrier,this.phaseWhen.set(e,t)),await t.wait()}};i_=c=(0,h.__decorate)([(0,h.__param)(0,U.ILogService),(0,h.__param)(1,im.IStorageService)],i_);var iy=e.i(614535),iv=e.i(990893),iC=e.i(308733),ib=e.i(812541),iS=e.i(103072),iw=e.i(516245),iE=e.i(43095),iI=e.i(873619),ix=e.i(247419),iD=e.i(695158),ik=e.i(595156);let iA=(0,eo.createDecorator)("embedderTerminalService");var iM=e.i(189595),iL=e.i(71190),iT=e.i(524819),iR=e.i(464627),iN=e.i(195857);let iP=(0,eo.createDecorator)("titleService");e.s(["ITitleService",()=>iP],52848);var iO=e.i(131577),iF=e.i(120359),iK=e.i(454573);let iW=(0,eo.createDecorator)("IRemoteUserDataProfilesService");var iz=e.i(652624),iV=m,iB=e.i(550483);class iH extends iV.Disposable{get currentProfile(){return this._currentProfile}constructor(e){super(),this._onDidChangeCurrentProfile=this._register(new g.Emitter),this.onDidChangeCurrentProfile=this._onDidChangeCurrentProfile.event,this._currentProfile=e}async updateCurrentProfile(e){if((0,iB.equals)(this._currentProfile,e))return;let t=this._currentProfile;this._currentProfile=e;let i=[];this._onDidChangeCurrentProfile.fire({previous:t,profile:e,join(e){i.push(e)}}),await ic.Promises.settled(i)}}var iU=e.i(347195),iG=e.i(24165),iq=e.i(111214),i$=e.i(427277),ij=e.i(389083);let iQ=(0,eo.createDecorator)("workingCopyHistoryService");var iY=e.i(67064),iZ=e.i(47515);let iX=(0,eo.createDecorator)("IWorkspaceIdentityService");var iJ=e.i(819515),i0=e.i(681408),i1=e.i(75999),i2=e.i(889344),i3=e.i(166253),i5=e.i(383962),i4=e.i(304729),i6=e.i(358764),i8=e.i(265216);(r=u||(u={})).Uninitialized="uninitialized",r.Unavailable="unavailable",r.Available="available",(0,i5.localize2)(12082,"Settings Sync"),(0,i6.registerIcon)("settings-sync-view-icon",i4.Codicon.sync,(0,i5.localize)(12083,"View icon of the Settings Sync view."));let i9=new i3.RawContextKey("syncStatus",ey.SyncStatus.Uninitialized);new i3.RawContextKey("syncEnabled",!1);let i7=new i3.RawContextKey("userDataSyncAccountStatus",u.Uninitialized);new i3.RawContextKey("enableSyncActivityViews",!1),new i3.RawContextKey("enableSyncConflictsView",!1),new i3.RawContextKey("hasConflicts",!1),(0,i5.localize2)(12084,"Download Settings Sync Activity"),i8.Categories.Developer,i3.ContextKeyExpr.and(i7.isEqualTo(u.Available),i9.notEqualsTo(ey.SyncStatus.Uninitialized));var oe=e.i(618506);let ot=(0,eo.createDecorator)("accessibleViewInformationService");e.s(["IAccessibleViewInformationService",()=>ot],864067);let oi=(0,eo.createDecorator)("IUserDataProfileStorageService"),oo=(0,eo.createDecorator)("integrityService");var on=e.i(736758),or=e.i(930196),os=e.i(838068),oa=e.i(966456),ol=e.i(583388),od=e.i(930548),oc=e.i(339953),ou=e.i(499627),oh=e.i(823197),op=e.i(290370),og=e.i(987430),om=e.i(383566),o_=e.i(227497),of=e.i(210130),oy=e.i(458548),ov=e.i(20699),oC=e.i(437780);function ob(e,t,i){function o(){throw Error(`Unsupported: ${e.constructor.name}.${t} is not supported. You are using a feature without registering the corresponding service override.`)}null!=i.value?i.value=o:null!=i.get&&(i.get=o)}(0,z.registerSingleton)(U.ILoggerService,class extends H.AbstractLoggerService{constructor(){super(H.LogLevel.Info,v.URI.file("logs.log"))}doCreateLogger(){return new H.NullLogger}},z.InstantiationType.Eager);class oS{constructor(){this._serviceBrand=void 0,this.getVisibleTextEditorControls=()=>[],this.onWillOpenEditor=g.Event.None,this.onDidActiveEditorChange=g.Event.None,this.onDidVisibleEditorsChange=g.Event.None,this.onDidEditorsChange=g.Event.None,this.onDidCloseEditor=g.Event.None,this.activeEditorPane=void 0,this.activeEditor=void 0,this.activeTextEditorLanguageId=void 0,this.visibleEditorPanes=[],this.visibleEditors=[],this.visibleTextEditorControls=[],this.editors=[],this.count=0,this.getEditors=()=>[],this.replaceEditors=async()=>{},this.isOpened=()=>!1,this.isVisible=()=>!1,this.closeEditor=async()=>{},this.closeEditors=async()=>{},this.findEditors=()=>[],this.save=async()=>({success:!1,editors:[]}),this.saveAll=async()=>({success:!1,editors:[]}),this.revert=async()=>!1,this.revertAll=async()=>!1}get activeTextEditorControl(){return w.StandaloneServices.get(C.ICodeEditorService).getFocusedCodeEditor()??void 0}openEditor(){(0,oC.unsupported)()}openEditors(){(0,oC.unsupported)()}createScoped(){return this}}(0,h.__decorate)([ob],oS.prototype,"openEditor",null),(0,h.__decorate)([ob],oS.prototype,"openEditors",null),(0,z.registerSingleton)(tY.IEditorService,oS,z.InstantiationType.Eager);class ow{constructor(){this._serviceBrand=void 0,this.getPaneCompositeIds=()=>[],this.onDidPaneCompositeOpen=g.Event.None,this.onDidPaneCompositeClose=g.Event.None,this.openPaneComposite=async()=>void 0,this.getActivePaneComposite=()=>void 0,this.getPaneComposite=()=>void 0,this.getPaneComposites=()=>[],this.getPinnedPaneCompositeIds=()=>[],this.getVisiblePaneCompositeIds=()=>[],this.getProgressIndicator=()=>void 0,this.hideActivePaneComposite=()=>{},this.showActivity=()=>m.Disposable.None}getLastActivePaneCompositeId(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ow.prototype,"getLastActivePaneCompositeId",null),(0,z.registerSingleton)(iS.IPaneCompositePartService,ow,z.InstantiationType.Eager),(0,z.registerSingleton)(ed.IUriIdentityService,eg,z.InstantiationType.Delayed);class oE{get files(){return(0,oC.unsupported)()}get untitled(){return(0,oC.unsupported)()}get encoding(){return(0,oC.unsupported)()}isDirty(){(0,oC.unsupported)()}save(){(0,oC.unsupported)()}saveAs(){(0,oC.unsupported)()}revert(){(0,oC.unsupported)()}read(){(0,oC.unsupported)()}readStream(){(0,oC.unsupported)()}write(){(0,oC.unsupported)()}create(){(0,oC.unsupported)()}getEncodedReadable(){(0,oC.unsupported)()}getDecodedStream(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oE.prototype,"files",null),(0,h.__decorate)([ob],oE.prototype,"untitled",null),(0,h.__decorate)([ob],oE.prototype,"encoding",null),(0,h.__decorate)([ob],oE.prototype,"isDirty",null),(0,h.__decorate)([ob],oE.prototype,"save",null),(0,h.__decorate)([ob],oE.prototype,"saveAs",null),(0,h.__decorate)([ob],oE.prototype,"revert",null),(0,h.__decorate)([ob],oE.prototype,"read",null),(0,h.__decorate)([ob],oE.prototype,"readStream",null),(0,h.__decorate)([ob],oE.prototype,"write",null),(0,h.__decorate)([ob],oE.prototype,"create",null),(0,h.__decorate)([ob],oE.prototype,"getEncodedReadable",null),(0,h.__decorate)([ob],oE.prototype,"getDecodedStream",null),(0,h.__decorate)([ob],oE.prototype,"dispose",null),(0,z.registerSingleton)(iT.ITextFileService,oE,z.InstantiationType.Eager);class oI{constructor(){this._serviceBrand=void 0,this.onDidChangeFileSystemProviderRegistrations=g.Event.None,this.onDidChangeFileSystemProviderCapabilities=g.Event.None,this.onWillActivateFileSystemProvider=g.Event.None,this.getProvider=function(){},this.activateProvider=async()=>{},this.canHandleResource=async()=>!1,this.hasProvider=()=>!1,this.hasCapability=()=>!1,this.listCapabilities=()=>[],this.onDidFilesChange=g.Event.None,this.onDidRunOperation=g.Event.None,this.exists=async()=>!1,this.onDidWatchError=g.Event.None}registerProvider(){(0,oC.unsupported)()}resolve(){(0,oC.unsupported)()}resolveAll(){(0,oC.unsupported)()}stat(){(0,oC.unsupported)()}readFile(){(0,oC.unsupported)()}readFileStream(){(0,oC.unsupported)()}writeFile(){(0,oC.unsupported)()}move(){(0,oC.unsupported)()}canMove(){(0,oC.unsupported)()}copy(){(0,oC.unsupported)()}canCopy(){(0,oC.unsupported)()}cloneFile(){(0,oC.unsupported)()}createFile(){(0,oC.unsupported)()}canCreateFile(){(0,oC.unsupported)()}createFolder(){(0,oC.unsupported)()}del(){(0,oC.unsupported)()}canDelete(){(0,oC.unsupported)()}watch(){(0,oC.unsupported)()}createWatcher(){(0,oC.unsupported)()}dispose(){}}(0,h.__decorate)([ob],oI.prototype,"registerProvider",null),(0,h.__decorate)([ob],oI.prototype,"resolve",null),(0,h.__decorate)([ob],oI.prototype,"resolveAll",null),(0,h.__decorate)([ob],oI.prototype,"stat",null),(0,h.__decorate)([ob],oI.prototype,"readFile",null),(0,h.__decorate)([ob],oI.prototype,"readFileStream",null),(0,h.__decorate)([ob],oI.prototype,"writeFile",null),(0,h.__decorate)([ob],oI.prototype,"move",null),(0,h.__decorate)([ob],oI.prototype,"canMove",null),(0,h.__decorate)([ob],oI.prototype,"copy",null),(0,h.__decorate)([ob],oI.prototype,"canCopy",null),(0,h.__decorate)([ob],oI.prototype,"cloneFile",null),(0,h.__decorate)([ob],oI.prototype,"createFile",null),(0,h.__decorate)([ob],oI.prototype,"canCreateFile",null),(0,h.__decorate)([ob],oI.prototype,"createFolder",null),(0,h.__decorate)([ob],oI.prototype,"del",null),(0,h.__decorate)([ob],oI.prototype,"canDelete",null),(0,h.__decorate)([ob],oI.prototype,"watch",null),(0,h.__decorate)([ob],oI.prototype,"createWatcher",null),(0,z.registerSingleton)(W.IFileService,oI,z.InstantiationType.Eager);class ox{constructor(){this.selectedEditors=[],this.isSelected=()=>!1,this.isTransient=()=>!1,this.windowId=p.mainWindow.vscodeWindowId,this.onDidFocus=g.Event.None,this.onDidOpenEditorFail=g.Event.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.minimumWidth=0,this.maximumWidth=1/0,this.minimumHeight=0,this.maximumHeight=1/0,this.onDidChange=g.Event.None,this.onDidModelChange=g.Event.None,this.onWillDispose=g.Event.None,this.onDidActiveEditorChange=g.Event.None,this.onWillCloseEditor=g.Event.None,this.onDidCloseEditor=g.Event.None,this.onWillMoveEditor=g.Event.None,this.onWillOpenEditor=g.Event.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=()=>[],this.findEditors=()=>[],this.getEditorByIndex=()=>void 0,this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>!1,this.contains=()=>!1,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{}}setSelection(){(0,oC.unsupported)()}get groupsView(){return(0,oC.unsupported)()}notifyLabelChanged(){}createEditorActions(){(0,oC.unsupported)()}get titleHeight(){return(0,oC.unsupported)()}setActive(){(0,oC.unsupported)()}notifyIndexChanged(){(0,oC.unsupported)()}relayout(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}toJSON(){(0,oC.unsupported)()}get element(){return(0,oC.unsupported)()}layout(){(0,oC.unsupported)()}get scopedContextKeyService(){return w.StandaloneServices.get(E.IContextKeyService)}getIndexOfEditor(){(0,oC.unsupported)()}openEditor(){(0,oC.unsupported)()}openEditors(){(0,oC.unsupported)()}moveEditor(){(0,oC.unsupported)()}moveEditors(){(0,oC.unsupported)()}copyEditor(){(0,oC.unsupported)()}copyEditors(){(0,oC.unsupported)()}closeEditor(){(0,oC.unsupported)()}closeEditors(){(0,oC.unsupported)()}closeAllEditors(){(0,oC.unsupported)()}replaceEditors(){(0,oC.unsupported)()}focus(){}isFirst(){(0,oC.unsupported)()}isLast(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ox.prototype,"setSelection",null),(0,h.__decorate)([ob],ox.prototype,"groupsView",null),(0,h.__decorate)([ob],ox.prototype,"createEditorActions",null),(0,h.__decorate)([ob],ox.prototype,"titleHeight",null),(0,h.__decorate)([ob],ox.prototype,"setActive",null),(0,h.__decorate)([ob],ox.prototype,"notifyIndexChanged",null),(0,h.__decorate)([ob],ox.prototype,"relayout",null),(0,h.__decorate)([ob],ox.prototype,"dispose",null),(0,h.__decorate)([ob],ox.prototype,"toJSON",null),(0,h.__decorate)([ob],ox.prototype,"element",null),(0,h.__decorate)([ob],ox.prototype,"layout",null),(0,h.__decorate)([ob],ox.prototype,"getIndexOfEditor",null),(0,h.__decorate)([ob],ox.prototype,"openEditor",null),(0,h.__decorate)([ob],ox.prototype,"openEditors",null),(0,h.__decorate)([ob],ox.prototype,"moveEditor",null),(0,h.__decorate)([ob],ox.prototype,"moveEditors",null),(0,h.__decorate)([ob],ox.prototype,"copyEditor",null),(0,h.__decorate)([ob],ox.prototype,"copyEditors",null),(0,h.__decorate)([ob],ox.prototype,"closeEditor",null),(0,h.__decorate)([ob],ox.prototype,"closeEditors",null),(0,h.__decorate)([ob],ox.prototype,"closeAllEditors",null),(0,h.__decorate)([ob],ox.prototype,"replaceEditors",null),(0,h.__decorate)([ob],ox.prototype,"isFirst",null),(0,h.__decorate)([ob],ox.prototype,"isLast",null);let oD=new ox;class ok{constructor(){this.onWillDispose=g.Event.None,this.windowId=p.mainWindow.vscodeWindowId,this.hasMaximizedGroup=()=>!1,this.onDidLayout=g.Event.None,this.onDidScroll=g.Event.None,this.isReady=!0,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.onDidChangeActiveGroup=g.Event.None,this.onDidAddGroup=g.Event.None,this.onDidRemoveGroup=g.Event.None,this.onDidMoveGroup=g.Event.None,this.onDidActivateGroup=g.Event.None,this.onDidChangeGroupIndex=g.Event.None,this.onDidChangeGroupLocked=g.Event.None,this.onDidChangeGroupMaximized=g.Event.None,this.activeGroup=oD,this.groups=[oD],this.count=0,this.orientation=iJ.GroupOrientation.HORIZONTAL,this.getGroups=()=>[],this.getGroup=()=>void 0,this.findGroup=()=>void 0,this.partOptions=eA.DEFAULT_EDITOR_PART_OPTIONS,this.onDidChangeEditorPartOptions=g.Event.None}get contentDimension(){return(0,oC.unsupported)()}centerLayout(){(0,oC.unsupported)()}isLayoutCentered(){(0,oC.unsupported)()}enforcePartOptions(){(0,oC.unsupported)()}get sideGroup(){return(0,oC.unsupported)()}activateGroup(){(0,oC.unsupported)()}getSize(){(0,oC.unsupported)()}setSize(){(0,oC.unsupported)()}arrangeGroups(){(0,oC.unsupported)()}toggleMaximizeGroup(){(0,oC.unsupported)()}toggleExpandGroup(){(0,oC.unsupported)()}applyLayout(){(0,oC.unsupported)()}getLayout(){(0,oC.unsupported)()}setGroupOrientation(){(0,oC.unsupported)()}addGroup(){(0,oC.unsupported)()}removeGroup(){(0,oC.unsupported)()}moveGroup(){(0,oC.unsupported)()}mergeGroup(){(0,oC.unsupported)()}mergeAllGroups(){(0,oC.unsupported)()}copyGroup(){(0,oC.unsupported)()}createEditorDropTarget(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ok.prototype,"contentDimension",null),(0,h.__decorate)([ob],ok.prototype,"centerLayout",null),(0,h.__decorate)([ob],ok.prototype,"isLayoutCentered",null),(0,h.__decorate)([ob],ok.prototype,"enforcePartOptions",null),(0,h.__decorate)([ob],ok.prototype,"sideGroup",null),(0,h.__decorate)([ob],ok.prototype,"activateGroup",null),(0,h.__decorate)([ob],ok.prototype,"getSize",null),(0,h.__decorate)([ob],ok.prototype,"setSize",null),(0,h.__decorate)([ob],ok.prototype,"arrangeGroups",null),(0,h.__decorate)([ob],ok.prototype,"toggleMaximizeGroup",null),(0,h.__decorate)([ob],ok.prototype,"toggleExpandGroup",null),(0,h.__decorate)([ob],ok.prototype,"applyLayout",null),(0,h.__decorate)([ob],ok.prototype,"getLayout",null),(0,h.__decorate)([ob],ok.prototype,"setGroupOrientation",null),(0,h.__decorate)([ob],ok.prototype,"addGroup",null),(0,h.__decorate)([ob],ok.prototype,"removeGroup",null),(0,h.__decorate)([ob],ok.prototype,"moveGroup",null),(0,h.__decorate)([ob],ok.prototype,"mergeGroup",null),(0,h.__decorate)([ob],ok.prototype,"mergeAllGroups",null),(0,h.__decorate)([ob],ok.prototype,"copyGroup",null),(0,h.__decorate)([ob],ok.prototype,"createEditorDropTarget",null);class oA{constructor(){this.onDidCreateAuxiliaryEditorPart=g.Event.None,this.mainPart=new ok,this.activePart=this.mainPart,this.parts=[this.mainPart],this.onDidChangeGroupMaximized=g.Event.None,this.partOptions=eA.DEFAULT_EDITOR_PART_OPTIONS,this._serviceBrand=void 0,this.onDidChangeActiveGroup=g.Event.None,this.onDidAddGroup=g.Event.None,this.onDidRemoveGroup=g.Event.None,this.onDidMoveGroup=g.Event.None,this.onDidActivateGroup=g.Event.None,this.onDidLayout=g.Event.None,this.onDidScroll=g.Event.None,this.onDidChangeGroupIndex=g.Event.None,this.onDidChangeGroupLocked=g.Event.None,this.activeGroup=oD,this.groups=[oD],this.count=0,this.orientation=iJ.GroupOrientation.HORIZONTAL,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=()=>[],this.getGroup=()=>void 0,this.isLayoutCentered=()=>!1,this.findGroup=()=>void 0,this.onDidChangeEditorPartOptions=g.Event.None}getScopedInstantiationService(){(0,oC.unsupported)()}registerContextKeyProvider(){(0,oC.unsupported)()}saveWorkingSet(){(0,oC.unsupported)()}getWorkingSets(){(0,oC.unsupported)()}applyWorkingSet(){(0,oC.unsupported)()}deleteWorkingSet(){(0,oC.unsupported)()}getPart(){(0,oC.unsupported)()}createAuxiliaryEditorPart(){(0,oC.unsupported)()}toggleMaximizeGroup(){(0,oC.unsupported)()}toggleExpandGroup(){(0,oC.unsupported)()}createEditorDropTarget(){(0,oC.unsupported)()}getLayout(){(0,oC.unsupported)()}get contentDimension(){return(0,oC.unsupported)()}get sideGroup(){return(0,oC.unsupported)()}activateGroup(){(0,oC.unsupported)()}getSize(){(0,oC.unsupported)()}setSize(){(0,oC.unsupported)()}arrangeGroups(){(0,oC.unsupported)()}applyLayout(){(0,oC.unsupported)()}centerLayout(){(0,oC.unsupported)()}setGroupOrientation(){(0,oC.unsupported)()}addGroup(){(0,oC.unsupported)()}removeGroup(){(0,oC.unsupported)()}moveGroup(){(0,oC.unsupported)()}mergeGroup(){(0,oC.unsupported)()}mergeAllGroups(){(0,oC.unsupported)()}copyGroup(){(0,oC.unsupported)()}enforcePartOptions(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oA.prototype,"getScopedInstantiationService",null),(0,h.__decorate)([ob],oA.prototype,"registerContextKeyProvider",null),(0,h.__decorate)([ob],oA.prototype,"saveWorkingSet",null),(0,h.__decorate)([ob],oA.prototype,"getWorkingSets",null),(0,h.__decorate)([ob],oA.prototype,"applyWorkingSet",null),(0,h.__decorate)([ob],oA.prototype,"deleteWorkingSet",null),(0,h.__decorate)([ob],oA.prototype,"getPart",null),(0,h.__decorate)([ob],oA.prototype,"createAuxiliaryEditorPart",null),(0,h.__decorate)([ob],oA.prototype,"toggleMaximizeGroup",null),(0,h.__decorate)([ob],oA.prototype,"toggleExpandGroup",null),(0,h.__decorate)([ob],oA.prototype,"createEditorDropTarget",null),(0,h.__decorate)([ob],oA.prototype,"getLayout",null),(0,h.__decorate)([ob],oA.prototype,"contentDimension",null),(0,h.__decorate)([ob],oA.prototype,"sideGroup",null),(0,h.__decorate)([ob],oA.prototype,"activateGroup",null),(0,h.__decorate)([ob],oA.prototype,"getSize",null),(0,h.__decorate)([ob],oA.prototype,"setSize",null),(0,h.__decorate)([ob],oA.prototype,"arrangeGroups",null),(0,h.__decorate)([ob],oA.prototype,"applyLayout",null),(0,h.__decorate)([ob],oA.prototype,"centerLayout",null),(0,h.__decorate)([ob],oA.prototype,"setGroupOrientation",null),(0,h.__decorate)([ob],oA.prototype,"addGroup",null),(0,h.__decorate)([ob],oA.prototype,"removeGroup",null),(0,h.__decorate)([ob],oA.prototype,"moveGroup",null),(0,h.__decorate)([ob],oA.prototype,"mergeGroup",null),(0,h.__decorate)([ob],oA.prototype,"mergeAllGroups",null),(0,h.__decorate)([ob],oA.prototype,"copyGroup",null),(0,h.__decorate)([ob],oA.prototype,"enforcePartOptions",null),(0,z.registerSingleton)(t$.IEditorGroupsService,oA,z.InstantiationType.Eager),(0,z.registerSingleton)(tB,class{focus(){}focusNextAction(){}focusPreviousAction(){}hide(){}show(){}},z.InstantiationType.Eager);class oM{constructor(){this.onMenubarVisibilityChange=g.Event.None,this.isCommandCenterVisible=!1,this.onDidChangeCommandCenterVisibility=g.Event.None,this.registerVariables=()=>{}}getPart(){(0,oC.unsupported)()}createAuxiliaryTitlebarPart(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}updateProperties(){}}(0,h.__decorate)([ob],oM.prototype,"getPart",null),(0,h.__decorate)([ob],oM.prototype,"createAuxiliaryTitlebarPart",null),(0,h.__decorate)([ob],oM.prototype,"dispose",null),(0,z.registerSingleton)(iP,oM,z.InstantiationType.Eager);class oL{constructor(){this.onWillRunWorkingCopyFileOperation=g.Event.None,this.onDidFailWorkingCopyFileOperation=g.Event.None,this.onDidRunWorkingCopyFileOperation=g.Event.None,this.hasSaveParticipants=!1,this.getDirty=()=>[]}addFileOperationParticipant(){(0,oC.unsupported)()}addSaveParticipant(){(0,oC.unsupported)()}runSaveParticipants(){(0,oC.unsupported)()}create(){(0,oC.unsupported)()}createFolder(){(0,oC.unsupported)()}move(){(0,oC.unsupported)()}copy(){(0,oC.unsupported)()}delete(){(0,oC.unsupported)()}registerWorkingCopyProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oL.prototype,"addFileOperationParticipant",null),(0,h.__decorate)([ob],oL.prototype,"addSaveParticipant",null),(0,h.__decorate)([ob],oL.prototype,"runSaveParticipants",null),(0,h.__decorate)([ob],oL.prototype,"create",null),(0,h.__decorate)([ob],oL.prototype,"createFolder",null),(0,h.__decorate)([ob],oL.prototype,"move",null),(0,h.__decorate)([ob],oL.prototype,"copy",null),(0,h.__decorate)([ob],oL.prototype,"delete",null),(0,h.__decorate)([ob],oL.prototype,"registerWorkingCopyProvider",null),(0,z.registerSingleton)(ij.IWorkingCopyFileService,oL,z.InstantiationType.Eager);class oT{constructor(){this.defaultUriScheme="file",this.resolvedUserHome=void 0}get path(){return(0,oC.unsupported)()}fileURI(){(0,oC.unsupported)()}userHome(){(0,oC.unsupported)()}hasValidBasename(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oT.prototype,"path",null),(0,h.__decorate)([ob],oT.prototype,"fileURI",null),(0,h.__decorate)([ob],oT.prototype,"userHome",null),(0,h.__decorate)([ob],oT.prototype,"hasValidBasename",null),(0,z.registerSingleton)(iw.IPathService,oT,z.InstantiationType.Delayed),(0,z.registerSingleton)($.IProductService,class{constructor(){this._serviceBrand=void 0,this.version="1.96.4",this.commit="cd4ee3b1c348a13bafd8f9ad8060705f6d4b9cba",this.quality="oss",this.nameShort="Code - OSS Dev",this.nameLong="Code - OSS Dev",this.applicationName="code-oss",this.dataFolderName=".vscode-oss",this.urlProtocol="code-oss",this.reportIssueUrl="https://github.com/microsoft/vscode/issues/new",this.licenseName="MIT",this.licenseUrl="https://github.com/microsoft/vscode/blob/main/LICENSE.txt",this.serverApplicationName="code-server-oss"}},z.InstantiationType.Eager),(0,z.registerSingleton)(T.IExtensionTipsService,class{constructor(){this._serviceBrand=void 0,this.getConfigBasedTips=async()=>[],this.getImportantExecutableBasedTips=async()=>[],this.getOtherExecutableBasedTips=async()=>[]}},z.InstantiationType.Eager);class oR{constructor(){this.onDidChange=g.Event.None}addStatus(){(0,oC.unsupported)()}getLanguageStatus(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oR.prototype,"addStatus",null),(0,h.__decorate)([ob],oR.prototype,"getLanguageStatus",null),(0,z.registerSingleton)(il.ILanguageStatusService,oR,z.InstantiationType.Delayed);class oN{constructor(){this.getNativeWindowHandle=async()=>void 0,this.getScreenshot=async()=>void 0,this.getPathForFile=()=>void 0,this.onDidChangeFullScreen=g.Event.None,this.onDidChangeFocus=g.Event.None,this.hasFocus=!1,this.hadLastFocus=async()=>!1,this.onDidChangeActiveWindow=g.Event.None}focus(){(0,oC.unsupported)()}openWindow(){(0,oC.unsupported)()}toggleFullScreen(){(0,oC.unsupported)()}moveTop(){(0,oC.unsupported)()}getCursorScreenPoint(){(0,oC.unsupported)()}restart(){(0,oC.unsupported)()}reload(){(0,oC.unsupported)()}close(){(0,oC.unsupported)()}withExpectedShutdown(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oN.prototype,"focus",null),(0,h.__decorate)([ob],oN.prototype,"openWindow",null),(0,h.__decorate)([ob],oN.prototype,"toggleFullScreen",null),(0,h.__decorate)([ob],oN.prototype,"moveTop",null),(0,h.__decorate)([ob],oN.prototype,"getCursorScreenPoint",null),(0,h.__decorate)([ob],oN.prototype,"restart",null),(0,h.__decorate)([ob],oN.prototype,"reload",null),(0,h.__decorate)([ob],oN.prototype,"close",null),(0,h.__decorate)([ob],oN.prototype,"withExpectedShutdown",null),(0,z.registerSingleton)(t7.IHostService,oN,z.InstantiationType.Eager);class oP extends i_{shutdown(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oP.prototype,"shutdown",null),(0,z.registerSingleton)(id.ILifecycleService,oP,z.InstantiationType.Eager),(0,z.registerSingleton)(ia.ILanguageDetectionService,class{isEnabledForLanguage(){return!1}async detectLanguage(){}},z.InstantiationType.Eager),(0,z.registerSingleton)(t4.IExtensionService,i0.NullExtensionService,z.InstantiationType.Eager),(0,z.registerSingleton)(V.IKeyboardLayoutService,class{constructor(){this.onDidChangeKeyboardLayout=g.Event.None,this.getRawKeyboardMapping=()=>null,this.getCurrentKeyboardLayout=()=>null,this.getAllKeyboardLayouts=()=>[],this.getKeyboardMapper=()=>new ir(!1,f.OS),this.validateCurrentKeyboardMapping=()=>{}}},z.InstantiationType.Delayed),(0,z.registerSingleton)(iK.IUserDataInitializationService,class{async requiresInitialization(){return!1}async whenInitializationFinished(){}async initializeRequiredResources(){}async initializeInstalledExtensions(){}async initializeOtherResources(){}},z.InstantiationType.Eager),(0,z.registerSingleton)(iR.IHostColorSchemeService,class{constructor(){this.dark=!1,this.highContrast=!1,this.onDidChangeColorScheme=g.Event.None}},z.InstantiationType.Eager);let oO=class{constructor(e){this.profileService=e,this.onDidDefaultSettingsContentChanged=g.Event.None,this.getDefaultSettingsContent=()=>void 0,this.hasDefaultSettingsContent=()=>!1,this.getSetting=()=>void 0,this.userSettingsResource=this.profileService.currentProfile.settingsResource,this.workspaceSettingsResource=null}getFolderSettingsResource(){(0,oC.unsupported)()}createPreferencesEditorModel(){(0,oC.unsupported)()}resolveModel(){(0,oC.unsupported)()}createSettings2EditorModel(){(0,oC.unsupported)()}openRawDefaultSettings(){(0,oC.unsupported)()}openSettings(){(0,oC.unsupported)()}openUserSettings(){(0,oC.unsupported)()}openRemoteSettings(){(0,oC.unsupported)()}openWorkspaceSettings(){(0,oC.unsupported)()}openFolderSettings(){(0,oC.unsupported)()}openGlobalKeybindingSettings(){(0,oC.unsupported)()}openDefaultKeybindingsFile(){(0,oC.unsupported)()}getEditableSettingsURI(){(0,oC.unsupported)()}createSplitJsonEditorInput(){(0,oC.unsupported)()}openApplicationSettings(){(0,oC.unsupported)()}openLanguageSpecificSettings(){(0,oC.unsupported)()}};(0,h.__decorate)([ob],oO.prototype,"getFolderSettingsResource",null),(0,h.__decorate)([ob],oO.prototype,"createPreferencesEditorModel",null),(0,h.__decorate)([ob],oO.prototype,"resolveModel",null),(0,h.__decorate)([ob],oO.prototype,"createSettings2EditorModel",null),(0,h.__decorate)([ob],oO.prototype,"openRawDefaultSettings",null),(0,h.__decorate)([ob],oO.prototype,"openSettings",null),(0,h.__decorate)([ob],oO.prototype,"openUserSettings",null),(0,h.__decorate)([ob],oO.prototype,"openRemoteSettings",null),(0,h.__decorate)([ob],oO.prototype,"openWorkspaceSettings",null),(0,h.__decorate)([ob],oO.prototype,"openFolderSettings",null),(0,h.__decorate)([ob],oO.prototype,"openGlobalKeybindingSettings",null),(0,h.__decorate)([ob],oO.prototype,"openDefaultKeybindingsFile",null),(0,h.__decorate)([ob],oO.prototype,"getEditableSettingsURI",null),(0,h.__decorate)([ob],oO.prototype,"createSplitJsonEditorInput",null),(0,h.__decorate)([ob],oO.prototype,"openApplicationSettings",null),(0,h.__decorate)([ob],oO.prototype,"openLanguageSpecificSettings",null),oO=(0,h.__decorate)([(0,h.__param)(0,iz.IUserDataProfileService)],oO),(0,z.registerSingleton)(iE.IPreferencesService,oO,z.InstantiationType.Eager);class oF{constructor(){this.onDidEncounterLanguage=g.Event.None}createGrammar(){(0,oC.unsupported)()}startDebugMode(){(0,oC.unsupported)()}createTokenizer(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oF.prototype,"createGrammar",null),(0,h.__decorate)([ob],oF.prototype,"startDebugMode",null),(0,h.__decorate)([ob],oF.prototype,"createTokenizer",null),(0,z.registerSingleton)(iM.ITextMateTokenizationService,oF,z.InstantiationType.Eager);let oK=class{constructor(e){this.profileService=e,this.onDidResetWorkspaces=g.Event.None,this.isEnabled=()=>!1,this.defaultProfile=this.profileService.currentProfile,this.onDidChangeProfiles=g.Event.None,this.profiles=[this.profileService.currentProfile],this.getProfile=()=>this.profileService.currentProfile}createNamedProfile(){(0,oC.unsupported)()}createTransientProfile(){(0,oC.unsupported)()}resetWorkspaces(){(0,oC.unsupported)()}cleanUp(){(0,oC.unsupported)()}cleanUpTransientProfiles(){(0,oC.unsupported)()}get profilesHome(){return(0,oC.unsupported)()}createProfile(){(0,oC.unsupported)()}updateProfile(){(0,oC.unsupported)()}setProfileForWorkspace(){(0,oC.unsupported)()}removeProfile(){(0,oC.unsupported)()}};(0,h.__decorate)([ob],oK.prototype,"createNamedProfile",null),(0,h.__decorate)([ob],oK.prototype,"createTransientProfile",null),(0,h.__decorate)([ob],oK.prototype,"resetWorkspaces",null),(0,h.__decorate)([ob],oK.prototype,"cleanUp",null),(0,h.__decorate)([ob],oK.prototype,"cleanUpTransientProfiles",null),(0,h.__decorate)([ob],oK.prototype,"profilesHome",null),(0,h.__decorate)([ob],oK.prototype,"createProfile",null),(0,h.__decorate)([ob],oK.prototype,"updateProfile",null),(0,h.__decorate)([ob],oK.prototype,"setProfileForWorkspace",null),(0,h.__decorate)([ob],oK.prototype,"removeProfile",null),oK=(0,h.__decorate)([(0,h.__param)(0,iz.IUserDataProfileService)],oK),(0,z.registerSingleton)(e_.IUserDataProfilesService,oK,z.InstantiationType.Eager);class oW{constructor(){this.onDidChange=g.Event.None}readStorageData(){(0,oC.unsupported)()}updateStorageData(){(0,oC.unsupported)()}withProfileScopedStorageService(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oW.prototype,"readStorageData",null),(0,h.__decorate)([ob],oW.prototype,"updateStorageData",null),(0,h.__decorate)([ob],oW.prototype,"withProfileScopedStorageService",null),(0,z.registerSingleton)(oi,oW,z.InstantiationType.Eager);let oz=class extends iH{constructor(e){super({...(0,i1.toUserDataProfile)("__default__profile__","Default",e.userRoamingDataHome,(0,y.joinPath)(e.cacheHome,"CachedProfilesData")),isDefault:!0})}};oz=(0,h.__decorate)([(0,h.__param)(0,L.IEnvironmentService)],oz),(0,z.registerSingleton)(iz.IUserDataProfileService,oz,z.InstantiationType.Eager),(0,z.registerSingleton)(q.IPolicyService,G.NullPolicyService,z.InstantiationType.Eager);class oV{constructor(){this.getSnippets=async()=>[]}getSnippetFiles(){(0,oC.unsupported)()}isEnabled(){(0,oC.unsupported)()}updateEnablement(){(0,oC.unsupported)()}updateUsageTimestamp(){(0,oC.unsupported)()}getSnippetsSync(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oV.prototype,"getSnippetFiles",null),(0,h.__decorate)([ob],oV.prototype,"isEnabled",null),(0,h.__decorate)([ob],oV.prototype,"updateEnablement",null),(0,h.__decorate)([ob],oV.prototype,"updateUsageTimestamp",null),(0,h.__decorate)([ob],oV.prototype,"getSnippetsSync",null),(0,z.registerSingleton)(tc.ISnippetsService,oV,z.InstantiationType.Eager);let oB={getSession:()=>void 0,getSessions:()=>[],getBreakpoints:()=>[],areBreakpointsActivated:()=>!1,getFunctionBreakpoints:()=>[],getDataBreakpoints:()=>[],getExceptionBreakpoints:()=>[],getExceptionBreakpointsForSession:()=>[],getInstructionBreakpoints:()=>[],getWatchExpressions:()=>[],onDidChangeBreakpoints:g.Event.None,onDidChangeCallStack:g.Event.None,onDidChangeWatchExpressions:g.Event.None,fetchCallstack:oC.unsupported,getId:oC.unsupported,registerBreakpointModes:oC.unsupported,getBreakpointModes:()=>[],onDidChangeWatchExpressionValue:g.Event.None};class oH{constructor(){this.getVisualizedExpression=()=>void 0,this.onDidChangeVisualization=g.Event.None,this.focusedSession=void 0,this.focusedThread=void 0,this.focusedStackFrame=void 0,this.onDidFocusSession=g.Event.None,this.onDidFocusStackFrame=g.Event.None,this.onDidSelectExpression=g.Event.None,this.onDidEvaluateLazyExpression=g.Event.None,this.onWillUpdateViews=g.Event.None,this.onDidFocusThread=g.Event.None}setVisualizedExpression(){(0,oC.unsupported)()}getId(){(0,oC.unsupported)()}getSelectedExpression(){(0,oC.unsupported)()}setSelectedExpression(){(0,oC.unsupported)()}updateViews(){(0,oC.unsupported)()}isMultiSessionView(){(0,oC.unsupported)()}evaluateLazyExpression(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oH.prototype,"setVisualizedExpression",null),(0,h.__decorate)([ob],oH.prototype,"getId",null),(0,h.__decorate)([ob],oH.prototype,"getSelectedExpression",null),(0,h.__decorate)([ob],oH.prototype,"setSelectedExpression",null),(0,h.__decorate)([ob],oH.prototype,"updateViews",null),(0,h.__decorate)([ob],oH.prototype,"isMultiSessionView",null),(0,h.__decorate)([ob],oH.prototype,"evaluateLazyExpression",null);class oU{constructor(){this.onDidRegisterDebugger=g.Event.None,this.hasEnabledDebuggers=()=>!1,this.someDebuggerInterestedInLanguage=()=>!1,this.getDebugger=()=>void 0,this.registerDebugAdapterFactory=()=>m.Disposable.None,this.onDidDebuggersExtPointRead=g.Event.None}getDebugAdapterDescriptor(){(0,oC.unsupported)()}getDebuggerLabel(){(0,oC.unsupported)()}activateDebuggers(){(0,oC.unsupported)()}createDebugAdapter(){(0,oC.unsupported)()}registerDebugAdapterDescriptorFactory(){(0,oC.unsupported)()}unregisterDebugAdapterDescriptorFactory(){(0,oC.unsupported)()}substituteVariables(){(0,oC.unsupported)()}runInTerminal(){(0,oC.unsupported)()}getEnabledDebugger(){(0,oC.unsupported)()}guessDebugger(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oU.prototype,"getDebugAdapterDescriptor",null),(0,h.__decorate)([ob],oU.prototype,"getDebuggerLabel",null),(0,h.__decorate)([ob],oU.prototype,"activateDebuggers",null),(0,h.__decorate)([ob],oU.prototype,"createDebugAdapter",null),(0,h.__decorate)([ob],oU.prototype,"registerDebugAdapterDescriptorFactory",null),(0,h.__decorate)([ob],oU.prototype,"unregisterDebugAdapterDescriptorFactory",null),(0,h.__decorate)([ob],oU.prototype,"substituteVariables",null),(0,h.__decorate)([ob],oU.prototype,"runInTerminal",null),(0,h.__decorate)([ob],oU.prototype,"getEnabledDebugger",null),(0,h.__decorate)([ob],oU.prototype,"guessDebugger",null);class oG{constructor(){this.initializingOptions=void 0,this.onDidChangeState=g.Event.None,this.onDidNewSession=g.Event.None,this.onWillNewSession=g.Event.None,this.onDidEndSession=g.Event.None,this.getAdapterManager=()=>new oU,this.getModel=()=>oB,this.getViewModel=()=>new oH}sendBreakpoints(){(0,oC.unsupported)()}updateDataBreakpoint(){(0,oC.unsupported)()}get state(){return(0,oC.unsupported)()}getConfigurationManager(){(0,oC.unsupported)()}focusStackFrame(){(0,oC.unsupported)()}canSetBreakpointsIn(){(0,oC.unsupported)()}addBreakpoints(){(0,oC.unsupported)()}updateBreakpoints(){(0,oC.unsupported)()}enableOrDisableBreakpoints(){(0,oC.unsupported)()}setBreakpointsActivated(){(0,oC.unsupported)()}removeBreakpoints(){(0,oC.unsupported)()}addFunctionBreakpoint(){(0,oC.unsupported)()}updateFunctionBreakpoint(){(0,oC.unsupported)()}removeFunctionBreakpoints(){(0,oC.unsupported)()}addDataBreakpoint(){(0,oC.unsupported)()}removeDataBreakpoints(){(0,oC.unsupported)()}addInstructionBreakpoint(){(0,oC.unsupported)()}removeInstructionBreakpoints(){(0,oC.unsupported)()}setExceptionBreakpointCondition(){(0,oC.unsupported)()}setExceptionBreakpointsForSession(){(0,oC.unsupported)()}sendAllBreakpoints(){(0,oC.unsupported)()}addWatchExpression(){(0,oC.unsupported)()}renameWatchExpression(){(0,oC.unsupported)()}moveWatchExpression(){(0,oC.unsupported)()}removeWatchExpressions(){(0,oC.unsupported)()}startDebugging(){(0,oC.unsupported)()}restartSession(){(0,oC.unsupported)()}stopSession(){(0,oC.unsupported)()}sourceIsNotAvailable(){(0,oC.unsupported)()}runTo(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oG.prototype,"sendBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"updateDataBreakpoint",null),(0,h.__decorate)([ob],oG.prototype,"state",null),(0,h.__decorate)([ob],oG.prototype,"getConfigurationManager",null),(0,h.__decorate)([ob],oG.prototype,"focusStackFrame",null),(0,h.__decorate)([ob],oG.prototype,"canSetBreakpointsIn",null),(0,h.__decorate)([ob],oG.prototype,"addBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"updateBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"enableOrDisableBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"setBreakpointsActivated",null),(0,h.__decorate)([ob],oG.prototype,"removeBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"addFunctionBreakpoint",null),(0,h.__decorate)([ob],oG.prototype,"updateFunctionBreakpoint",null),(0,h.__decorate)([ob],oG.prototype,"removeFunctionBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"addDataBreakpoint",null),(0,h.__decorate)([ob],oG.prototype,"removeDataBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"addInstructionBreakpoint",null),(0,h.__decorate)([ob],oG.prototype,"removeInstructionBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"setExceptionBreakpointCondition",null),(0,h.__decorate)([ob],oG.prototype,"setExceptionBreakpointsForSession",null),(0,h.__decorate)([ob],oG.prototype,"sendAllBreakpoints",null),(0,h.__decorate)([ob],oG.prototype,"addWatchExpression",null),(0,h.__decorate)([ob],oG.prototype,"renameWatchExpression",null),(0,h.__decorate)([ob],oG.prototype,"moveWatchExpression",null),(0,h.__decorate)([ob],oG.prototype,"removeWatchExpressions",null),(0,h.__decorate)([ob],oG.prototype,"startDebugging",null),(0,h.__decorate)([ob],oG.prototype,"restartSession",null),(0,h.__decorate)([ob],oG.prototype,"stopSession",null),(0,h.__decorate)([ob],oG.prototype,"sourceIsNotAvailable",null),(0,h.__decorate)([ob],oG.prototype,"runTo",null),(0,z.registerSingleton)(eV.IDebugService,oG,z.InstantiationType.Eager);class oq{lookupAuthorization(){(0,oC.unsupported)()}lookupKerberosAuthorization(){(0,oC.unsupported)()}request(){(0,oC.unsupported)()}resolveProxy(){(0,oC.unsupported)()}loadCertificates(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oq.prototype,"lookupAuthorization",null),(0,h.__decorate)([ob],oq.prototype,"lookupKerberosAuthorization",null),(0,h.__decorate)([ob],oq.prototype,"request",null),(0,h.__decorate)([ob],oq.prototype,"resolveProxy",null),(0,h.__decorate)([ob],oq.prototype,"loadCertificates",null),(0,z.registerSingleton)(Z.IRequestService,oq,z.InstantiationType.Eager);class o${constructor(){this.onDidInitiateOpenFilesTrustRequest=g.Event.None,this.onDidInitiateWorkspaceTrustRequest=g.Event.None,this.onDidInitiateWorkspaceTrustRequestOnStartup=g.Event.None,this.requestOpenFilesTrust=async()=>eE.WorkspaceTrustUriResponse.Open,this.requestWorkspaceTrust=async()=>!0,this.requestWorkspaceTrustOnStartup=()=>null}completeOpenFilesTrustRequest(){(0,oC.unsupported)()}cancelWorkspaceTrustRequest(){(0,oC.unsupported)()}completeWorkspaceTrustRequest(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o$.prototype,"completeOpenFilesTrustRequest",null),(0,h.__decorate)([ob],o$.prototype,"cancelWorkspaceTrustRequest",null),(0,h.__decorate)([ob],o$.prototype,"completeWorkspaceTrustRequest",null),(0,z.registerSingleton)(eI.IWorkspaceTrustRequestService,o$,z.InstantiationType.Eager);class oj{constructor(){this.onDidChangeActivity=g.Event.None,this.showViewContainerActivity=()=>m.Disposable.None,this.showViewActivity=()=>m.Disposable.None,this.showAccountsActivity=()=>m.Disposable.None,this.showGlobalActivity=()=>m.Disposable.None}getViewContainerActivities(){(0,oC.unsupported)()}getActivity(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oj.prototype,"getViewContainerActivities",null),(0,h.__decorate)([ob],oj.prototype,"getActivity",null),(0,z.registerSingleton)(tN.IActivityService,oj,z.InstantiationType.Eager);class oQ{constructor(){this.onReload=g.Event.None,this.onClose=g.Event.None,this.onAttachSession=g.Event.None,this.onTerminateSession=g.Event.None}reload(){(0,oC.unsupported)()}close(){(0,oC.unsupported)()}attachSession(){(0,oC.unsupported)()}terminateSession(){(0,oC.unsupported)()}openExtensionDevelopmentHostWindow(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oQ.prototype,"reload",null),(0,h.__decorate)([ob],oQ.prototype,"close",null),(0,h.__decorate)([ob],oQ.prototype,"attachSession",null),(0,h.__decorate)([ob],oQ.prototype,"terminateSession",null),(0,h.__decorate)([ob],oQ.prototype,"openExtensionDevelopmentHostWindow",null),(0,z.registerSingleton)(I.IExtensionHostDebugService,oQ,z.InstantiationType.Eager);class oY{constructor(){this.getFocusedView=()=>null,this.isViewContainerActive=()=>!1,this.onDidChangeFocusedView=g.Event.None,this.onDidChangeViewContainerVisibility=g.Event.None,this.isViewContainerVisible=()=>!1,this.getActiveViewPaneContainerWithId=()=>null,this.onDidChangeViewVisibility=g.Event.None,this.isViewVisible=()=>!1,this.openView=async()=>null,this.getActiveViewWithId=()=>null,this.getViewWithId=()=>null,this.getViewProgressIndicator=()=>void 0}getFocusedViewName(){(0,oC.unsupported)()}openViewContainer(){(0,oC.unsupported)()}closeViewContainer(){(0,oC.unsupported)()}getVisibleViewContainer(){(0,oC.unsupported)()}closeView(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oY.prototype,"getFocusedViewName",null),(0,h.__decorate)([ob],oY.prototype,"openViewContainer",null),(0,h.__decorate)([ob],oY.prototype,"closeViewContainer",null),(0,h.__decorate)([ob],oY.prototype,"getVisibleViewContainer",null),(0,h.__decorate)([ob],oY.prototype,"closeView",null),(0,z.registerSingleton)(iG.IViewsService,oY,z.InstantiationType.Eager);class oZ{constructor(){this.viewContainers=[],this.onDidChangeViewContainers=g.Event.None,this.getDefaultViewContainer=()=>void 0,this.getViewContainerById=()=>null,this.getDefaultViewContainerLocation=()=>null,this.getViewContainerLocation=()=>null,this.getViewContainerModel=()=>({onDidChangeAllViewDescriptors:g.Event.None,visibleViewDescriptors:[]}),this.onDidChangeContainerLocation=g.Event.None,this.getViewDescriptorById=()=>null,this.getViewContainerByViewId=()=>null,this.getDefaultContainerById=()=>null,this.getViewLocationById=()=>null,this.onDidChangeContainer=g.Event.None,this.onDidChangeLocation=g.Event.None,this.moveViewToLocation=()=>null,this.reset=()=>null}isViewContainerRemovedPermanently(){(0,oC.unsupported)()}getViewContainersByLocation(){(0,oC.unsupported)()}moveViewContainerToLocation(){(0,oC.unsupported)()}getViewContainerBadgeEnablementState(){(0,oC.unsupported)()}setViewContainerBadgeEnablementState(){(0,oC.unsupported)()}moveViewsToContainer(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oZ.prototype,"isViewContainerRemovedPermanently",null),(0,h.__decorate)([ob],oZ.prototype,"getViewContainersByLocation",null),(0,h.__decorate)([ob],oZ.prototype,"moveViewContainerToLocation",null),(0,h.__decorate)([ob],oZ.prototype,"getViewContainerBadgeEnablementState",null),(0,h.__decorate)([ob],oZ.prototype,"setViewContainerBadgeEnablementState",null),(0,h.__decorate)([ob],oZ.prototype,"moveViewsToContainer",null),(0,z.registerSingleton)(eM.IViewDescriptorService,oZ,z.InstantiationType.Eager);class oX{constructor(){this.suspendTracking=()=>({dispose(){}}),this.getHistory=()=>[],this.getLastActiveWorkspaceRoot=()=>void 0,this.getLastActiveFile=()=>void 0}goForward(){(0,oC.unsupported)()}goBack(){(0,oC.unsupported)()}goPrevious(){(0,oC.unsupported)()}goLast(){(0,oC.unsupported)()}reopenLastClosedEditor(){(0,oC.unsupported)()}removeFromHistory(){(0,oC.unsupported)()}openNextRecentlyUsedEditor(){(0,oC.unsupported)()}openPreviouslyUsedEditor(){(0,oC.unsupported)()}clear(){(0,oC.unsupported)()}clearRecentlyOpened(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oX.prototype,"goForward",null),(0,h.__decorate)([ob],oX.prototype,"goBack",null),(0,h.__decorate)([ob],oX.prototype,"goPrevious",null),(0,h.__decorate)([ob],oX.prototype,"goLast",null),(0,h.__decorate)([ob],oX.prototype,"reopenLastClosedEditor",null),(0,h.__decorate)([ob],oX.prototype,"removeFromHistory",null),(0,h.__decorate)([ob],oX.prototype,"openNextRecentlyUsedEditor",null),(0,h.__decorate)([ob],oX.prototype,"openPreviouslyUsedEditor",null),(0,h.__decorate)([ob],oX.prototype,"clear",null),(0,h.__decorate)([ob],oX.prototype,"clearRecentlyOpened",null),(0,z.registerSingleton)(t9.IHistoryService,oX,z.InstantiationType.Eager);class oJ{constructor(){this.onDidChangeTaskProviders=g.Event.None,this.getKnownTasks=async()=>[],this.onDidChangeTaskConfig=g.Event.None,this.onDidStateChange=g.Event.None,this.supportsMultipleTaskExecutions=!1,this.inTerminal=()=>!1,this.getActiveTasks=async()=>[],this.registerTaskSystem=()=>{},this.onDidChangeTaskSystemInfo=g.Event.None,this.hasTaskSystemInfo=!1,this.registerSupportedExecutions=()=>{},this.isReconnected=!1,this.onDidReconnectToTasks=g.Event.None}configureAction(){(0,oC.unsupported)()}run(){(0,oC.unsupported)()}getBusyTasks(){(0,oC.unsupported)()}terminate(){(0,oC.unsupported)()}tasks(){(0,oC.unsupported)()}taskTypes(){(0,oC.unsupported)()}getWorkspaceTasks(){(0,oC.unsupported)()}getSavedTasks(){(0,oC.unsupported)()}removeRecentlyUsedTask(){(0,oC.unsupported)()}getTask(){(0,oC.unsupported)()}tryResolveTask(){(0,oC.unsupported)()}createSorter(){(0,oC.unsupported)()}getTaskDescription(){(0,oC.unsupported)()}customize(){(0,oC.unsupported)()}openConfig(){(0,oC.unsupported)()}registerTaskProvider(){(0,oC.unsupported)()}extensionCallbackTaskComplete(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],oJ.prototype,"configureAction",null),(0,h.__decorate)([ob],oJ.prototype,"run",null),(0,h.__decorate)([ob],oJ.prototype,"getBusyTasks",null),(0,h.__decorate)([ob],oJ.prototype,"terminate",null),(0,h.__decorate)([ob],oJ.prototype,"tasks",null),(0,h.__decorate)([ob],oJ.prototype,"taskTypes",null),(0,h.__decorate)([ob],oJ.prototype,"getWorkspaceTasks",null),(0,h.__decorate)([ob],oJ.prototype,"getSavedTasks",null),(0,h.__decorate)([ob],oJ.prototype,"removeRecentlyUsedTask",null),(0,h.__decorate)([ob],oJ.prototype,"getTask",null),(0,h.__decorate)([ob],oJ.prototype,"tryResolveTask",null),(0,h.__decorate)([ob],oJ.prototype,"createSorter",null),(0,h.__decorate)([ob],oJ.prototype,"getTaskDescription",null),(0,h.__decorate)([ob],oJ.prototype,"customize",null),(0,h.__decorate)([ob],oJ.prototype,"openConfig",null),(0,h.__decorate)([ob],oJ.prototype,"registerTaskProvider",null),(0,h.__decorate)([ob],oJ.prototype,"extensionCallbackTaskComplete",null),(0,z.registerSingleton)(tp.ITaskService,oJ,z.InstantiationType.Eager);class o0{resolveWithEnvironment(){(0,oC.unsupported)()}resolveAsync(){(0,oC.unsupported)()}resolveAnyAsync(){(0,oC.unsupported)()}resolveAnyMap(){(0,oC.unsupported)()}resolveWithInteractionReplace(){(0,oC.unsupported)()}resolveWithInteraction(){(0,oC.unsupported)()}contributeVariable(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o0.prototype,"resolveWithEnvironment",null),(0,h.__decorate)([ob],o0.prototype,"resolveAsync",null),(0,h.__decorate)([ob],o0.prototype,"resolveAnyAsync",null),(0,h.__decorate)([ob],o0.prototype,"resolveAnyMap",null),(0,h.__decorate)([ob],o0.prototype,"resolveWithInteractionReplace",null),(0,h.__decorate)([ob],o0.prototype,"resolveWithInteraction",null),(0,h.__decorate)([ob],o0.prototype,"contributeVariable",null),(0,z.registerSingleton)(tU.IConfigurationResolverService,o0,z.InstantiationType.Eager);class o1{constructor(){this.getConnection=()=>null,this.getEnvironment=async()=>null,this.getRawEnvironment=async()=>null,this.getExtensionHostExitInfo=async()=>null,this.getRoundTripTime=async()=>void 0,this.whenExtensionsReady=async()=>void 0,this.scanExtensions=async()=>[],this.scanSingleExtension=async()=>null,this.getDiagnosticInfo=async()=>void 0,this.updateTelemetryLevel=async()=>void 0,this.logTelemetry=async()=>void 0,this.flushTelemetry=async()=>void 0}endConnection(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o1.prototype,"endConnection",null),(0,z.registerSingleton)(iI.IRemoteAgentService,o1,z.InstantiationType.Eager),(0,z.registerSingleton)(ee.ICustomEndpointTelemetryService,et.NullEndpointTelemetryService,z.InstantiationType.Eager);let o2=class{constructor(e){this.modelService=e,this.schemeHasFileSearchProvider=()=>!1,this.getAIName=async()=>void 0}aiTextSearch(){(0,oC.unsupported)()}textSearchSplitSyncAsync(){(0,oC.unsupported)()}async textSearch(){return{results:[],messages:[]}}async fileSearch(){return{results:this.modelService.getModels().map(e=>({resource:e.uri})),messages:[]}}async clearCache(){}registerSearchResultProvider(){(0,oC.unsupported)()}};(0,h.__decorate)([ob],o2.prototype,"aiTextSearch",null),(0,h.__decorate)([ob],o2.prototype,"textSearchSplitSyncAsync",null),(0,h.__decorate)([ob],o2.prototype,"registerSearchResultProvider",null),o2=(0,h.__decorate)([(0,h.__param)(0,b.IModelService)],o2),(0,z.registerSingleton)(iD.ISearchService,o2,z.InstantiationType.Eager),(0,z.registerSingleton)(ew.IEditSessionIdentityService,class{constructor(){this.registerEditSessionIdentityProvider=()=>m.Disposable.None,this.getEditSessionIdentifier=async()=>void 0,this.provideEditSessionIdentityMatch=async()=>void 0,this.addEditSessionIdentityCreateParticipant=()=>m.Disposable.None,this.onWillCreateEditSessionIdentity=async()=>{}}},z.InstantiationType.Eager);class o3{addFolders(){(0,oC.unsupported)()}removeFolders(){(0,oC.unsupported)()}updateFolders(){(0,oC.unsupported)()}enterWorkspace(){(0,oC.unsupported)()}createAndEnterWorkspace(){(0,oC.unsupported)()}saveAndEnterWorkspace(){(0,oC.unsupported)()}copyWorkspaceSettings(){(0,oC.unsupported)()}pickNewWorkspacePath(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o3.prototype,"addFolders",null),(0,h.__decorate)([ob],o3.prototype,"removeFolders",null),(0,h.__decorate)([ob],o3.prototype,"updateFolders",null),(0,h.__decorate)([ob],o3.prototype,"enterWorkspace",null),(0,h.__decorate)([ob],o3.prototype,"createAndEnterWorkspace",null),(0,h.__decorate)([ob],o3.prototype,"saveAndEnterWorkspace",null),(0,h.__decorate)([ob],o3.prototype,"copyWorkspaceSettings",null),(0,h.__decorate)([ob],o3.prototype,"pickNewWorkspacePath",null),(0,z.registerSingleton)(iZ.IWorkspaceEditingService,o3,z.InstantiationType.Eager);class o5{constructor(){this.setPerformanceMarks=()=>{}}getStartTime(){(0,oC.unsupported)()}whenReady(){(0,oC.unsupported)()}get perfBaseline(){return(0,oC.unsupported)()}get startupMetrics(){return(0,oC.unsupported)()}getPerformanceMarks(){(0,oC.unsupported)()}getDuration(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o5.prototype,"getStartTime",null),(0,h.__decorate)([ob],o5.prototype,"whenReady",null),(0,h.__decorate)([ob],o5.prototype,"perfBaseline",null),(0,h.__decorate)([ob],o5.prototype,"startupMetrics",null),(0,h.__decorate)([ob],o5.prototype,"getPerformanceMarks",null),(0,h.__decorate)([ob],o5.prototype,"getDuration",null),(0,z.registerSingleton)(iN.ITimerService,o5,z.InstantiationType.Eager);class o4{constructor(){this.getExtensionRuntimeStatus=()=>void 0,this.onDidChangeExtensionsNotification=g.Event.None,this.getExtensionsNotification=()=>void 0,this.shouldRequireConsentToUpdate=async()=>void 0,this.whenInitialized=Promise.resolve(),this.onChange=g.Event.None,this.onReset=g.Event.None,this.preferPreReleases=!1,this.local=[],this.installed=[],this.outdated=[]}downloadVSIX(){(0,oC.unsupported)()}updateAutoUpdateForAllExtensions(){(0,oC.unsupported)()}openSearch(){(0,oC.unsupported)()}updateAutoUpdateValue(){(0,oC.unsupported)()}getResourceExtensions(){(0,oC.unsupported)()}updateRunningExtensions(){(0,oC.unsupported)()}togglePreRelease(){(0,oC.unsupported)()}isAutoUpdateEnabledFor(){(0,oC.unsupported)()}updateAutoUpdateEnablementFor(){(0,oC.unsupported)()}isAutoUpdateEnabled(){(0,oC.unsupported)()}getAutoUpdateValue(){(0,oC.unsupported)()}updateAll(){(0,oC.unsupported)()}toggleApplyExtensionToAllProfiles(){(0,oC.unsupported)()}queryLocal(){(0,oC.unsupported)()}queryGallery(){(0,oC.unsupported)()}getExtensions(){(0,oC.unsupported)()}canInstall(){(0,oC.unsupported)()}install(){(0,oC.unsupported)()}installInServer(){(0,oC.unsupported)()}uninstall(){(0,oC.unsupported)()}installVersion(){(0,oC.unsupported)()}reinstall(){(0,oC.unsupported)()}canSetLanguage(){(0,oC.unsupported)()}setLanguage(){(0,oC.unsupported)()}setEnablement(){(0,oC.unsupported)()}pinExtension(){(0,oC.unsupported)()}open(){(0,oC.unsupported)()}checkForUpdates(){(0,oC.unsupported)()}getExtensionStatus(){(0,oC.unsupported)()}isExtensionIgnoredToSync(){(0,oC.unsupported)()}toggleExtensionIgnoredToSync(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o4.prototype,"downloadVSIX",null),(0,h.__decorate)([ob],o4.prototype,"updateAutoUpdateForAllExtensions",null),(0,h.__decorate)([ob],o4.prototype,"openSearch",null),(0,h.__decorate)([ob],o4.prototype,"updateAutoUpdateValue",null),(0,h.__decorate)([ob],o4.prototype,"getResourceExtensions",null),(0,h.__decorate)([ob],o4.prototype,"updateRunningExtensions",null),(0,h.__decorate)([ob],o4.prototype,"togglePreRelease",null),(0,h.__decorate)([ob],o4.prototype,"isAutoUpdateEnabledFor",null),(0,h.__decorate)([ob],o4.prototype,"updateAutoUpdateEnablementFor",null),(0,h.__decorate)([ob],o4.prototype,"isAutoUpdateEnabled",null),(0,h.__decorate)([ob],o4.prototype,"getAutoUpdateValue",null),(0,h.__decorate)([ob],o4.prototype,"updateAll",null),(0,h.__decorate)([ob],o4.prototype,"toggleApplyExtensionToAllProfiles",null),(0,h.__decorate)([ob],o4.prototype,"queryLocal",null),(0,h.__decorate)([ob],o4.prototype,"queryGallery",null),(0,h.__decorate)([ob],o4.prototype,"getExtensions",null),(0,h.__decorate)([ob],o4.prototype,"canInstall",null),(0,h.__decorate)([ob],o4.prototype,"install",null),(0,h.__decorate)([ob],o4.prototype,"installInServer",null),(0,h.__decorate)([ob],o4.prototype,"uninstall",null),(0,h.__decorate)([ob],o4.prototype,"installVersion",null),(0,h.__decorate)([ob],o4.prototype,"reinstall",null),(0,h.__decorate)([ob],o4.prototype,"canSetLanguage",null),(0,h.__decorate)([ob],o4.prototype,"setLanguage",null),(0,h.__decorate)([ob],o4.prototype,"setEnablement",null),(0,h.__decorate)([ob],o4.prototype,"pinExtension",null),(0,h.__decorate)([ob],o4.prototype,"open",null),(0,h.__decorate)([ob],o4.prototype,"checkForUpdates",null),(0,h.__decorate)([ob],o4.prototype,"getExtensionStatus",null),(0,h.__decorate)([ob],o4.prototype,"isExtensionIgnoredToSync",null),(0,h.__decorate)([ob],o4.prototype,"toggleExtensionIgnoredToSync",null),(0,z.registerSingleton)(eG.IExtensionsWorkbenchService,o4,z.InstantiationType.Eager);class o6{constructor(){this._serviceBrand=void 0,this.localExtensionManagementServer=null,this.remoteExtensionManagementServer=null,this.webExtensionManagementServer=null}getExtensionManagementServer(){(0,oC.unsupported)()}getExtensionInstallLocation(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o6.prototype,"getExtensionManagementServer",null),(0,h.__decorate)([ob],o6.prototype,"getExtensionInstallLocation",null),(0,z.registerSingleton)(t0.IExtensionManagementServerService,o6,z.InstantiationType.Eager),(0,z.registerSingleton)(t1.IExtensionRecommendationsService,class{constructor(){this.onDidChangeRecommendations=g.Event.None,this.getAllRecommendationsWithReason=()=>({}),this.getImportantRecommendations=async()=>[],this.getOtherRecommendations=async()=>[],this.getFileBasedRecommendations=()=>[],this.getExeBasedRecommendations=async()=>({important:[],others:[]}),this.getConfigBasedRecommendations=async()=>({important:[],others:[]}),this.getWorkspaceRecommendations=async()=>[],this.getKeymapRecommendations=()=>[],this.getLanguageRecommendations=()=>[],this.getRemoteRecommendations=()=>[]}},z.InstantiationType.Eager);class o8{constructor(){this.onError=g.Event.None}turnOn(){(0,oC.unsupported)()}turnOff(){(0,oC.unsupported)()}triggerSync(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o8.prototype,"turnOn",null),(0,h.__decorate)([ob],o8.prototype,"turnOff",null),(0,h.__decorate)([ob],o8.prototype,"triggerSync",null),(0,z.registerSingleton)(ev.IUserDataAutoSyncService,o8,z.InstantiationType.Eager);class o9{constructor(){this.getIgnoredExtensions=()=>[],this.hasToNeverSyncExtension=()=>!1,this.hasToAlwaysSyncExtension=()=>!1}updateIgnoredExtensions(){(0,oC.unsupported)()}updateSynchronizedExtensions(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o9.prototype,"updateIgnoredExtensions",null),(0,h.__decorate)([ob],o9.prototype,"updateSynchronizedExtensions",null),(0,z.registerSingleton)(ef,o9,z.InstantiationType.Eager);class o7{constructor(){this.ignoredRecommendations=[],this.hasToIgnoreRecommendationNotifications=()=>!1}promptImportantExtensionsInstallNotification(){(0,oC.unsupported)()}promptWorkspaceRecommendations(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],o7.prototype,"promptImportantExtensionsInstallNotification",null),(0,h.__decorate)([ob],o7.prototype,"promptWorkspaceRecommendations",null),(0,z.registerSingleton)(O.IExtensionRecommendationNotificationService,o7,z.InstantiationType.Eager);class ne{constructor(){this.scanSystemExtensions=async()=>[],this.scanUserExtensions=async()=>[],this.scanExtensionsUnderDevelopment=async()=>[],this.scanExistingExtension=async()=>null,this.removeExtension=async()=>{},this.copyExtensions=async()=>{},this.scanExtensionManifest=async()=>null}addExtension(){(0,oC.unsupported)()}addExtensionFromGallery(){(0,oC.unsupported)()}updateMetadata(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ne.prototype,"addExtension",null),(0,h.__decorate)([ob],ne.prototype,"addExtensionFromGallery",null),(0,h.__decorate)([ob],ne.prototype,"updateMetadata",null),(0,z.registerSingleton)(t0.IWebExtensionsScannerService,ne,z.InstantiationType.Eager);class nt{constructor(){this.onDidChangeCache=g.Event.None}get systemExtensionsLocation(){return(0,oC.unsupported)()}get userExtensionsLocation(){return(0,oC.unsupported)()}getTargetPlatform(){(0,oC.unsupported)()}scanAllExtensions(){(0,oC.unsupported)()}scanSystemExtensions(){(0,oC.unsupported)()}scanUserExtensions(){(0,oC.unsupported)()}scanExtensionsUnderDevelopment(){(0,oC.unsupported)()}scanExistingExtension(){(0,oC.unsupported)()}scanOneOrMultipleExtensions(){(0,oC.unsupported)()}scanMultipleExtensions(){(0,oC.unsupported)()}scanMetadata(){(0,oC.unsupported)()}updateMetadata(){(0,oC.unsupported)()}initializeDefaultProfileExtensions(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nt.prototype,"systemExtensionsLocation",null),(0,h.__decorate)([ob],nt.prototype,"userExtensionsLocation",null),(0,h.__decorate)([ob],nt.prototype,"getTargetPlatform",null),(0,h.__decorate)([ob],nt.prototype,"scanAllExtensions",null),(0,h.__decorate)([ob],nt.prototype,"scanSystemExtensions",null),(0,h.__decorate)([ob],nt.prototype,"scanUserExtensions",null),(0,h.__decorate)([ob],nt.prototype,"scanExtensionsUnderDevelopment",null),(0,h.__decorate)([ob],nt.prototype,"scanExistingExtension",null),(0,h.__decorate)([ob],nt.prototype,"scanOneOrMultipleExtensions",null),(0,h.__decorate)([ob],nt.prototype,"scanMultipleExtensions",null),(0,h.__decorate)([ob],nt.prototype,"scanMetadata",null),(0,h.__decorate)([ob],nt.prototype,"updateMetadata",null),(0,h.__decorate)([ob],nt.prototype,"initializeDefaultProfileExtensions",null),(0,z.registerSingleton)(P.IExtensionsScannerService,nt,z.InstantiationType.Eager);class ni{constructor(){this.onAddExtensions=g.Event.None,this.onDidAddExtensions=g.Event.None,this.onRemoveExtensions=g.Event.None,this.onDidRemoveExtensions=g.Event.None}scanProfileExtensions(){(0,oC.unsupported)()}addExtensionsToProfile(){(0,oC.unsupported)()}updateMetadata(){(0,oC.unsupported)()}removeExtensionFromProfile(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ni.prototype,"scanProfileExtensions",null),(0,h.__decorate)([ob],ni.prototype,"addExtensionsToProfile",null),(0,h.__decorate)([ob],ni.prototype,"updateMetadata",null),(0,h.__decorate)([ob],ni.prototype,"removeExtensionFromProfile",null),(0,z.registerSingleton)(N.IExtensionsProfileScannerService,ni,z.InstantiationType.Eager);class no{constructor(){this.onDidChangeIgnoredRecommendations=g.Event.None,this.ignoredRecommendations=[],this.onDidChangeGlobalIgnoredRecommendation=g.Event.None,this.globalIgnoredRecommendations=[]}toggleGlobalIgnoredRecommendation(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],no.prototype,"toggleGlobalIgnoredRecommendation",null),(0,z.registerSingleton)(t1.IExtensionIgnoredRecommendationsService,no,z.InstantiationType.Eager);class nn{constructor(){this.onDidChangeExtensionsConfigs=g.Event.None}getExtensionsConfigs(){(0,oC.unsupported)()}getRecommendations(){(0,oC.unsupported)()}getUnwantedRecommendations(){(0,oC.unsupported)()}toggleRecommendation(){(0,oC.unsupported)()}toggleUnwantedRecommendation(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nn.prototype,"getExtensionsConfigs",null),(0,h.__decorate)([ob],nn.prototype,"getRecommendations",null),(0,h.__decorate)([ob],nn.prototype,"getUnwantedRecommendations",null),(0,h.__decorate)([ob],nn.prototype,"toggleRecommendation",null),(0,h.__decorate)([ob],nn.prototype,"toggleUnwantedRecommendation",null),(0,z.registerSingleton)(t2,nn,z.InstantiationType.Eager);class nr{constructor(){this.getEnablementStates=e=>e.map(()=>tJ.EnablementState.EnabledGlobally),this.onEnablementChanged=g.Event.None,this.getEnablementState=()=>tJ.EnablementState.EnabledGlobally,this.getDependenciesEnablementStates=()=>[],this.canChangeEnablement=()=>!1,this.canChangeWorkspaceEnablement=()=>!1,this.isEnabled=()=>!0,this.isEnabledEnablementState=()=>!0,this.isDisabledGlobally=()=>!1}setEnablement(){(0,oC.unsupported)()}updateExtensionsEnablementsWhenWorkspaceTrustChanges(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nr.prototype,"setEnablement",null),(0,h.__decorate)([ob],nr.prototype,"updateExtensionsEnablementsWhenWorkspaceTrustChanges",null),(0,z.registerSingleton)(t0.IWorkbenchExtensionEnablementService,nr,z.InstantiationType.Eager);class ns{constructor(){this.canChangeProtocol=!1,this.tunnels=Promise.resolve([]),this.canChangePrivacy=!1,this.privacyOptions=[],this.onTunnelOpened=g.Event.None,this.onTunnelClosed=g.Event.None,this.canElevate=!1,this.hasTunnelProvider=!1,this.onAddedTunnelProvider=g.Event.None,this.canTunnel=()=>!1,this.getExistingTunnel=async()=>void 0,this.isPortPrivileged=()=>!1}openTunnel(){(0,oC.unsupported)()}setEnvironmentTunnel(){(0,oC.unsupported)()}closeTunnel(){(0,oC.unsupported)()}setTunnelProvider(){(0,oC.unsupported)()}setTunnelFeatures(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ns.prototype,"openTunnel",null),(0,h.__decorate)([ob],ns.prototype,"setEnvironmentTunnel",null),(0,h.__decorate)([ob],ns.prototype,"closeTunnel",null),(0,h.__decorate)([ob],ns.prototype,"setTunnelProvider",null),(0,h.__decorate)([ob],ns.prototype,"setTunnelFeatures",null),(0,z.registerSingleton)(er.ITunnelService,ns,z.InstantiationType.Eager);class na{constructor(){this.onDidChangeAutoSaveConfiguration=g.Event.None,this.onDidChangeAutoSaveDisabled=g.Event.None,this.hasShortAutoSaveDelay=()=>!1,this.onDidChangeReadonly=g.Event.None,this.onDidChangeFilesAssociation=g.Event.None,this.onAutoSaveConfigurationChange=g.Event.None,this.onReadonlyChange=g.Event.None,this.onFilesAssociationChange=g.Event.None,this.isHotExitEnabled=!0,this.hotExitConfiguration=void 0}disableAutoSave(){(0,oC.unsupported)()}getAutoSaveConfiguration(){(0,oC.unsupported)()}getAutoSaveMode(){(0,oC.unsupported)()}toggleAutoSave(){(0,oC.unsupported)()}isReadonly(){(0,oC.unsupported)()}updateReadonly(){(0,oC.unsupported)()}preventSaveConflicts(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],na.prototype,"disableAutoSave",null),(0,h.__decorate)([ob],na.prototype,"getAutoSaveConfiguration",null),(0,h.__decorate)([ob],na.prototype,"getAutoSaveMode",null),(0,h.__decorate)([ob],na.prototype,"toggleAutoSave",null),(0,h.__decorate)([ob],na.prototype,"isReadonly",null),(0,h.__decorate)([ob],na.prototype,"updateReadonly",null),(0,h.__decorate)([ob],na.prototype,"preventSaveConflicts",null),(0,z.registerSingleton)(t8.IFilesConfigurationService,na,z.InstantiationType.Eager);class nl{constructor(){this.onDidCreate=g.Event.None,this.canDispose=()=>!0,this.isUntitledWithAssociatedResource=()=>!1,this.onDidChangeDirty=g.Event.None,this.onDidChangeEncoding=g.Event.None,this.onDidChangeLabel=g.Event.None,this.onWillDispose=g.Event.None,this.get=()=>void 0,this.getValue=()=>void 0}create(){(0,oC.unsupported)()}resolve(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nl.prototype,"create",null),(0,h.__decorate)([ob],nl.prototype,"resolve",null),(0,z.registerSingleton)(iO.IUntitledTextEditorService,nl,z.InstantiationType.Eager),(0,z.registerSingleton)(iq.IWorkingCopyBackupService,class{async hasBackups(){return!1}hasBackupSync(){return!1}async getBackups(){return[]}async resolve(){}async backup(){}async discardBackup(){}async discardBackups(){}},z.InstantiationType.Eager),(0,z.registerSingleton)(iY.IWorkingCopyService,class{constructor(){this.onDidRegister=g.Event.None,this.onDidUnregister=g.Event.None,this.onDidChangeDirty=g.Event.None,this.onDidChangeContent=g.Event.None,this.onDidSave=g.Event.None,this.dirtyCount=0,this.dirtyWorkingCopies=[],this.modifiedCount=0,this.modifiedWorkingCopies=[],this.hasDirty=!1,this.isDirty=()=>!1,this.workingCopies=[],this.has=()=>!1,this.get=()=>void 0,this.getAll=()=>void 0}registerWorkingCopy(){return m.Disposable.None}},z.InstantiationType.Eager);class nd{constructor(){this.onDidChangeDecorations=g.Event.None,this.getDecoration=()=>void 0}registerDecorationsProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nd.prototype,"registerDecorationsProvider",null),(0,z.registerSingleton)(tG.IDecorationsService,nd,z.InstantiationType.Eager);class nc{constructor(){this.isSupported=()=>!1}writeFileElevated(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nc.prototype,"writeFileElevated",null),(0,z.registerSingleton)(t6.IElevatedFileService,nc,z.InstantiationType.Eager);class nu{preferredHome(){(0,oC.unsupported)()}defaultFilePath(){(0,oC.unsupported)()}defaultFolderPath(){(0,oC.unsupported)()}defaultWorkspacePath(){(0,oC.unsupported)()}pickFileFolderAndOpen(){(0,oC.unsupported)()}pickFileAndOpen(){(0,oC.unsupported)()}pickFolderAndOpen(){(0,oC.unsupported)()}pickWorkspaceAndOpen(){(0,oC.unsupported)()}pickFileToSave(){(0,oC.unsupported)()}showSaveDialog(){(0,oC.unsupported)()}showSaveConfirm(){(0,oC.unsupported)()}showOpenDialog(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nu.prototype,"preferredHome",null),(0,h.__decorate)([ob],nu.prototype,"defaultFilePath",null),(0,h.__decorate)([ob],nu.prototype,"defaultFolderPath",null),(0,h.__decorate)([ob],nu.prototype,"defaultWorkspacePath",null),(0,h.__decorate)([ob],nu.prototype,"pickFileFolderAndOpen",null),(0,h.__decorate)([ob],nu.prototype,"pickFileAndOpen",null),(0,h.__decorate)([ob],nu.prototype,"pickFolderAndOpen",null),(0,h.__decorate)([ob],nu.prototype,"pickWorkspaceAndOpen",null),(0,h.__decorate)([ob],nu.prototype,"pickFileToSave",null),(0,h.__decorate)([ob],nu.prototype,"showSaveDialog",null),(0,h.__decorate)([ob],nu.prototype,"showSaveConfirm",null),(0,h.__decorate)([ob],nu.prototype,"showOpenDialog",null),(0,z.registerSingleton)(k.IFileDialogService,nu,z.InstantiationType.Eager);class nh{write(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nh.prototype,"write",null),(0,z.registerSingleton)(tH.IJSONEditingService,nh,z.InstantiationType.Delayed);class np{constructor(){this.onDidChangeRecentlyOpened=g.Event.None}enterWorkspace(){(0,oC.unsupported)()}createUntitledWorkspace(){(0,oC.unsupported)()}deleteUntitledWorkspace(){(0,oC.unsupported)()}getWorkspaceIdentifier(){(0,oC.unsupported)()}addRecentlyOpened(){(0,oC.unsupported)()}removeRecentlyOpened(){(0,oC.unsupported)()}clearRecentlyOpened(){(0,oC.unsupported)()}getRecentlyOpened(){(0,oC.unsupported)()}getDirtyWorkspaces(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],np.prototype,"enterWorkspace",null),(0,h.__decorate)([ob],np.prototype,"createUntitledWorkspace",null),(0,h.__decorate)([ob],np.prototype,"deleteUntitledWorkspace",null),(0,h.__decorate)([ob],np.prototype,"getWorkspaceIdentifier",null),(0,h.__decorate)([ob],np.prototype,"addRecentlyOpened",null),(0,h.__decorate)([ob],np.prototype,"removeRecentlyOpened",null),(0,h.__decorate)([ob],np.prototype,"clearRecentlyOpened",null),(0,h.__decorate)([ob],np.prototype,"getRecentlyOpened",null),(0,h.__decorate)([ob],np.prototype,"getDirtyWorkspaces",null),(0,z.registerSingleton)(ex.IWorkspacesService,np,z.InstantiationType.Delayed);class ng{createTextEditor(){(0,oC.unsupported)()}resolveTextEditor(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ng.prototype,"createTextEditor",null),(0,h.__decorate)([ob],ng.prototype,"resolveTextEditor",null),(0,z.registerSingleton)(iL.ITextEditorService,ng,z.InstantiationType.Eager);class nm{constructor(){this.onDidChangeEditorRegistrations=g.Event.None,this.getEditors=()=>[]}getAllUserAssociations(){(0,oC.unsupported)()}getAssociationsForResource(){(0,oC.unsupported)()}updateUserAssociations(){(0,oC.unsupported)()}bufferChangeEvents(){(0,oC.unsupported)()}registerEditor(){return{dispose:()=>{}}}resolveEditor(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nm.prototype,"getAllUserAssociations",null),(0,h.__decorate)([ob],nm.prototype,"getAssociationsForResource",null),(0,h.__decorate)([ob],nm.prototype,"updateUserAssociations",null),(0,h.__decorate)([ob],nm.prototype,"bufferChangeEvents",null),(0,h.__decorate)([ob],nm.prototype,"resolveEditor",null),(0,z.registerSingleton)(tQ.IEditorResolverService,nm,z.InstantiationType.Eager),(0,z.registerSingleton)(ib.IOutputService,class{constructor(){this.onActiveOutputChannel=g.Event.None}getChannel(){}getChannelDescriptor(){}getChannelDescriptors(){return[]}getActiveChannel(){}async showChannel(){}},z.InstantiationType.Delayed);class n_{createOutputChannelModel(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n_.prototype,"createOutputChannelModel",null),(0,z.registerSingleton)(tt,n_,z.InstantiationType.Delayed);class nf{constructor(){this.supportsExtensionGalleryResources=!1,this.isExtensionGalleryResource=()=>!1}readExtensionResource(){(0,oC.unsupported)()}getExtensionGalleryResourceURL(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nf.prototype,"readExtensionResource",null),(0,h.__decorate)([ob],nf.prototype,"getExtensionGalleryResourceURL",null),(0,z.registerSingleton)(F.IExtensionResourceLoaderService,nf,z.InstantiationType.Eager),(0,z.registerSingleton)(K.IBuiltinExtensionsScannerService,class{scanBuiltinExtensions(){return Promise.resolve([])}},z.InstantiationType.Eager);class ny{constructor(){this.roots=[]}get sortOrderConfiguration(){return(0,oC.unsupported)()}getContext(){(0,oC.unsupported)()}hasViewFocus(){(0,oC.unsupported)()}setEditable(){(0,oC.unsupported)()}getEditable(){(0,oC.unsupported)()}getEditableData(){(0,oC.unsupported)()}isEditable(){(0,oC.unsupported)()}findClosest(){(0,oC.unsupported)()}findClosestRoot(){(0,oC.unsupported)()}refresh(){(0,oC.unsupported)()}setToCopy(){(0,oC.unsupported)()}isCut(){(0,oC.unsupported)()}applyBulkEdit(){(0,oC.unsupported)()}select(){(0,oC.unsupported)()}registerView(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ny.prototype,"sortOrderConfiguration",null),(0,h.__decorate)([ob],ny.prototype,"getContext",null),(0,h.__decorate)([ob],ny.prototype,"hasViewFocus",null),(0,h.__decorate)([ob],ny.prototype,"setEditable",null),(0,h.__decorate)([ob],ny.prototype,"getEditable",null),(0,h.__decorate)([ob],ny.prototype,"getEditableData",null),(0,h.__decorate)([ob],ny.prototype,"isEditable",null),(0,h.__decorate)([ob],ny.prototype,"findClosest",null),(0,h.__decorate)([ob],ny.prototype,"findClosestRoot",null),(0,h.__decorate)([ob],ny.prototype,"refresh",null),(0,h.__decorate)([ob],ny.prototype,"setToCopy",null),(0,h.__decorate)([ob],ny.prototype,"isCut",null),(0,h.__decorate)([ob],ny.prototype,"applyBulkEdit",null),(0,h.__decorate)([ob],ny.prototype,"select",null),(0,h.__decorate)([ob],ny.prototype,"registerView",null),(0,z.registerSingleton)(e$.IExplorerService,ny,z.InstantiationType.Delayed);class nv{constructor(){this.getExtensionState=()=>void 0,this.getExtensionStateRaw=()=>void 0,this.onDidChangeExtensionStorageToSync=g.Event.None,this.getKeysForSync=()=>void 0,this.getSourceExtensionToMigrate=()=>void 0}setExtensionState(){(0,oC.unsupported)()}setKeysForSync(){(0,oC.unsupported)()}addToMigrationList(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nv.prototype,"setExtensionState",null),(0,h.__decorate)([ob],nv.prototype,"setKeysForSync",null),(0,h.__decorate)([ob],nv.prototype,"addToMigrationList",null),(0,z.registerSingleton)(R.IExtensionStorageService,nv,z.InstantiationType.Delayed),(0,z.registerSingleton)(T.IGlobalExtensionEnablementService,class{constructor(){this.onDidChangeEnablement=g.Event.None}getDisabledExtensions(){return[]}enableExtension(){return Promise.resolve(!0)}disableExtension(){return Promise.resolve(!0)}},z.InstantiationType.Delayed),(0,z.registerSingleton)(B.ILanguagePackService,class{async getAvailableLanguages(){return[]}async getInstalledLanguages(){return[]}async getBuiltInExtensionTranslationsUri(e,t){let i=(0,ov.getBuiltInExtensionTranslationsUris)(t)?.[e];return null!=i?v.URI.parse(i):void 0}},z.InstantiationType.Delayed);class nC{removeDragOperationTransfer(){(0,oC.unsupported)()}addDragOperationTransfer(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nC.prototype,"removeDragOperationTransfer",null),(0,h.__decorate)([ob],nC.prototype,"addDragOperationTransfer",null),(0,z.registerSingleton)(S.ITreeViewsDnDService,nC,z.InstantiationType.Delayed);class nb{constructor(){this.getWidget=()=>void 0}register(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nb.prototype,"register",null),(0,z.registerSingleton)(ek.IBreadcrumbsService,nb,z.InstantiationType.Eager);class nS{constructor(){this.onDidChange=g.Event.None,this.canCreateOutline=()=>!1,this.createOutline=async()=>void 0}registerOutlineCreator(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nS.prototype,"registerOutlineCreator",null),(0,z.registerSingleton)(iC.IOutlineService,nS,z.InstantiationType.Eager);class nw{constructor(){this.onStateChange=g.Event.None,this.state=ea.Uninitialized,this.isLatestVersion=async()=>!0}checkForUpdates(){(0,oC.unsupported)()}downloadUpdate(){(0,oC.unsupported)()}applyUpdate(){(0,oC.unsupported)()}quitAndInstall(){(0,oC.unsupported)()}_applySpecificUpdate(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nw.prototype,"checkForUpdates",null),(0,h.__decorate)([ob],nw.prototype,"downloadUpdate",null),(0,h.__decorate)([ob],nw.prototype,"applyUpdate",null),(0,h.__decorate)([ob],nw.prototype,"quitAndInstall",null),(0,h.__decorate)([ob],nw.prototype,"_applySpecificUpdate",null),(0,z.registerSingleton)(el.IUpdateService,nw,z.InstantiationType.Eager);class nE{constructor(){this.onDidChangeEntryVisibility=g.Event.None,this.addEntry=()=>({dispose:()=>{},update:()=>{}}),this.isEntryVisible=()=>!1,this.updateEntryVisibility=()=>{},this.focus=()=>{},this.focusNextEntry=()=>{},this.focusPreviousEntry=()=>{},this.isEntryFocused=()=>!1,this.overrideStyle=()=>m.Disposable.None}overrideEntry(){(0,oC.unsupported)()}getPart(){(0,oC.unsupported)()}createAuxiliaryStatusbarPart(){(0,oC.unsupported)()}createScoped(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nE.prototype,"overrideEntry",null),(0,h.__decorate)([ob],nE.prototype,"getPart",null),(0,h.__decorate)([ob],nE.prototype,"createAuxiliaryStatusbarPart",null),(0,h.__decorate)([ob],nE.prototype,"createScoped",null),(0,h.__decorate)([ob],nE.prototype,"dispose",null),(0,z.registerSingleton)(ik.IStatusbarService,nE,z.InstantiationType.Eager);class nI{constructor(){this.isEnabled=()=>!1}query(){(0,oC.unsupported)()}getExtensions(){(0,oC.unsupported)()}isExtensionCompatible(){(0,oC.unsupported)()}getCompatibleExtension(){(0,oC.unsupported)()}getAllCompatibleVersions(){(0,oC.unsupported)()}download(){(0,oC.unsupported)()}downloadSignatureArchive(){(0,oC.unsupported)()}reportStatistic(){(0,oC.unsupported)()}getReadme(){(0,oC.unsupported)()}getManifest(){(0,oC.unsupported)()}getChangelog(){(0,oC.unsupported)()}getCoreTranslation(){(0,oC.unsupported)()}getExtensionsControlManifest(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nI.prototype,"query",null),(0,h.__decorate)([ob],nI.prototype,"getExtensions",null),(0,h.__decorate)([ob],nI.prototype,"isExtensionCompatible",null),(0,h.__decorate)([ob],nI.prototype,"getCompatibleExtension",null),(0,h.__decorate)([ob],nI.prototype,"getAllCompatibleVersions",null),(0,h.__decorate)([ob],nI.prototype,"download",null),(0,h.__decorate)([ob],nI.prototype,"downloadSignatureArchive",null),(0,h.__decorate)([ob],nI.prototype,"reportStatistic",null),(0,h.__decorate)([ob],nI.prototype,"getReadme",null),(0,h.__decorate)([ob],nI.prototype,"getManifest",null),(0,h.__decorate)([ob],nI.prototype,"getChangelog",null),(0,h.__decorate)([ob],nI.prototype,"getCoreTranslation",null),(0,h.__decorate)([ob],nI.prototype,"getExtensionsControlManifest",null),(0,z.registerSingleton)(T.IExtensionGalleryService,nI,z.InstantiationType.Eager);class nx{constructor(){this.onAnyInstanceData=g.Event.None,this.detachedInstances=[],this.onAnyInstanceDataInput=g.Event.None,this.onAnyInstanceIconChange=g.Event.None,this.onAnyInstanceMaximumDimensionsChange=g.Event.None,this.onAnyInstancePrimaryStatusChange=g.Event.None,this.onAnyInstanceProcessIdReady=g.Event.None,this.onAnyInstanceSelectionChange=g.Event.None,this.onAnyInstanceTitleChange=g.Event.None,this.onDidChangeSelection=g.Event.None,this.detachedXterms=[],this.whenConnected=Promise.resolve(),this.restoredGroupCount=0,this.instances=[],this.isProcessSupportRegistered=!1,this.connectionState=i2.TerminalConnectionState.Connected,this.defaultLocation=ei.TerminalLocation.Panel,this.onDidChangeActiveGroup=g.Event.None,this.onDidDisposeGroup=g.Event.None,this.onDidCreateInstance=g.Event.None,this.onDidReceiveProcessId=g.Event.None,this.onDidChangeInstanceDimensions=g.Event.None,this.onDidMaximumDimensionsChange=g.Event.None,this.onDidRequestStartExtensionTerminal=g.Event.None,this.onDidChangeInstanceTitle=g.Event.None,this.onDidChangeInstanceIcon=g.Event.None,this.onDidChangeInstanceColor=g.Event.None,this.onDidChangeInstancePrimaryStatus=g.Event.None,this.onDidInputInstanceData=g.Event.None,this.onDidRegisterProcessSupport=g.Event.None,this.onDidChangeConnectionState=g.Event.None,this.getReconnectedTerminals=()=>void 0,this.registerProcessSupport=()=>{},this.activeInstance=void 0,this.onDidDisposeInstance=g.Event.None,this.onDidFocusInstance=g.Event.None,this.onDidChangeActiveInstance=g.Event.None,this.onDidChangeInstances=g.Event.None,this.onDidChangeInstanceCapability=g.Event.None}revealTerminal(){(0,oC.unsupported)()}focusInstance(){(0,oC.unsupported)()}createOnInstanceCapabilityEvent(){return{event:g.Event.None,dispose(){}}}moveIntoNewEditor(){(0,oC.unsupported)()}createOnInstanceEvent(e){return new g.DynamicListEventMultiplexer(this.instances,this.onDidCreateInstance,this.onDidDisposeInstance,e)}createDetachedTerminal(){(0,oC.unsupported)()}createDetachedXterm(){(0,oC.unsupported)()}get configHelper(){return(0,oC.unsupported)()}revealActiveTerminal(){(0,oC.unsupported)()}createTerminal(){(0,oC.unsupported)()}getInstanceFromId(){(0,oC.unsupported)()}getInstanceFromIndex(){(0,oC.unsupported)()}getActiveOrCreateInstance(){(0,oC.unsupported)()}moveToEditor(){(0,oC.unsupported)()}moveToTerminalView(){(0,oC.unsupported)()}getPrimaryBackend(){(0,oC.unsupported)()}refreshActiveGroup(){(0,oC.unsupported)()}showProfileQuickPick(){(0,oC.unsupported)()}setContainers(){(0,oC.unsupported)()}requestStartExtensionTerminal(){(0,oC.unsupported)()}isAttachedToTerminal(){(0,oC.unsupported)()}getEditableData(){(0,oC.unsupported)()}setEditable(){(0,oC.unsupported)()}isEditable(){(0,oC.unsupported)()}safeDisposeTerminal(){(0,oC.unsupported)()}getDefaultInstanceHost(){(0,oC.unsupported)()}getInstanceHost(){(0,oC.unsupported)()}resolveLocation(){(0,oC.unsupported)()}setNativeDelegate(){(0,oC.unsupported)()}toggleEscapeSequenceLogging(){(0,oC.unsupported)()}getEditingTerminal(){(0,oC.unsupported)()}setEditingTerminal(){(0,oC.unsupported)()}setActiveInstance(){(0,oC.unsupported)()}focusActiveInstance(){(0,oC.unsupported)()}getInstanceFromResource(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nx.prototype,"revealTerminal",null),(0,h.__decorate)([ob],nx.prototype,"focusInstance",null),(0,h.__decorate)([ob],nx.prototype,"moveIntoNewEditor",null),(0,h.__decorate)([ob],nx.prototype,"createDetachedTerminal",null),(0,h.__decorate)([ob],nx.prototype,"createDetachedXterm",null),(0,h.__decorate)([ob],nx.prototype,"configHelper",null),(0,h.__decorate)([ob],nx.prototype,"revealActiveTerminal",null),(0,h.__decorate)([ob],nx.prototype,"createTerminal",null),(0,h.__decorate)([ob],nx.prototype,"getInstanceFromId",null),(0,h.__decorate)([ob],nx.prototype,"getInstanceFromIndex",null),(0,h.__decorate)([ob],nx.prototype,"getActiveOrCreateInstance",null),(0,h.__decorate)([ob],nx.prototype,"moveToEditor",null),(0,h.__decorate)([ob],nx.prototype,"moveToTerminalView",null),(0,h.__decorate)([ob],nx.prototype,"getPrimaryBackend",null),(0,h.__decorate)([ob],nx.prototype,"refreshActiveGroup",null),(0,h.__decorate)([ob],nx.prototype,"showProfileQuickPick",null),(0,h.__decorate)([ob],nx.prototype,"setContainers",null),(0,h.__decorate)([ob],nx.prototype,"requestStartExtensionTerminal",null),(0,h.__decorate)([ob],nx.prototype,"isAttachedToTerminal",null),(0,h.__decorate)([ob],nx.prototype,"getEditableData",null),(0,h.__decorate)([ob],nx.prototype,"setEditable",null),(0,h.__decorate)([ob],nx.prototype,"isEditable",null),(0,h.__decorate)([ob],nx.prototype,"safeDisposeTerminal",null),(0,h.__decorate)([ob],nx.prototype,"getDefaultInstanceHost",null),(0,h.__decorate)([ob],nx.prototype,"getInstanceHost",null),(0,h.__decorate)([ob],nx.prototype,"resolveLocation",null),(0,h.__decorate)([ob],nx.prototype,"setNativeDelegate",null),(0,h.__decorate)([ob],nx.prototype,"toggleEscapeSequenceLogging",null),(0,h.__decorate)([ob],nx.prototype,"getEditingTerminal",null),(0,h.__decorate)([ob],nx.prototype,"setEditingTerminal",null),(0,h.__decorate)([ob],nx.prototype,"setActiveInstance",null),(0,h.__decorate)([ob],nx.prototype,"focusActiveInstance",null),(0,h.__decorate)([ob],nx.prototype,"getInstanceFromResource",null),(0,z.registerSingleton)(tg.ITerminalService,nx,z.InstantiationType.Delayed);class nD{constructor(){this.onConfigChanged=g.Event.None}get config(){return(0,oC.unsupported)()}setPanelContainer(){(0,oC.unsupported)()}configFontIsMonospace(){(0,oC.unsupported)()}getFont(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nD.prototype,"config",null),(0,h.__decorate)([ob],nD.prototype,"setPanelContainer",null),(0,h.__decorate)([ob],nD.prototype,"configFontIsMonospace",null),(0,h.__decorate)([ob],nD.prototype,"getFont",null),(0,z.registerSingleton)(tg.ITerminalConfigurationService,nD,z.InstantiationType.Delayed);class nk{constructor(){this.instances=[],this.activeInstance=void 0,this.onDidDisposeInstance=g.Event.None,this.onDidFocusInstance=g.Event.None,this.onDidChangeActiveInstance=g.Event.None,this.onDidChangeInstances=g.Event.None,this.onDidChangeInstanceCapability=g.Event.None}focusInstance(){(0,oC.unsupported)()}openEditor(){(0,oC.unsupported)()}detachActiveEditorInstance(){(0,oC.unsupported)()}detachInstance(){(0,oC.unsupported)()}splitInstance(){(0,oC.unsupported)()}revealActiveEditor(){(0,oC.unsupported)()}resolveResource(){(0,oC.unsupported)()}reviveInput(){(0,oC.unsupported)()}getInputFromResource(){(0,oC.unsupported)()}setActiveInstance(){(0,oC.unsupported)()}focusActiveInstance(){(0,oC.unsupported)()}getInstanceFromResource(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nk.prototype,"focusInstance",null),(0,h.__decorate)([ob],nk.prototype,"openEditor",null),(0,h.__decorate)([ob],nk.prototype,"detachActiveEditorInstance",null),(0,h.__decorate)([ob],nk.prototype,"detachInstance",null),(0,h.__decorate)([ob],nk.prototype,"splitInstance",null),(0,h.__decorate)([ob],nk.prototype,"revealActiveEditor",null),(0,h.__decorate)([ob],nk.prototype,"resolveResource",null),(0,h.__decorate)([ob],nk.prototype,"reviveInput",null),(0,h.__decorate)([ob],nk.prototype,"getInputFromResource",null),(0,h.__decorate)([ob],nk.prototype,"setActiveInstance",null),(0,h.__decorate)([ob],nk.prototype,"focusActiveInstance",null),(0,h.__decorate)([ob],nk.prototype,"getInstanceFromResource",null),(0,z.registerSingleton)(tg.ITerminalEditorService,nk,z.InstantiationType.Delayed);class nA{constructor(){this.lastAccessedMenu="inline-tab",this.instances=[],this.groups=[],this.activeGroup=void 0,this.activeGroupIndex=0,this.onDidChangeActiveGroup=g.Event.None,this.onDidDisposeGroup=g.Event.None,this.onDidChangeGroups=g.Event.None,this.onDidShow=g.Event.None,this.onDidChangePanelOrientation=g.Event.None,this.onDidDisposeInstance=g.Event.None,this.onDidFocusInstance=g.Event.None,this.onDidChangeActiveInstance=g.Event.None,this.onDidChangeInstances=g.Event.None,this.onDidChangeInstanceCapability=g.Event.None}focusInstance(){(0,oC.unsupported)()}createGroup(){(0,oC.unsupported)()}getGroupForInstance(){(0,oC.unsupported)()}moveGroup(){(0,oC.unsupported)()}moveGroupToEnd(){(0,oC.unsupported)()}moveInstance(){(0,oC.unsupported)()}unsplitInstance(){(0,oC.unsupported)()}joinInstances(){(0,oC.unsupported)()}instanceIsSplit(){(0,oC.unsupported)()}getGroupLabels(){(0,oC.unsupported)()}setActiveGroupByIndex(){(0,oC.unsupported)()}setActiveGroupToNext(){(0,oC.unsupported)()}setActiveGroupToPrevious(){(0,oC.unsupported)()}setActiveInstanceByIndex(){(0,oC.unsupported)()}setContainer(){(0,oC.unsupported)()}showPanel(){(0,oC.unsupported)()}hidePanel(){(0,oC.unsupported)()}focusTabs(){(0,oC.unsupported)()}focusHover(){(0,oC.unsupported)()}showTabs(){(0,oC.unsupported)()}updateVisibility(){(0,oC.unsupported)()}setActiveInstance(){(0,oC.unsupported)()}focusActiveInstance(){(0,oC.unsupported)()}getInstanceFromResource(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nA.prototype,"focusInstance",null),(0,h.__decorate)([ob],nA.prototype,"createGroup",null),(0,h.__decorate)([ob],nA.prototype,"getGroupForInstance",null),(0,h.__decorate)([ob],nA.prototype,"moveGroup",null),(0,h.__decorate)([ob],nA.prototype,"moveGroupToEnd",null),(0,h.__decorate)([ob],nA.prototype,"moveInstance",null),(0,h.__decorate)([ob],nA.prototype,"unsplitInstance",null),(0,h.__decorate)([ob],nA.prototype,"joinInstances",null),(0,h.__decorate)([ob],nA.prototype,"instanceIsSplit",null),(0,h.__decorate)([ob],nA.prototype,"getGroupLabels",null),(0,h.__decorate)([ob],nA.prototype,"setActiveGroupByIndex",null),(0,h.__decorate)([ob],nA.prototype,"setActiveGroupToNext",null),(0,h.__decorate)([ob],nA.prototype,"setActiveGroupToPrevious",null),(0,h.__decorate)([ob],nA.prototype,"setActiveInstanceByIndex",null),(0,h.__decorate)([ob],nA.prototype,"setContainer",null),(0,h.__decorate)([ob],nA.prototype,"showPanel",null),(0,h.__decorate)([ob],nA.prototype,"hidePanel",null),(0,h.__decorate)([ob],nA.prototype,"focusTabs",null),(0,h.__decorate)([ob],nA.prototype,"focusHover",null),(0,h.__decorate)([ob],nA.prototype,"showTabs",null),(0,h.__decorate)([ob],nA.prototype,"updateVisibility",null),(0,h.__decorate)([ob],nA.prototype,"setActiveInstance",null),(0,h.__decorate)([ob],nA.prototype,"focusActiveInstance",null),(0,h.__decorate)([ob],nA.prototype,"getInstanceFromResource",null),(0,z.registerSingleton)(tg.ITerminalGroupService,nA,z.InstantiationType.Delayed);class nM{constructor(){this.onDidRegisterBackend=g.Event.None,this.getRegisteredBackends=()=>[].values(),this.onDidCreateInstance=g.Event.None}convertProfileToShellLaunchConfig(){(0,oC.unsupported)()}createInstance(){(0,oC.unsupported)()}getBackend(){(0,oC.unsupported)()}didRegisterBackend(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nM.prototype,"convertProfileToShellLaunchConfig",null),(0,h.__decorate)([ob],nM.prototype,"createInstance",null),(0,h.__decorate)([ob],nM.prototype,"getBackend",null),(0,h.__decorate)([ob],nM.prototype,"didRegisterBackend",null),(0,z.registerSingleton)(tg.ITerminalInstanceService,nM,z.InstantiationType.Delayed);class nL{constructor(){this.availableProfiles=[],this.contributedProfiles=[],this.profilesReady=Promise.resolve(),this.getDefaultProfileName=()=>void 0,this.getDefaultProfile=()=>void 0,this.onDidChangeAvailableProfiles=g.Event.None}getPlatformKey(){(0,oC.unsupported)()}refreshAvailableProfiles(){(0,oC.unsupported)()}getContributedDefaultProfile(){(0,oC.unsupported)()}registerContributedProfile(){(0,oC.unsupported)()}getContributedProfileProvider(){(0,oC.unsupported)()}registerTerminalProfileProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nL.prototype,"getPlatformKey",null),(0,h.__decorate)([ob],nL.prototype,"refreshAvailableProfiles",null),(0,h.__decorate)([ob],nL.prototype,"getContributedDefaultProfile",null),(0,h.__decorate)([ob],nL.prototype,"registerContributedProfile",null),(0,h.__decorate)([ob],nL.prototype,"getContributedProfileProvider",null),(0,h.__decorate)([ob],nL.prototype,"registerTerminalProfileProvider",null),(0,z.registerSingleton)(t_.ITerminalProfileService,nL,z.InstantiationType.Delayed);class nT{constructor(){this.onDidChangeLogLevel=g.Event.None}getLevel(){(0,oC.unsupported)()}setLevel(){(0,oC.unsupported)()}trace(){(0,oC.unsupported)()}debug(){(0,oC.unsupported)()}info(){(0,oC.unsupported)()}warn(){(0,oC.unsupported)()}error(){(0,oC.unsupported)()}flush(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nT.prototype,"getLevel",null),(0,h.__decorate)([ob],nT.prototype,"setLevel",null),(0,h.__decorate)([ob],nT.prototype,"trace",null),(0,h.__decorate)([ob],nT.prototype,"debug",null),(0,h.__decorate)([ob],nT.prototype,"info",null),(0,h.__decorate)([ob],nT.prototype,"warn",null),(0,h.__decorate)([ob],nT.prototype,"error",null),(0,h.__decorate)([ob],nT.prototype,"flush",null),(0,h.__decorate)([ob],nT.prototype,"dispose",null),(0,z.registerSingleton)(en,nT,z.InstantiationType.Delayed);class nR{constructor(){this.linkProviders=new Set([]),this.onDidAddLinkProvider=g.Event.None,this.onDidRemoveLinkProvider=g.Event.None}registerLinkProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nR.prototype,"registerLinkProvider",null),(0,z.registerSingleton)(ty.ITerminalLinkProviderService,nR,z.InstantiationType.Delayed),(0,z.registerSingleton)(tf,class{constructor(){this.terminalProfiles=[]}},z.InstantiationType.Delayed);class nN{constructor(){this.getDefaultProfile=async()=>({profileName:"bash",path:"/bin/bash",isDefault:!0})}resolveIcon(){(0,oC.unsupported)()}resolveShellLaunchConfig(){(0,oC.unsupported)()}getDefaultShell(){(0,oC.unsupported)()}getDefaultShellArgs(){(0,oC.unsupported)()}getDefaultIcon(){(0,oC.unsupported)()}getEnvironment(){(0,oC.unsupported)()}createProfileFromShellAndShellArgs(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nN.prototype,"resolveIcon",null),(0,h.__decorate)([ob],nN.prototype,"resolveShellLaunchConfig",null),(0,h.__decorate)([ob],nN.prototype,"getDefaultShell",null),(0,h.__decorate)([ob],nN.prototype,"getDefaultShellArgs",null),(0,h.__decorate)([ob],nN.prototype,"getDefaultIcon",null),(0,h.__decorate)([ob],nN.prototype,"getEnvironment",null),(0,h.__decorate)([ob],nN.prototype,"createProfileFromShellAndShellArgs",null),(0,z.registerSingleton)(t_.ITerminalProfileResolverService,nN,z.InstantiationType.Delayed);class nP{constructor(){this.collections=new Map,this.onDidChangeCollections=g.Event.None,this.set=()=>{},this.delete=()=>{}}get mergedCollection(){return(0,oC.unsupported)()}}(0,h.__decorate)([ob],nP.prototype,"mergedCollection",null),(0,z.registerSingleton)(tm.IEnvironmentVariableService,nP,z.InstantiationType.Delayed);class nO{constructor(){this.onDidRegisterProvider=g.Event.None,this.onDidRegisterCommandSelector=g.Event.None,this.onDidUnregisterProvider=g.Event.None,this.extensionQuickFixes=Promise.resolve([]),this.providers=new Map}registerQuickFixProvider(){(0,oC.unsupported)()}registerCommandSelector(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nO.prototype,"registerQuickFixProvider",null),(0,h.__decorate)([ob],nO.prototype,"registerCommandSelector",null),(0,z.registerSingleton)(tv.ITerminalQuickFixService,nO,z.InstantiationType.Delayed);class nF{constructor(){this.onDidTurnOnSync=g.Event.None,this.enabled=!1,this.authenticationProviders=[],this.all=[],this.current=void 0,this.accountStatus=u.Unavailable,this.onDidChangeAccountStatus=g.Event.None}turnOn(){(0,oC.unsupported)()}turnoff(){(0,oC.unsupported)()}signIn(){(0,oC.unsupported)()}resetSyncedData(){(0,oC.unsupported)()}showSyncActivity(){(0,oC.unsupported)()}syncNow(){(0,oC.unsupported)()}synchroniseUserDataSyncStoreType(){(0,oC.unsupported)()}showConflicts(){(0,oC.unsupported)()}accept(){(0,oC.unsupported)()}getAllLogResources(){(0,oC.unsupported)()}downloadSyncActivity(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nF.prototype,"turnOn",null),(0,h.__decorate)([ob],nF.prototype,"turnoff",null),(0,h.__decorate)([ob],nF.prototype,"signIn",null),(0,h.__decorate)([ob],nF.prototype,"resetSyncedData",null),(0,h.__decorate)([ob],nF.prototype,"showSyncActivity",null),(0,h.__decorate)([ob],nF.prototype,"syncNow",null),(0,h.__decorate)([ob],nF.prototype,"synchroniseUserDataSyncStoreType",null),(0,h.__decorate)([ob],nF.prototype,"showConflicts",null),(0,h.__decorate)([ob],nF.prototype,"accept",null),(0,h.__decorate)([ob],nF.prototype,"getAllLogResources",null),(0,h.__decorate)([ob],nF.prototype,"downloadSyncActivity",null),(0,z.registerSingleton)(iU.IUserDataSyncWorkbenchService,nF,z.InstantiationType.Delayed);class nK{constructor(){this.onDidChangeEnablement=g.Event.None,this.isEnabled=()=>!1,this.canToggleEnablement=()=>!1,this.onDidChangeResourceEnablement=g.Event.None,this.isResourceEnabled=()=>!1,this.getResourceSyncStateVersion=()=>void 0}setEnablement(){(0,oC.unsupported)()}setResourceEnablement(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nK.prototype,"setEnablement",null),(0,h.__decorate)([ob],nK.prototype,"setResourceEnablement",null),(0,z.registerSingleton)(ev.IUserDataSyncEnablementService,nK,z.InstantiationType.Delayed);class nW{addKeybinding(){(0,oC.unsupported)()}editKeybinding(){(0,oC.unsupported)()}removeKeybinding(){(0,oC.unsupported)()}resetKeybinding(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nW.prototype,"addKeybinding",null),(0,h.__decorate)([ob],nW.prototype,"editKeybinding",null),(0,h.__decorate)([ob],nW.prototype,"removeKeybinding",null),(0,h.__decorate)([ob],nW.prototype,"resetKeybinding",null),(0,z.registerSingleton)(is.IKeybindingEditingService,nW,z.InstantiationType.Delayed);class nz{getLocalSearchProvider(){(0,oC.unsupported)()}getRemoteSearchProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nz.prototype,"getLocalSearchProvider",null),(0,h.__decorate)([ob],nz.prototype,"getRemoteSearchProvider",null),(0,z.registerSingleton)(ti.IPreferencesSearchService,nz,z.InstantiationType.Delayed);class nV{constructor(){this.tryGetDataProviderSync=()=>void 0,this.canResolve=async()=>!1,this.onAddViewType=g.Event.None,this.onWillRemoveViewType=g.Event.None,this.onDidChangeOutputRenderers=g.Event.None,this.onWillAddNotebookDocument=g.Event.None,this.onDidAddNotebookDocument=g.Event.None,this.onWillRemoveNotebookDocument=g.Event.None,this.onDidRemoveNotebookDocument=g.Event.None,this.getViewTypeProvider=()=>void 0,this.getRendererInfo=()=>void 0,this.getRenderers=()=>[],this.getNotebookTextModel=()=>void 0,this.listNotebookDocuments=()=>[],this.getContributedNotebookTypes=()=>[],this.getNotebookProviderResourceRoots=()=>[]}createNotebookTextDocumentSnapshot(){(0,oC.unsupported)()}restoreNotebookTextModelFromSnapshot(){(0,oC.unsupported)()}hasSupportedNotebooks(){(0,oC.unsupported)()}registerNotebookSerializer(){(0,oC.unsupported)()}withNotebookDataProvider(){(0,oC.unsupported)()}getOutputMimeTypeInfo(){(0,oC.unsupported)()}getStaticPreloads(){(0,oC.unsupported)()}updateMimePreferredRenderer(){(0,oC.unsupported)()}saveMimeDisplayOrder(){(0,oC.unsupported)()}createNotebookTextModel(){(0,oC.unsupported)()}getNotebookTextModels(){(0,oC.unsupported)()}registerContributedNotebookType(){(0,oC.unsupported)()}getContributedNotebookType(){(0,oC.unsupported)()}setToCopy(){(0,oC.unsupported)()}getToCopy(){(0,oC.unsupported)()}clearEditorCache(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nV.prototype,"createNotebookTextDocumentSnapshot",null),(0,h.__decorate)([ob],nV.prototype,"restoreNotebookTextModelFromSnapshot",null),(0,h.__decorate)([ob],nV.prototype,"hasSupportedNotebooks",null),(0,h.__decorate)([ob],nV.prototype,"registerNotebookSerializer",null),(0,h.__decorate)([ob],nV.prototype,"withNotebookDataProvider",null),(0,h.__decorate)([ob],nV.prototype,"getOutputMimeTypeInfo",null),(0,h.__decorate)([ob],nV.prototype,"getStaticPreloads",null),(0,h.__decorate)([ob],nV.prototype,"updateMimePreferredRenderer",null),(0,h.__decorate)([ob],nV.prototype,"saveMimeDisplayOrder",null),(0,h.__decorate)([ob],nV.prototype,"createNotebookTextModel",null),(0,h.__decorate)([ob],nV.prototype,"getNotebookTextModels",null),(0,h.__decorate)([ob],nV.prototype,"registerContributedNotebookType",null),(0,h.__decorate)([ob],nV.prototype,"getContributedNotebookType",null),(0,h.__decorate)([ob],nV.prototype,"setToCopy",null),(0,h.__decorate)([ob],nV.prototype,"getToCopy",null),(0,h.__decorate)([ob],nV.prototype,"clearEditorCache",null),(0,z.registerSingleton)(e7.INotebookService,nV,z.InstantiationType.Delayed);class nB{replace(){(0,oC.unsupported)()}openReplacePreview(){(0,oC.unsupported)()}updateReplacePreview(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nB.prototype,"replace",null),(0,h.__decorate)([ob],nB.prototype,"openReplacePreview",null),(0,h.__decorate)([ob],nB.prototype,"updateReplacePreview",null),(0,z.registerSingleton)(tr.IReplaceService,nB,z.InstantiationType.Delayed);class nH{constructor(){this.onDidClearHistory=g.Event.None}clearHistory(){(0,oC.unsupported)()}load(){(0,oC.unsupported)()}save(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nH.prototype,"clearHistory",null),(0,h.__decorate)([ob],nH.prototype,"load",null),(0,h.__decorate)([ob],nH.prototype,"save",null),(0,z.registerSingleton)(tl.ISearchHistoryService,nH,z.InstantiationType.Delayed);class nU{constructor(){this.retrieveExistingWidgetFromURI=()=>void 0,this.retrieveAllExistingWidgets=()=>[],this.onDidAddNotebookEditor=g.Event.None,this.onDidRemoveNotebookEditor=g.Event.None,this.getNotebookEditor=()=>void 0,this.listNotebookEditors=()=>[]}updateReplContextKey(){(0,oC.unsupported)()}retrieveWidget(){(0,oC.unsupported)()}addNotebookEditor(){(0,oC.unsupported)()}removeNotebookEditor(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nU.prototype,"updateReplContextKey",null),(0,h.__decorate)([ob],nU.prototype,"retrieveWidget",null),(0,h.__decorate)([ob],nU.prototype,"addNotebookEditor",null),(0,h.__decorate)([ob],nU.prototype,"removeNotebookEditor",null),(0,z.registerSingleton)(e0.INotebookEditorService,nU,z.InstantiationType.Delayed);class nG{get searchModel(){return(0,oC.unsupported)()}}(0,h.__decorate)([ob],nG.prototype,"searchModel",null),(0,z.registerSingleton)(ts.ISearchViewModelWorkbenchService,nG,z.InstantiationType.Delayed);class nq{constructor(){this.onDidSaveNotebook=g.Event.None,this.onDidChangeDirty=g.Event.None,this.onWillFailWithConflict=g.Event.None}createUntitledNotebookTextModel(){(0,oC.unsupported)()}isDirty(){(0,oC.unsupported)()}resolve(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nq.prototype,"createUntitledNotebookTextModel",null),(0,h.__decorate)([ob],nq.prototype,"isDirty",null),(0,h.__decorate)([ob],nq.prototype,"resolve",null),(0,z.registerSingleton)(e2.INotebookEditorModelResolverService,nq,z.InstantiationType.Delayed),(0,z.registerSingleton)(i$.IWorkingCopyEditorService,class{constructor(){this.onDidRegisterHandler=g.Event.None,this.registerHandler=()=>m.Disposable.None,this.findEditor=()=>void 0}},z.InstantiationType.Delayed);class n${constructor(){this.isActive=!1,this.onDidChangeIsActive=g.Event.None}markActive(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n$.prototype,"markActive",null),(0,z.registerSingleton)(iF.IUserActivityService,n$,z.InstantiationType.Delayed);class nj{registerCanonicalUriProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nj.prototype,"registerCanonicalUriProvider",null),(0,z.registerSingleton)(eS.ICanonicalUriService,nj,z.InstantiationType.Delayed),(0,z.registerSingleton)(eD.IExtensionStatusBarItemService,class{constructor(){this.onDidChange=g.Event.None}setOrUpdateEntry(){return eD.StatusBarUpdateKind.DidUpdate}unsetEntry(){}getEntries(){return[]}},z.InstantiationType.Delayed),(0,z.registerSingleton)(tF.IWorkbenchAssignmentService,class{constructor(){this.getCurrentExperiments=async()=>[],this.getTreatment=async()=>void 0}},z.InstantiationType.Delayed);class nQ{constructor(){this.isEnabled=()=>!1,this.onDidSubmitAgent=g.Event.None,this.hasSessions=()=>!1,this.onDidDisposeSession=g.Event.None,this.transferredSessionData=void 0,this.onDidSubmitSlashCommand=g.Event.None,this.getSessionId=()=>void 0,this.transferredSessionId=void 0,this.getProviderInfos=()=>[],this.getSession=()=>void 0,this.getOrRestoreSession=()=>void 0,this.loadSessionFromContent=()=>void 0,this.getHistory=()=>[],this.onDidPerformUserAction=g.Event.None}setChatSessionTitle(){(0,oC.unsupported)()}adoptRequest(){(0,oC.unsupported)()}resendRequest(){(0,oC.unsupported)()}clearAllHistoryEntries(){(0,oC.unsupported)()}transferChatSession(){(0,oC.unsupported)()}registerSlashCommandProvider(){(0,oC.unsupported)()}startSession(){(0,oC.unsupported)()}sendRequest(){(0,oC.unsupported)()}removeRequest(){(0,oC.unsupported)()}cancelCurrentRequestForSession(){(0,oC.unsupported)()}getSlashCommands(){(0,oC.unsupported)()}clearSession(){(0,oC.unsupported)()}addRequest(){(0,oC.unsupported)()}addCompleteRequest(){(0,oC.unsupported)()}sendRequestToProvider(){(0,oC.unsupported)()}removeHistoryEntry(){(0,oC.unsupported)()}notifyUserAction(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nQ.prototype,"setChatSessionTitle",null),(0,h.__decorate)([ob],nQ.prototype,"adoptRequest",null),(0,h.__decorate)([ob],nQ.prototype,"resendRequest",null),(0,h.__decorate)([ob],nQ.prototype,"clearAllHistoryEntries",null),(0,h.__decorate)([ob],nQ.prototype,"transferChatSession",null),(0,h.__decorate)([ob],nQ.prototype,"registerSlashCommandProvider",null),(0,h.__decorate)([ob],nQ.prototype,"startSession",null),(0,h.__decorate)([ob],nQ.prototype,"sendRequest",null),(0,h.__decorate)([ob],nQ.prototype,"removeRequest",null),(0,h.__decorate)([ob],nQ.prototype,"cancelCurrentRequestForSession",null),(0,h.__decorate)([ob],nQ.prototype,"getSlashCommands",null),(0,h.__decorate)([ob],nQ.prototype,"clearSession",null),(0,h.__decorate)([ob],nQ.prototype,"addRequest",null),(0,h.__decorate)([ob],nQ.prototype,"addCompleteRequest",null),(0,h.__decorate)([ob],nQ.prototype,"sendRequestToProvider",null),(0,h.__decorate)([ob],nQ.prototype,"removeHistoryEntry",null),(0,h.__decorate)([ob],nQ.prototype,"notifyUserAction",null),(0,z.registerSingleton)(eN.IChatService,nQ,z.InstantiationType.Delayed);class nY{update(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nY.prototype,"update",null),(0,z.registerSingleton)(oe.ILanguageModelStatsService,nY,z.InstantiationType.Delayed);class nZ{constructor(){this.focused=!1,this.onDidClose=g.Event.None,this.enabled=!1}toggle(){(0,oC.unsupported)()}focus(){(0,oC.unsupported)()}open(){(0,oC.unsupported)()}close(){(0,oC.unsupported)()}openInChatView(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nZ.prototype,"toggle",null),(0,h.__decorate)([ob],nZ.prototype,"focus",null),(0,h.__decorate)([ob],nZ.prototype,"open",null),(0,h.__decorate)([ob],nZ.prototype,"close",null),(0,h.__decorate)([ob],nZ.prototype,"openInChatView",null),(0,z.registerSingleton)(eT.IQuickChatService,nZ,z.InstantiationType.Delayed);class nX{constructor(){this._serviceBrand=void 0,this.hasChatParticipantDetectionProviders=()=>!1,this.agentHasDupeName=()=>!1,this.getContributedDefaultAgent=()=>void 0,this.getActivatedAgents=()=>[],this.getAgentsByName=()=>[],this.onDidChangeAgents=g.Event.None}registerChatParticipantDetectionProvider(){(0,oC.unsupported)()}detectAgentOrCommand(){(0,oC.unsupported)()}getChatTitle(){(0,oC.unsupported)()}registerAgentCompletionProvider(){(0,oC.unsupported)()}getAgentCompletionItems(){(0,oC.unsupported)()}getAgentByFullyQualifiedId(){(0,oC.unsupported)()}registerAgentImplementation(){(0,oC.unsupported)()}registerDynamicAgent(){(0,oC.unsupported)()}getFollowups(){(0,oC.unsupported)()}getDefaultAgent(){(0,oC.unsupported)()}getSecondaryAgent(){(0,oC.unsupported)()}updateAgent(){(0,oC.unsupported)()}registerAgentData(){(0,oC.unsupported)()}registerAgentCallback(){(0,oC.unsupported)()}registerAgent(){(0,oC.unsupported)()}invokeAgent(){(0,oC.unsupported)()}getAgents(){(0,oC.unsupported)()}getAgent(){(0,oC.unsupported)()}hasAgent(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nX.prototype,"registerChatParticipantDetectionProvider",null),(0,h.__decorate)([ob],nX.prototype,"detectAgentOrCommand",null),(0,h.__decorate)([ob],nX.prototype,"getChatTitle",null),(0,h.__decorate)([ob],nX.prototype,"registerAgentCompletionProvider",null),(0,h.__decorate)([ob],nX.prototype,"getAgentCompletionItems",null),(0,h.__decorate)([ob],nX.prototype,"getAgentByFullyQualifiedId",null),(0,h.__decorate)([ob],nX.prototype,"registerAgentImplementation",null),(0,h.__decorate)([ob],nX.prototype,"registerDynamicAgent",null),(0,h.__decorate)([ob],nX.prototype,"getFollowups",null),(0,h.__decorate)([ob],nX.prototype,"getDefaultAgent",null),(0,h.__decorate)([ob],nX.prototype,"getSecondaryAgent",null),(0,h.__decorate)([ob],nX.prototype,"updateAgent",null),(0,h.__decorate)([ob],nX.prototype,"registerAgentData",null),(0,h.__decorate)([ob],nX.prototype,"registerAgentCallback",null),(0,h.__decorate)([ob],nX.prototype,"registerAgent",null),(0,h.__decorate)([ob],nX.prototype,"invokeAgent",null),(0,h.__decorate)([ob],nX.prototype,"getAgents",null),(0,h.__decorate)([ob],nX.prototype,"getAgent",null),(0,h.__decorate)([ob],nX.prototype,"hasAgent",null),(0,z.registerSingleton)(eR.IChatAgentService,nX,z.InstantiationType.Delayed),(0,z.registerSingleton)(eR.IChatAgentNameService,class{getAgentNameRestriction(){return!0}},z.InstantiationType.Delayed);class nJ{constructor(){this.onDidCreateTerminal=g.Event.None}createTerminal(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],nJ.prototype,"createTerminal",null),(0,z.registerSingleton)(iA,nJ,z.InstantiationType.Delayed);class n0{constructor(){this.registerCustomEditorCapabilities=()=>m.Disposable.None,this.getCustomEditorCapabilities=()=>void 0}get models(){return(0,oC.unsupported)()}getCustomEditor(){(0,oC.unsupported)()}getAllCustomEditors(){(0,oC.unsupported)()}getContributedCustomEditors(){(0,oC.unsupported)()}getUserConfiguredCustomEditors(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n0.prototype,"models",null),(0,h.__decorate)([ob],n0.prototype,"getCustomEditor",null),(0,h.__decorate)([ob],n0.prototype,"getAllCustomEditors",null),(0,h.__decorate)([ob],n0.prototype,"getContributedCustomEditors",null),(0,h.__decorate)([ob],n0.prototype,"getUserConfiguredCustomEditors",null),(0,z.registerSingleton)(ez.ICustomEditorService,n0,z.InstantiationType.Delayed);class n1{constructor(){this.webviews=[],this.onDidChangeActiveWebview=g.Event.None}createWebviewElement(){(0,oC.unsupported)()}createWebviewOverlay(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n1.prototype,"createWebviewElement",null),(0,h.__decorate)([ob],n1.prototype,"createWebviewOverlay",null),(0,z.registerSingleton)(tM.IWebviewService,n1,z.InstantiationType.Delayed);class n2{constructor(){this.onNewResolverRegistered=g.Event.None}register(){(0,oC.unsupported)()}resolve(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n2.prototype,"register",null),(0,h.__decorate)([ob],n2.prototype,"resolve",null),(0,z.registerSingleton)(tT.IWebviewViewService,n2,z.InstantiationType.Delayed);class n3{setLocale(){(0,oC.unsupported)()}clearLocalePreference(){return Promise.resolve()}}(0,h.__decorate)([ob],n3.prototype,"setLocale",null),(0,z.registerSingleton)(iy.ILocaleService,n3,z.InstantiationType.Delayed);class n5{constructor(){this.onDidChangeActiveWebviewEditor=g.Event.None,this.registerResolver=()=>m.Disposable.None}get iconManager(){return(0,oC.unsupported)()}openWebview(){(0,oC.unsupported)()}openRevivedWebview(){(0,oC.unsupported)()}revealWebview(){(0,oC.unsupported)()}shouldPersist(){(0,oC.unsupported)()}resolveWebview(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n5.prototype,"iconManager",null),(0,h.__decorate)([ob],n5.prototype,"openWebview",null),(0,h.__decorate)([ob],n5.prototype,"openRevivedWebview",null),(0,h.__decorate)([ob],n5.prototype,"revealWebview",null),(0,h.__decorate)([ob],n5.prototype,"shouldPersist",null),(0,h.__decorate)([ob],n5.prototype,"resolveWebview",null),(0,z.registerSingleton)(tL.IWebviewWorkbenchService,n5,z.InstantiationType.Delayed);class n4{constructor(){this.onDidChangeConnectionData=g.Event.None}resolveAuthority(){(0,oC.unsupported)()}getConnectionData(){(0,oC.unsupported)()}getCanonicalURI(){(0,oC.unsupported)()}_clearResolvedAuthority(){(0,oC.unsupported)()}_setResolvedAuthority(){(0,oC.unsupported)()}_setResolvedAuthorityError(){(0,oC.unsupported)()}_setAuthorityConnectionToken(){(0,oC.unsupported)()}_setCanonicalURIProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n4.prototype,"resolveAuthority",null),(0,h.__decorate)([ob],n4.prototype,"getConnectionData",null),(0,h.__decorate)([ob],n4.prototype,"getCanonicalURI",null),(0,h.__decorate)([ob],n4.prototype,"_clearResolvedAuthority",null),(0,h.__decorate)([ob],n4.prototype,"_setResolvedAuthority",null),(0,h.__decorate)([ob],n4.prototype,"_setResolvedAuthorityError",null),(0,h.__decorate)([ob],n4.prototype,"_setAuthorityConnectionToken",null),(0,h.__decorate)([ob],n4.prototype,"_setCanonicalURIProvider",null),(0,z.registerSingleton)(j.IRemoteAuthorityResolverService,n4,z.InstantiationType.Delayed),(0,z.registerSingleton)(eq.IExternalUriOpenerService,class{constructor(){this.registerExternalOpenerProvider=()=>m.Disposable.None,this.getOpener=async()=>void 0}},z.InstantiationType.Delayed);class n6{constructor(){this.getCodeBlockContext=()=>void 0}configureKeybindings(){(0,oC.unsupported)()}openHelpLink(){(0,oC.unsupported)()}navigateToCodeBlock(){(0,oC.unsupported)()}showLastProvider(){(0,oC.unsupported)()}showAccessibleViewHelp(){(0,oC.unsupported)()}goToSymbol(){(0,oC.unsupported)()}disableHint(){(0,oC.unsupported)()}next(){(0,oC.unsupported)()}previous(){(0,oC.unsupported)()}getOpenAriaHint(){(0,oC.unsupported)()}show(){(0,oC.unsupported)()}registerProvider(){(0,oC.unsupported)()}getPosition(){(0,oC.unsupported)()}setPosition(){(0,oC.unsupported)()}getLastPosition(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n6.prototype,"configureKeybindings",null),(0,h.__decorate)([ob],n6.prototype,"openHelpLink",null),(0,h.__decorate)([ob],n6.prototype,"navigateToCodeBlock",null),(0,h.__decorate)([ob],n6.prototype,"showLastProvider",null),(0,h.__decorate)([ob],n6.prototype,"showAccessibleViewHelp",null),(0,h.__decorate)([ob],n6.prototype,"goToSymbol",null),(0,h.__decorate)([ob],n6.prototype,"disableHint",null),(0,h.__decorate)([ob],n6.prototype,"next",null),(0,h.__decorate)([ob],n6.prototype,"previous",null),(0,h.__decorate)([ob],n6.prototype,"getOpenAriaHint",null),(0,h.__decorate)([ob],n6.prototype,"show",null),(0,h.__decorate)([ob],n6.prototype,"registerProvider",null),(0,h.__decorate)([ob],n6.prototype,"getPosition",null),(0,h.__decorate)([ob],n6.prototype,"setPosition",null),(0,h.__decorate)([ob],n6.prototype,"getLastPosition",null),(0,z.registerSingleton)(eL.IAccessibleViewService,n6,z.InstantiationType.Delayed),(0,z.registerSingleton)(ot,class{constructor(){this.hasShownAccessibleView=()=>!1}},z.InstantiationType.Delayed);class n8{constructor(){this.onProfileAwareDidInstallExtensions=g.Event.None,this.onProfileAwareDidUninstallExtension=g.Event.None,this.onProfileAwareDidUpdateExtensionMetadata=g.Event.None,this.getInstalledWorkspaceExtensionLocations=()=>[],this.onDidEnableExtensions=g.Event.None,this.isWorkspaceExtensionsSupported=()=>!1,this.getExtensions=async()=>[],this.getInstalledWorkspaceExtensions=async()=>[],this.toggleAppliationScope=async e=>e,this.onInstallExtension=g.Event.None,this.onDidInstallExtensions=g.Event.None,this.onUninstallExtension=g.Event.None,this.onDidUninstallExtension=g.Event.None,this.onDidChangeProfile=g.Event.None,this.onDidUpdateExtensionMetadata=g.Event.None,this.getInstalled=async()=>[]}uninstallExtensions(){(0,oC.unsupported)()}resetPinnedStateForAllUserExtensions(){(0,oC.unsupported)()}installResourceExtension(){(0,oC.unsupported)()}installVSIX(){(0,oC.unsupported)()}installFromLocation(){(0,oC.unsupported)()}updateFromGallery(){(0,oC.unsupported)()}zip(){(0,oC.unsupported)()}unzip(){(0,oC.unsupported)()}getManifest(){(0,oC.unsupported)()}install(){(0,oC.unsupported)()}canInstall(){(0,oC.unsupported)()}installFromGallery(){(0,oC.unsupported)()}installGalleryExtensions(){(0,oC.unsupported)()}installExtensionsFromProfile(){(0,oC.unsupported)()}uninstall(){(0,oC.unsupported)()}reinstallFromGallery(){(0,oC.unsupported)()}getExtensionsControlManifest(){(0,oC.unsupported)()}copyExtensions(){(0,oC.unsupported)()}updateMetadata(){(0,oC.unsupported)()}download(){(0,oC.unsupported)()}registerParticipant(){(0,oC.unsupported)()}getTargetPlatform(){(0,oC.unsupported)()}cleanUp(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n8.prototype,"uninstallExtensions",null),(0,h.__decorate)([ob],n8.prototype,"resetPinnedStateForAllUserExtensions",null),(0,h.__decorate)([ob],n8.prototype,"installResourceExtension",null),(0,h.__decorate)([ob],n8.prototype,"installVSIX",null),(0,h.__decorate)([ob],n8.prototype,"installFromLocation",null),(0,h.__decorate)([ob],n8.prototype,"updateFromGallery",null),(0,h.__decorate)([ob],n8.prototype,"zip",null),(0,h.__decorate)([ob],n8.prototype,"unzip",null),(0,h.__decorate)([ob],n8.prototype,"getManifest",null),(0,h.__decorate)([ob],n8.prototype,"install",null),(0,h.__decorate)([ob],n8.prototype,"canInstall",null),(0,h.__decorate)([ob],n8.prototype,"installFromGallery",null),(0,h.__decorate)([ob],n8.prototype,"installGalleryExtensions",null),(0,h.__decorate)([ob],n8.prototype,"installExtensionsFromProfile",null),(0,h.__decorate)([ob],n8.prototype,"uninstall",null),(0,h.__decorate)([ob],n8.prototype,"reinstallFromGallery",null),(0,h.__decorate)([ob],n8.prototype,"getExtensionsControlManifest",null),(0,h.__decorate)([ob],n8.prototype,"copyExtensions",null),(0,h.__decorate)([ob],n8.prototype,"updateMetadata",null),(0,h.__decorate)([ob],n8.prototype,"download",null),(0,h.__decorate)([ob],n8.prototype,"registerParticipant",null),(0,h.__decorate)([ob],n8.prototype,"getTargetPlatform",null),(0,h.__decorate)([ob],n8.prototype,"cleanUp",null),(0,z.registerSingleton)(t0.IWorkbenchExtensionManagementService,n8,z.InstantiationType.Delayed);class n9{prefersExecuteOnUI(){(0,oC.unsupported)()}prefersExecuteOnWorkspace(){(0,oC.unsupported)()}prefersExecuteOnWeb(){(0,oC.unsupported)()}canExecuteOnUI(){(0,oC.unsupported)()}canExecuteOnWorkspace(){(0,oC.unsupported)()}canExecuteOnWeb(){(0,oC.unsupported)()}getExtensionKind(){(0,oC.unsupported)()}getUserConfiguredExtensionKind(){(0,oC.unsupported)()}getExtensionUntrustedWorkspaceSupportType(){(0,oC.unsupported)()}getExtensionVirtualWorkspaceSupportType(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n9.prototype,"prefersExecuteOnUI",null),(0,h.__decorate)([ob],n9.prototype,"prefersExecuteOnWorkspace",null),(0,h.__decorate)([ob],n9.prototype,"prefersExecuteOnWeb",null),(0,h.__decorate)([ob],n9.prototype,"canExecuteOnUI",null),(0,h.__decorate)([ob],n9.prototype,"canExecuteOnWorkspace",null),(0,h.__decorate)([ob],n9.prototype,"canExecuteOnWeb",null),(0,h.__decorate)([ob],n9.prototype,"getExtensionKind",null),(0,h.__decorate)([ob],n9.prototype,"getUserConfiguredExtensionKind",null),(0,h.__decorate)([ob],n9.prototype,"getExtensionUntrustedWorkspaceSupportType",null),(0,h.__decorate)([ob],n9.prototype,"getExtensionVirtualWorkspaceSupportType",null),(0,z.registerSingleton)(t5.IExtensionManifestPropertiesService,n9,z.InstantiationType.Delayed),(0,z.registerSingleton)(eI.IWorkspaceTrustEnablementService,class{isWorkspaceTrustEnabled(){return!1}},z.InstantiationType.Delayed),(0,z.registerSingleton)(Q.IRemoteExtensionsScannerService,class{whenExtensionsReady(){throw Error("Method not implemented.")}async scanExtensions(){return[]}async scanSingleExtension(){return null}},z.InstantiationType.Delayed);class n7{constructor(){this.open=async()=>!1}create(){(0,oC.unsupported)()}registerHandler(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],n7.prototype,"create",null),(0,h.__decorate)([ob],n7.prototype,"registerHandler",null),(0,z.registerSingleton)(em.IURLService,n7,z.InstantiationType.Delayed);class re{register(){(0,oC.unsupported)()}connect(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],re.prototype,"register",null),(0,h.__decorate)([ob],re.prototype,"connect",null),(0,z.registerSingleton)(Y.IRemoteSocketFactoryService,re,z.InstantiationType.Delayed);class rt{constructor(){this.onDidChangeQuickDiffProviders=g.Event.None}addQuickDiffProvider(){(0,oC.unsupported)()}getQuickDiffs(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rt.prototype,"addQuickDiffProvider",null),(0,h.__decorate)([ob],rt.prototype,"getQuickDiffs",null),(0,z.registerSingleton)(to.IQuickDiffService,rt,z.InstantiationType.Delayed);class ri{constructor(){this.onDidChangeInputValueProviders=g.Event.None,this.onDidAddRepository=g.Event.None,this.onDidRemoveRepository=g.Event.None,this.repositories=[],this.repositoryCount=0}getDefaultInputValueProvider(){(0,oC.unsupported)()}registerSCMInputValueProvider(){(0,oC.unsupported)()}registerSCMProvider(){(0,oC.unsupported)()}getRepository(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ri.prototype,"getDefaultInputValueProvider",null),(0,h.__decorate)([ob],ri.prototype,"registerSCMInputValueProvider",null),(0,h.__decorate)([ob],ri.prototype,"registerSCMProvider",null),(0,h.__decorate)([ob],ri.prototype,"getRepository",null),(0,z.registerSingleton)(tn.ISCMService,ri,z.InstantiationType.Delayed);class ro{download(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ro.prototype,"download",null),(0,z.registerSingleton)(A.IDownloadService,ro,z.InstantiationType.Delayed);class rn{registerExtensionHandler(){(0,oC.unsupported)()}unregisterExtensionHandler(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rn.prototype,"registerExtensionHandler",null),(0,h.__decorate)([ob],rn.prototype,"unregisterExtensionHandler",null),(0,z.registerSingleton)(t3.IExtensionUrlHandler,rn,z.InstantiationType.Delayed);class rr{constructor(){this.lastActiveCommentcontroller=void 0,this.resourceHasCommentingRanges=()=>!1,this.onDidChangeActiveEditingCommentThread=g.Event.None,this.onDidSetResourceCommentInfos=g.Event.None,this.onDidSetAllCommentThreads=g.Event.None,this.onDidUpdateCommentThreads=g.Event.None,this.onDidUpdateNotebookCommentThreads=g.Event.None,this.onDidChangeActiveCommentThread=g.Event.None,this.onDidChangeCurrentCommentThread=g.Event.None,this.onDidUpdateCommentingRanges=g.Event.None,this.onDidChangeActiveCommentingRange=g.Event.None,this.onDidSetDataProvider=g.Event.None,this.onDidDeleteDataProvider=g.Event.None,this.onDidChangeCommentingEnabled=g.Event.None,this.isCommentingEnabled=!1,this.unregisterCommentController=()=>{},this.getDocumentComments=async()=>[],this.getNotebookComments=async()=>[]}get commentsModel(){return(0,oC.unsupported)()}setActiveEditingCommentThread(){(0,oC.unsupported)()}setActiveCommentAndThread(){(0,oC.unsupported)()}setDocumentComments(){(0,oC.unsupported)()}setWorkspaceComments(){(0,oC.unsupported)()}removeWorkspaceComments(){(0,oC.unsupported)()}registerCommentController(){(0,oC.unsupported)()}getCommentController(){(0,oC.unsupported)()}createCommentThreadTemplate(){(0,oC.unsupported)()}updateCommentThreadTemplate(){(0,oC.unsupported)()}getCommentMenus(){(0,oC.unsupported)()}updateComments(){(0,oC.unsupported)()}updateNotebookComments(){(0,oC.unsupported)()}disposeCommentThread(){(0,oC.unsupported)()}updateCommentingRanges(){(0,oC.unsupported)()}hasReactionHandler(){(0,oC.unsupported)()}toggleReaction(){(0,oC.unsupported)()}setActiveCommentThread(){(0,oC.unsupported)()}setCurrentCommentThread(){(0,oC.unsupported)()}enableCommenting(){(0,oC.unsupported)()}registerContinueOnCommentProvider(){(0,oC.unsupported)()}removeContinueOnComment(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rr.prototype,"commentsModel",null),(0,h.__decorate)([ob],rr.prototype,"setActiveEditingCommentThread",null),(0,h.__decorate)([ob],rr.prototype,"setActiveCommentAndThread",null),(0,h.__decorate)([ob],rr.prototype,"setDocumentComments",null),(0,h.__decorate)([ob],rr.prototype,"setWorkspaceComments",null),(0,h.__decorate)([ob],rr.prototype,"removeWorkspaceComments",null),(0,h.__decorate)([ob],rr.prototype,"registerCommentController",null),(0,h.__decorate)([ob],rr.prototype,"getCommentController",null),(0,h.__decorate)([ob],rr.prototype,"createCommentThreadTemplate",null),(0,h.__decorate)([ob],rr.prototype,"updateCommentThreadTemplate",null),(0,h.__decorate)([ob],rr.prototype,"getCommentMenus",null),(0,h.__decorate)([ob],rr.prototype,"updateComments",null),(0,h.__decorate)([ob],rr.prototype,"updateNotebookComments",null),(0,h.__decorate)([ob],rr.prototype,"disposeCommentThread",null),(0,h.__decorate)([ob],rr.prototype,"updateCommentingRanges",null),(0,h.__decorate)([ob],rr.prototype,"hasReactionHandler",null),(0,h.__decorate)([ob],rr.prototype,"toggleReaction",null),(0,h.__decorate)([ob],rr.prototype,"setActiveCommentThread",null),(0,h.__decorate)([ob],rr.prototype,"setCurrentCommentThread",null),(0,h.__decorate)([ob],rr.prototype,"enableCommenting",null),(0,h.__decorate)([ob],rr.prototype,"registerContinueOnCommentProvider",null),(0,h.__decorate)([ob],rr.prototype,"removeContinueOnComment",null),(0,z.registerSingleton)(eW.ICommentService,rr,z.InstantiationType.Delayed);class rs{constructor(){this.onDidChangeProviders=g.Event.None,this.onDidChangeItems=g.Event.None}registerCellStatusBarItemProvider(){(0,oC.unsupported)()}getStatusBarItemsForCell(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rs.prototype,"registerCellStatusBarItemProvider",null),(0,h.__decorate)([ob],rs.prototype,"getStatusBarItemsForCell",null),(0,z.registerSingleton)(e1.INotebookCellStatusBarService,rs,z.InstantiationType.Delayed);class ra{constructor(){this.onDidNotebookVariablesUpdate=g.Event.None,this.onDidAddKernel=g.Event.None,this.onDidRemoveKernel=g.Event.None,this.onDidChangeSelectedNotebooks=g.Event.None,this.onDidChangeNotebookAffinity=g.Event.None,this.onDidChangeKernelDetectionTasks=g.Event.None,this.onDidChangeSourceActions=g.Event.None}notifyVariablesChange(){(0,oC.unsupported)()}registerKernel(){(0,oC.unsupported)()}getMatchingKernel(){(0,oC.unsupported)()}getSelectedOrSuggestedKernel(){(0,oC.unsupported)()}selectKernelForNotebook(){(0,oC.unsupported)()}preselectKernelForNotebook(){(0,oC.unsupported)()}updateKernelNotebookAffinity(){(0,oC.unsupported)()}registerNotebookKernelDetectionTask(){(0,oC.unsupported)()}getKernelDetectionTasks(){(0,oC.unsupported)()}getSourceActions(){(0,oC.unsupported)()}getRunningSourceActions(){(0,oC.unsupported)()}registerKernelSourceActionProvider(){(0,oC.unsupported)()}getKernelSourceActions2(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ra.prototype,"notifyVariablesChange",null),(0,h.__decorate)([ob],ra.prototype,"registerKernel",null),(0,h.__decorate)([ob],ra.prototype,"getMatchingKernel",null),(0,h.__decorate)([ob],ra.prototype,"getSelectedOrSuggestedKernel",null),(0,h.__decorate)([ob],ra.prototype,"selectKernelForNotebook",null),(0,h.__decorate)([ob],ra.prototype,"preselectKernelForNotebook",null),(0,h.__decorate)([ob],ra.prototype,"updateKernelNotebookAffinity",null),(0,h.__decorate)([ob],ra.prototype,"registerNotebookKernelDetectionTask",null),(0,h.__decorate)([ob],ra.prototype,"getKernelDetectionTasks",null),(0,h.__decorate)([ob],ra.prototype,"getSourceActions",null),(0,h.__decorate)([ob],ra.prototype,"getRunningSourceActions",null),(0,h.__decorate)([ob],ra.prototype,"registerKernelSourceActionProvider",null),(0,h.__decorate)([ob],ra.prototype,"getKernelSourceActions2",null),(0,z.registerSingleton)(e4.INotebookKernelService,ra,z.InstantiationType.Delayed);class rl{constructor(){this.onShouldPostMessage=g.Event.None}prepare(){(0,oC.unsupported)()}getScoped(){(0,oC.unsupported)()}receiveMessage(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rl.prototype,"prepare",null),(0,h.__decorate)([ob],rl.prototype,"getScoped",null),(0,h.__decorate)([ob],rl.prototype,"receiveMessage",null),(0,z.registerSingleton)(e9.INotebookRendererMessagingService,rl,z.InstantiationType.Delayed);class rd{constructor(){this.matchesCurrent=()=>!1}addToHistory(){(0,oC.unsupported)()}getPreviousValue(){(0,oC.unsupported)()}getNextValue(){(0,oC.unsupported)()}replaceLast(){(0,oC.unsupported)()}clearHistory(){(0,oC.unsupported)()}has(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rd.prototype,"addToHistory",null),(0,h.__decorate)([ob],rd.prototype,"getPreviousValue",null),(0,h.__decorate)([ob],rd.prototype,"getNextValue",null),(0,h.__decorate)([ob],rd.prototype,"replaceLast",null),(0,h.__decorate)([ob],rd.prototype,"clearHistory",null),(0,h.__decorate)([ob],rd.prototype,"has",null),(0,z.registerSingleton)(eZ.IInteractiveHistoryService,rd,z.InstantiationType.Delayed);class rc{constructor(){this.onWillAddInteractiveDocument=g.Event.None,this.onWillRemoveInteractiveDocument=g.Event.None}willCreateInteractiveDocument(){(0,oC.unsupported)()}willRemoveInteractiveDocument(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rc.prototype,"willCreateInteractiveDocument",null),(0,h.__decorate)([ob],rc.prototype,"willRemoveInteractiveDocument",null),(0,z.registerSingleton)(eY.IInteractiveDocumentService,rc,z.InstantiationType.Delayed),(0,z.registerSingleton)(iy.IActiveLanguagePackService,class{async getExtensionIdProvidingCurrentLocale(){return(0,ov.getExtensionIdProvidingCurrentLocale)()}},z.InstantiationType.Eager);class ru{constructor(){this.getRemoteProfiles=async()=>[]}getRemoteProfile(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ru.prototype,"getRemoteProfile",null),(0,z.registerSingleton)(iW,ru,z.InstantiationType.Eager);class rh{constructor(){this.isDisabledByBisect=()=>!1,this.isActive=!1,this.disabledCount=0}start(){(0,oC.unsupported)()}next(){(0,oC.unsupported)()}reset(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rh.prototype,"start",null),(0,h.__decorate)([ob],rh.prototype,"next",null),(0,h.__decorate)([ob],rh.prototype,"reset",null),(0,z.registerSingleton)(tZ.IExtensionBisectService,rh,z.InstantiationType.Eager),(0,z.registerSingleton)(eC,class{constructor(){this.onTokenFailed=g.Event.None,this.account=void 0,this.onDidChangeAccount=g.Event.None}updateAccount(){return Promise.resolve()}},z.InstantiationType.Eager);class rp{constructor(){this.getWidgetsByLocations=()=>[],this.onDidAddWidget=g.Event.None,this.getAllWidgets=()=>[],this.getWidgetByLocation=()=>[],this.getWidgetBySessionId=()=>void 0,this.lastFocusedWidget=void 0}revealViewForProvider(){(0,oC.unsupported)()}getWidgetByInputUri(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rp.prototype,"revealViewForProvider",null),(0,h.__decorate)([ob],rp.prototype,"getWidgetByInputUri",null),(0,z.registerSingleton)(eT.IChatWidgetService,rp,z.InstantiationType.Delayed);class rg{constructor(){this.onDidChangeHelpInformation=g.Event.None,this.onDidChangeTargetType=g.Event.None,this.targetType=[],this.onDidChangeEditable=g.Event.None,this.onEnabledPortsFeatures=g.Event.None,this.portsFeaturesEnabled=os.PortsEnablement.Disabled,this.namedProcesses=new Map}get helpInformation(){return(0,oC.unsupported)()}get tunnelModel(){return(0,oC.unsupported)()}setEditable(){(0,oC.unsupported)()}getEditableData(){(0,oC.unsupported)()}forward(){(0,oC.unsupported)()}close(){(0,oC.unsupported)()}setTunnelInformation(){(0,oC.unsupported)()}setCandidateFilter(){(0,oC.unsupported)()}onFoundNewCandidates(){(0,oC.unsupported)()}restore(){(0,oC.unsupported)()}enablePortsFeatures(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rg.prototype,"helpInformation",null),(0,h.__decorate)([ob],rg.prototype,"tunnelModel",null),(0,h.__decorate)([ob],rg.prototype,"setEditable",null),(0,h.__decorate)([ob],rg.prototype,"getEditableData",null),(0,h.__decorate)([ob],rg.prototype,"forward",null),(0,h.__decorate)([ob],rg.prototype,"close",null),(0,h.__decorate)([ob],rg.prototype,"setTunnelInformation",null),(0,h.__decorate)([ob],rg.prototype,"setCandidateFilter",null),(0,h.__decorate)([ob],rg.prototype,"onFoundNewCandidates",null),(0,h.__decorate)([ob],rg.prototype,"restore",null),(0,h.__decorate)([ob],rg.prototype,"enablePortsFeatures",null),(0,z.registerSingleton)(ix.IRemoteExplorerService,rg,z.InstantiationType.Delayed);class rm{constructor(){this.getAccounts=async()=>[],this.onDidRegisterAuthenticationProvider=g.Event.None,this.onDidUnregisterAuthenticationProvider=g.Event.None,this.onDidChangeSessions=g.Event.None,this.onDidChangeDeclaredProviders=g.Event.None,this.declaredProviders=[],this.isAuthenticationProviderRegistered=()=>!1,this.getProviderIds=()=>[]}registerDeclaredAuthenticationProvider(){(0,oC.unsupported)()}unregisterDeclaredAuthenticationProvider(){(0,oC.unsupported)()}registerAuthenticationProvider(){(0,oC.unsupported)()}unregisterAuthenticationProvider(){(0,oC.unsupported)()}getProvider(){(0,oC.unsupported)()}getSessions(){(0,oC.unsupported)()}createSession(){(0,oC.unsupported)()}removeSession(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rm.prototype,"registerDeclaredAuthenticationProvider",null),(0,h.__decorate)([ob],rm.prototype,"unregisterDeclaredAuthenticationProvider",null),(0,h.__decorate)([ob],rm.prototype,"registerAuthenticationProvider",null),(0,h.__decorate)([ob],rm.prototype,"unregisterAuthenticationProvider",null),(0,h.__decorate)([ob],rm.prototype,"getProvider",null),(0,h.__decorate)([ob],rm.prototype,"getSessions",null),(0,h.__decorate)([ob],rm.prototype,"createSession",null),(0,h.__decorate)([ob],rm.prototype,"removeSession",null),(0,z.registerSingleton)(tz.IAuthenticationService,rm,z.InstantiationType.Delayed);class r_{constructor(){this.onDidChangeExtensionSessionAccess=g.Event.None,this.isAccessAllowed=()=>!1,this.readAllowedExtensions=()=>[]}updateAllowedExtensions(){(0,oC.unsupported)()}removeAllowedExtensions(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r_.prototype,"updateAllowedExtensions",null),(0,h.__decorate)([ob],r_.prototype,"removeAllowedExtensions",null),(0,z.registerSingleton)(tK.IAuthenticationAccessService,r_,z.InstantiationType.Delayed);class rf{constructor(){this.onDidChangeAccountPreference=g.Event.None,this.getAccountPreference=()=>void 0,this.getSessionPreference=()=>void 0}updateAccountPreference(){(0,oC.unsupported)()}removeAccountPreference(){(0,oC.unsupported)()}updateSessionPreference(){(0,oC.unsupported)()}removeSessionPreference(){(0,oC.unsupported)()}selectSession(){(0,oC.unsupported)()}requestSessionAccess(){(0,oC.unsupported)()}requestNewSession(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rf.prototype,"updateAccountPreference",null),(0,h.__decorate)([ob],rf.prototype,"removeAccountPreference",null),(0,h.__decorate)([ob],rf.prototype,"updateSessionPreference",null),(0,h.__decorate)([ob],rf.prototype,"removeSessionPreference",null),(0,h.__decorate)([ob],rf.prototype,"selectSession",null),(0,h.__decorate)([ob],rf.prototype,"requestSessionAccess",null),(0,h.__decorate)([ob],rf.prototype,"requestNewSession",null),(0,z.registerSingleton)(tz.IAuthenticationExtensionsService,rf,z.InstantiationType.Delayed);class ry{constructor(){this.extensionUsesAuth=async()=>!1}initializeExtensionUsageCache(){(0,oC.unsupported)()}readAccountUsages(){(0,oC.unsupported)()}removeAccountUsage(){(0,oC.unsupported)()}addAccountUsage(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ry.prototype,"initializeExtensionUsageCache",null),(0,h.__decorate)([ob],ry.prototype,"readAccountUsages",null),(0,h.__decorate)([ob],ry.prototype,"removeAccountUsage",null),(0,h.__decorate)([ob],ry.prototype,"addAccountUsage",null),(0,z.registerSingleton)(tW.IAuthenticationUsageService,ry,z.InstantiationType.Delayed);class rv{constructor(){this.onDidChangeProviders=g.Event.None,this.onDidChangeTimeline=g.Event.None,this.onDidChangeUri=g.Event.None,this.getSources=()=>[]}registerTimelineProvider(){(0,oC.unsupported)()}unregisterTimelineProvider(){(0,oC.unsupported)()}getTimeline(){(0,oC.unsupported)()}setUri(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rv.prototype,"registerTimelineProvider",null),(0,h.__decorate)([ob],rv.prototype,"unregisterTimelineProvider",null),(0,h.__decorate)([ob],rv.prototype,"getTimeline",null),(0,h.__decorate)([ob],rv.prototype,"setUri",null),(0,z.registerSingleton)(tA.ITimelineService,rv,z.InstantiationType.Delayed);class rC{constructor(){this.getTestsRelatedToCode=async()=>[],this.getCodeRelatedToTest=async()=>[],this.registerExtHost=()=>m.Disposable.None,this.onDidCancelTestRun=g.Event.None,this.onWillProcessDiff=g.Event.None,this.onDidProcessDiff=g.Event.None,this.getTestController=()=>void 0}provideTestFollowups(){(0,oC.unsupported)()}get excluded(){return(0,oC.unsupported)()}get collection(){return(0,oC.unsupported)()}get showInlineOutput(){return(0,oC.unsupported)()}registerTestController(){(0,oC.unsupported)()}refreshTests(){(0,oC.unsupported)()}cancelRefreshTests(){(0,oC.unsupported)()}startContinuousRun(){(0,oC.unsupported)()}runTests(){(0,oC.unsupported)()}runResolvedTests(){(0,oC.unsupported)()}syncTests(){(0,oC.unsupported)()}cancelTestRun(){(0,oC.unsupported)()}publishDiff(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rC.prototype,"provideTestFollowups",null),(0,h.__decorate)([ob],rC.prototype,"excluded",null),(0,h.__decorate)([ob],rC.prototype,"collection",null),(0,h.__decorate)([ob],rC.prototype,"showInlineOutput",null),(0,h.__decorate)([ob],rC.prototype,"registerTestController",null),(0,h.__decorate)([ob],rC.prototype,"refreshTests",null),(0,h.__decorate)([ob],rC.prototype,"cancelRefreshTests",null),(0,h.__decorate)([ob],rC.prototype,"startContinuousRun",null),(0,h.__decorate)([ob],rC.prototype,"runTests",null),(0,h.__decorate)([ob],rC.prototype,"runResolvedTests",null),(0,h.__decorate)([ob],rC.prototype,"syncTests",null),(0,h.__decorate)([ob],rC.prototype,"cancelTestRun",null),(0,h.__decorate)([ob],rC.prototype,"publishDiff",null),(0,z.registerSingleton)(tI.ITestService,rC,z.InstantiationType.Delayed);class rb{constructor(){this.onDidChangeSecret=g.Event.None,this.type="in-memory",this.get=async()=>void 0}set(){(0,oC.unsupported)()}delete(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rb.prototype,"set",null),(0,h.__decorate)([ob],rb.prototype,"delete",null),(0,z.registerSingleton)(X.ISecretStorageService,rb,z.InstantiationType.Delayed);class rS{constructor(){this.getShareActions=()=>[],this.provideShare=async()=>void 0}registerShareProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rS.prototype,"registerShareProvider",null),(0,z.registerSingleton)(td.IShareService,rS,z.InstantiationType.Delayed);class rw{constructor(){this.createProfileFromTemplate=async()=>void 0,this.resolveProfileTemplate=async()=>null,this.registerProfileContentHandler=()=>m.Disposable.None,this.unregisterProfileContentHandler=()=>{}}exportProfile2(){(0,oC.unsupported)()}createFromProfile(){(0,oC.unsupported)()}createProfile(){(0,oC.unsupported)()}editProfile(){(0,oC.unsupported)()}exportProfile(){(0,oC.unsupported)()}importProfile(){(0,oC.unsupported)()}showProfileContents(){(0,oC.unsupported)()}createFromCurrentProfile(){(0,oC.unsupported)()}createTroubleshootProfile(){(0,oC.unsupported)()}setProfile(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rw.prototype,"exportProfile2",null),(0,h.__decorate)([ob],rw.prototype,"createFromProfile",null),(0,h.__decorate)([ob],rw.prototype,"createProfile",null),(0,h.__decorate)([ob],rw.prototype,"editProfile",null),(0,h.__decorate)([ob],rw.prototype,"exportProfile",null),(0,h.__decorate)([ob],rw.prototype,"importProfile",null),(0,h.__decorate)([ob],rw.prototype,"showProfileContents",null),(0,h.__decorate)([ob],rw.prototype,"createFromCurrentProfile",null),(0,h.__decorate)([ob],rw.prototype,"createTroubleshootProfile",null),(0,h.__decorate)([ob],rw.prototype,"setProfile",null),(0,z.registerSingleton)(iz.IUserDataProfileImportExportService,rw,z.InstantiationType.Delayed);class rE{registerIssueDataProvider(){(0,oC.unsupported)()}openReporter(){(0,oC.unsupported)()}openProcessExplorer(){(0,oC.unsupported)()}registerIssueUriRequestHandler(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rE.prototype,"registerIssueDataProvider",null),(0,h.__decorate)([ob],rE.prototype,"openReporter",null),(0,h.__decorate)([ob],rE.prototype,"openProcessExplorer",null),(0,h.__decorate)([ob],rE.prototype,"registerIssueUriRequestHandler",null),(0,z.registerSingleton)(it.IWorkbenchIssueService,rE,z.InstantiationType.Delayed);class rI{constructor(){this.repositories=[],this.onDidChangeRepositories=g.Event.None,this.visibleRepositories=[],this.onDidChangeVisibleRepositories=g.Event.None,this.isVisible=()=>!1,this.focusedRepository=void 0,this.onDidFocusRepository=g.Event.None}get activeRepository(){return(0,oC.unsupported)()}get menus(){return(0,oC.unsupported)()}toggleVisibility(){(0,oC.unsupported)()}toggleSortKey(){(0,oC.unsupported)()}focus(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rI.prototype,"activeRepository",null),(0,h.__decorate)([ob],rI.prototype,"menus",null),(0,h.__decorate)([ob],rI.prototype,"toggleVisibility",null),(0,h.__decorate)([ob],rI.prototype,"toggleSortKey",null),(0,h.__decorate)([ob],rI.prototype,"focus",null),(0,z.registerSingleton)(tn.ISCMViewService,rI,z.InstantiationType.Delayed);class rx{constructor(){this.getLastCompletedCellForNotebook=()=>void 0,this.onDidChangeExecution=g.Event.None,this.onDidChangeLastRunFailState=g.Event.None}forceCancelNotebookExecutions(){(0,oC.unsupported)()}getCellExecutionsForNotebook(){(0,oC.unsupported)()}getCellExecutionsByHandleForNotebook(){(0,oC.unsupported)()}getCellExecution(){(0,oC.unsupported)()}createCellExecution(){(0,oC.unsupported)()}getExecution(){(0,oC.unsupported)()}createExecution(){(0,oC.unsupported)()}getLastFailedCellForNotebook(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rx.prototype,"forceCancelNotebookExecutions",null),(0,h.__decorate)([ob],rx.prototype,"getCellExecutionsForNotebook",null),(0,h.__decorate)([ob],rx.prototype,"getCellExecutionsByHandleForNotebook",null),(0,h.__decorate)([ob],rx.prototype,"getCellExecution",null),(0,h.__decorate)([ob],rx.prototype,"createCellExecution",null),(0,h.__decorate)([ob],rx.prototype,"getExecution",null),(0,h.__decorate)([ob],rx.prototype,"createExecution",null),(0,h.__decorate)([ob],rx.prototype,"getLastFailedCellForNotebook",null),(0,z.registerSingleton)(e5.INotebookExecutionStateService,rx,z.InstantiationType.Delayed);class rD{constructor(){this.getDefaultProfileForTest=()=>void 0,this.onDidChange=g.Event.None,this.all=()=>[],this.getGroupDefaultProfiles=()=>[],this.getControllerProfiles=()=>[]}addProfile(){(0,oC.unsupported)()}updateProfile(){(0,oC.unsupported)()}removeProfile(){(0,oC.unsupported)()}capabilitiesForTest(){(0,oC.unsupported)()}configure(){(0,oC.unsupported)()}setGroupDefaultProfiles(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rD.prototype,"addProfile",null),(0,h.__decorate)([ob],rD.prototype,"updateProfile",null),(0,h.__decorate)([ob],rD.prototype,"removeProfile",null),(0,h.__decorate)([ob],rD.prototype,"capabilitiesForTest",null),(0,h.__decorate)([ob],rD.prototype,"configure",null),(0,h.__decorate)([ob],rD.prototype,"setGroupDefaultProfiles",null),(0,z.registerSingleton)(tS.ITestProfileService,rD,z.InstantiationType.Delayed);class rk{setUsePlainTextEncryption(){(0,oC.unsupported)()}getKeyStorageProvider(){(0,oC.unsupported)()}encrypt(){(0,oC.unsupported)()}decrypt(){(0,oC.unsupported)()}isEncryptionAvailable(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rk.prototype,"setUsePlainTextEncryption",null),(0,h.__decorate)([ob],rk.prototype,"getKeyStorageProvider",null),(0,h.__decorate)([ob],rk.prototype,"encrypt",null),(0,h.__decorate)([ob],rk.prototype,"decrypt",null),(0,h.__decorate)([ob],rk.prototype,"isEncryptionAvailable",null),(0,z.registerSingleton)(M.IEncryptionService,rk,z.InstantiationType.Delayed);class rA{constructor(){this.onResultsChanged=g.Event.None,this.onTestChanged=g.Event.None,this.results=[],this.getResult=()=>void 0,this.getStateById=()=>void 0}clear(){(0,oC.unsupported)()}createLiveResult(){(0,oC.unsupported)()}push(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rA.prototype,"clear",null),(0,h.__decorate)([ob],rA.prototype,"createLiveResult",null),(0,h.__decorate)([ob],rA.prototype,"push",null),(0,z.registerSingleton)(tw.ITestResultService,rA,z.InstantiationType.Delayed);class rM{read(){(0,oC.unsupported)()}persist(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rM.prototype,"read",null),(0,h.__decorate)([ob],rM.prototype,"persist",null),(0,z.registerSingleton)(tE,rM,z.InstantiationType.Delayed);class rL{constructor(){this.onDidChange=g.Event.None}updateDecorationsAlternateAction(){(0,oC.unsupported)()}invalidateResultMessage(){(0,oC.unsupported)()}syncDecorations(){(0,oC.unsupported)()}getDecoratedTestPosition(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rL.prototype,"updateDecorationsAlternateAction",null),(0,h.__decorate)([ob],rL.prototype,"invalidateResultMessage",null),(0,h.__decorate)([ob],rL.prototype,"syncDecorations",null),(0,h.__decorate)([ob],rL.prototype,"getDecoratedTestPosition",null),(0,z.registerSingleton)(tD,rL,z.InstantiationType.Delayed),(0,z.registerSingleton)(iK.IUserDataInitializationService,class{constructor(){this.requiresInitialization=async()=>!1,this.whenInitializationFinished=async()=>{},this.initializeRequiredResources=async()=>{},this.initializeInstalledExtensions=async()=>{},this.initializeOtherResources=async()=>{}}},z.InstantiationType.Delayed),(0,z.registerSingleton)(x.IDiagnosticsService,D.NullDiagnosticsService,z.InstantiationType.Delayed),(0,z.registerSingleton)(ta.INotebookSearchService,class{notebookSearch(){return{openFilesToScan:new _.ResourceSet,completeData:Promise.resolve({results:[],messages:[]}),allScannedFiles:Promise.resolve(new _.ResourceSet)}}},z.InstantiationType.Delayed);class rT{constructor(){this.onDidChangeLanguageModels=g.Event.None,this.getLanguageModelIds=()=>[],this.lookupLanguageModel=()=>void 0}sendChatRequest(){(0,oC.unsupported)()}selectLanguageModels(){(0,oC.unsupported)()}computeTokenLength(){(0,oC.unsupported)()}registerLanguageModelChat(){(0,oC.unsupported)()}makeLanguageModelChatRequest(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rT.prototype,"sendChatRequest",null),(0,h.__decorate)([ob],rT.prototype,"selectLanguageModels",null),(0,h.__decorate)([ob],rT.prototype,"computeTokenLength",null),(0,h.__decorate)([ob],rT.prototype,"registerLanguageModelChat",null),(0,h.__decorate)([ob],rT.prototype,"makeLanguageModelChatRequest",null),(0,z.registerSingleton)(eK.ILanguageModelsService,rT,z.InstantiationType.Delayed);class rR{onDidChangeCommands(){(0,oC.unsupported)()}registerSlashData(){(0,oC.unsupported)()}registerSlashCallback(){(0,oC.unsupported)()}registerSlashCommand(){(0,oC.unsupported)()}executeCommand(){(0,oC.unsupported)()}getCommands(){(0,oC.unsupported)()}hasCommand(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rR.prototype,"onDidChangeCommands",null),(0,h.__decorate)([ob],rR.prototype,"registerSlashData",null),(0,h.__decorate)([ob],rR.prototype,"registerSlashCallback",null),(0,h.__decorate)([ob],rR.prototype,"registerSlashCommand",null),(0,h.__decorate)([ob],rR.prototype,"executeCommand",null),(0,h.__decorate)([ob],rR.prototype,"getCommands",null),(0,h.__decorate)([ob],rR.prototype,"hasCommand",null),(0,z.registerSingleton)(eP.IChatSlashCommandService,rR,z.InstantiationType.Delayed);class rN{constructor(){this.getVariable=()=>void 0,this.resolveVariable=async()=>[]}attachContext(){(0,oC.unsupported)()}getDynamicVariables(){(0,oC.unsupported)()}getDynamicReferences(){(0,oC.unsupported)()}registerVariable(){(0,oC.unsupported)()}getVariables(){(0,oC.unsupported)()}resolveVariables(){(0,oC.unsupported)()}hasVariable(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rN.prototype,"attachContext",null),(0,h.__decorate)([ob],rN.prototype,"getDynamicVariables",null),(0,h.__decorate)([ob],rN.prototype,"getDynamicReferences",null),(0,h.__decorate)([ob],rN.prototype,"registerVariable",null),(0,h.__decorate)([ob],rN.prototype,"getVariables",null),(0,h.__decorate)([ob],rN.prototype,"resolveVariables",null),(0,h.__decorate)([ob],rN.prototype,"hasVariable",null),(0,z.registerSingleton)(eO.IChatVariablesService,rN,z.InstantiationType.Delayed);class rP{constructor(){this.isEnabled=()=>!1}getRelatedInformation(){(0,oC.unsupported)()}registerAiRelatedInformationProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rP.prototype,"getRelatedInformation",null),(0,h.__decorate)([ob],rP.prototype,"registerAiRelatedInformationProvider",null),(0,z.registerSingleton)(tO.IAiRelatedInformationService,rP,z.InstantiationType.Delayed);class rO{constructor(){this.isEnabled=()=>!1}getEmbeddingVector(){(0,oC.unsupported)()}registerAiEmbeddingVectorProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rO.prototype,"getEmbeddingVector",null),(0,h.__decorate)([ob],rO.prototype,"registerAiEmbeddingVectorProvider",null),(0,z.registerSingleton)(tP.IAiEmbeddingVectorService,rO,z.InstantiationType.Delayed);class rF{async createNewMessage(e){return{id:String(rF._nextId++),data:e}}async validate(){return!0}async sign(e){return e}}rF._nextId=1,(0,z.registerSingleton)(J.ISignService,rF,z.InstantiationType.Delayed);class rK{constructor(){this.lastRunProfileIds=new Set,this.onDidChange=g.Event.None,this.isSpecificallyEnabledFor=()=>!1,this.isEnabledForAParentOf=()=>!1,this.isEnabledForAChildOf=()=>!1,this.isEnabled=()=>!1}isEnabledForProfile(){(0,oC.unsupported)()}stopProfile(){(0,oC.unsupported)()}start(){(0,oC.unsupported)()}stop(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rK.prototype,"isEnabledForProfile",null),(0,h.__decorate)([ob],rK.prototype,"stopProfile",null),(0,h.__decorate)([ob],rK.prototype,"start",null),(0,h.__decorate)([ob],rK.prototype,"stop",null),(0,z.registerSingleton)(tx,rK,z.InstantiationType.Delayed);class rW{constructor(){this.onDidSelectTestInExplorer=g.Event.None,this.onDidRequestInputFocus=g.Event.None,this.isFilteringFor=()=>!1}didSelectTestInExplorer(){(0,oC.unsupported)()}get text(){return(0,oC.unsupported)()}get reveal(){return(0,oC.unsupported)()}get globList(){return(0,oC.unsupported)()}get includeTags(){return(0,oC.unsupported)()}get excludeTags(){return(0,oC.unsupported)()}get fuzzy(){return(0,oC.unsupported)()}focusInput(){(0,oC.unsupported)()}setText(){(0,oC.unsupported)()}toggleFilteringFor(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rW.prototype,"didSelectTestInExplorer",null),(0,h.__decorate)([ob],rW.prototype,"text",null),(0,h.__decorate)([ob],rW.prototype,"reveal",null),(0,h.__decorate)([ob],rW.prototype,"globList",null),(0,h.__decorate)([ob],rW.prototype,"includeTags",null),(0,h.__decorate)([ob],rW.prototype,"excludeTags",null),(0,h.__decorate)([ob],rW.prototype,"fuzzy",null),(0,h.__decorate)([ob],rW.prototype,"focusInput",null),(0,h.__decorate)([ob],rW.prototype,"setText",null),(0,h.__decorate)([ob],rW.prototype,"toggleFilteringFor",null),(0,z.registerSingleton)(tb,rW,z.InstantiationType.Delayed);class rz{get historyVisible(){return(0,oC.unsupported)()}tryPeekFirstError(){(0,oC.unsupported)()}peekUri(){(0,oC.unsupported)()}openCurrentInEditor(){(0,oC.unsupported)()}open(){(0,oC.unsupported)()}closeAllPeeks(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rz.prototype,"historyVisible",null),(0,h.__decorate)([ob],rz.prototype,"tryPeekFirstError",null),(0,h.__decorate)([ob],rz.prototype,"peekUri",null),(0,h.__decorate)([ob],rz.prototype,"openCurrentInEditor",null),(0,h.__decorate)([ob],rz.prototype,"open",null),(0,h.__decorate)([ob],rz.prototype,"closeAllPeeks",null),(0,z.registerSingleton)(tk,rz,z.InstantiationType.Delayed);class rV{constructor(){this.getWindow=()=>void 0,this.onDidOpenAuxiliaryWindow=g.Event.None,this.hasWindow=()=>!1}open(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rV.prototype,"open",null),(0,z.registerSingleton)(tV,rV,z.InstantiationType.Delayed);class rB{constructor(){this.onDidStartTextToSpeechSession=g.Event.None,this.onDidEndTextToSpeechSession=g.Event.None,this.hasActiveTextToSpeechSession=!1,this.onDidChangeHasSpeechProvider=g.Event.None,this.onDidStartSpeechToTextSession=g.Event.None,this.onDidEndSpeechToTextSession=g.Event.None,this.hasActiveSpeechToTextSession=!1,this.onDidStartKeywordRecognition=g.Event.None,this.onDidEndKeywordRecognition=g.Event.None,this.hasActiveKeywordRecognition=!1,this.onDidRegisterSpeechProvider=g.Event.None,this.onDidUnregisterSpeechProvider=g.Event.None,this.hasSpeechProvider=!1}createTextToSpeechSession(){(0,oC.unsupported)()}recognizeKeyword(){(0,oC.unsupported)()}registerSpeechProvider(){(0,oC.unsupported)()}createSpeechToTextSession(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rB.prototype,"createTextToSpeechSession",null),(0,h.__decorate)([ob],rB.prototype,"recognizeKeyword",null),(0,h.__decorate)([ob],rB.prototype,"registerSpeechProvider",null),(0,h.__decorate)([ob],rB.prototype,"createSpeechToTextSession",null),(0,z.registerSingleton)(tu.ISpeechService,rB,z.InstantiationType.Delayed);class rH{get showInline(){return(0,oC.unsupported)()}get filterToTest(){return(0,oC.unsupported)()}get selected(){return(0,oC.unsupported)()}openCoverage(){(0,oC.unsupported)()}closeCoverage(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rH.prototype,"showInline",null),(0,h.__decorate)([ob],rH.prototype,"filterToTest",null),(0,h.__decorate)([ob],rH.prototype,"selected",null),(0,h.__decorate)([ob],rH.prototype,"openCoverage",null),(0,h.__decorate)([ob],rH.prototype,"closeCoverage",null),(0,z.registerSingleton)(tC,rH,z.InstantiationType.Delayed);class rU{acceptRequest(){(0,oC.unsupported)()}acceptResponse(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rU.prototype,"acceptRequest",null),(0,h.__decorate)([ob],rU.prototype,"acceptResponse",null),(0,z.registerSingleton)(eT.IChatAccessibilityService,rU,z.InstantiationType.Delayed);class rG{constructor(){this.onDidClearHistory=g.Event.None,this.getHistory=()=>[]}clearHistory(){(0,oC.unsupported)()}saveHistory(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rG.prototype,"clearHistory",null),(0,h.__decorate)([ob],rG.prototype,"saveHistory",null),(0,z.registerSingleton)(eF.IChatWidgetHistoryService,rG,z.InstantiationType.Delayed),(0,z.registerSingleton)(eT.IChatCodeBlockContextProviderService,class{constructor(){this.providers=[],this.registerProvider=()=>m.Disposable.None}},z.InstantiationType.Delayed);class rq{constructor(){this.onDidMoveSession=g.Event.None,this.onDidMoveSessio=g.Event.None,this.onDidStashSession=g.Event.None,this.onWillStartSession=g.Event.None,this.onDidEndSession=g.Event.None,this.getSession=()=>void 0}moveSession(){(0,oC.unsupported)()}getCodeEditor(){(0,oC.unsupported)()}stashSession(){(0,oC.unsupported)()}createSession(){(0,oC.unsupported)()}releaseSession(){(0,oC.unsupported)()}registerSessionKeyComputer(){(0,oC.unsupported)()}recordings(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rq.prototype,"moveSession",null),(0,h.__decorate)([ob],rq.prototype,"getCodeEditor",null),(0,h.__decorate)([ob],rq.prototype,"stashSession",null),(0,h.__decorate)([ob],rq.prototype,"createSession",null),(0,h.__decorate)([ob],rq.prototype,"releaseSession",null),(0,h.__decorate)([ob],rq.prototype,"registerSessionKeyComputer",null),(0,h.__decorate)([ob],rq.prototype,"recordings",null),(0,h.__decorate)([ob],rq.prototype,"dispose",null),(0,z.registerSingleton)(eQ.IInlineChatSessionService,rq,z.InstantiationType.Delayed);class r${constructor(){this.canComputeDiff=()=>!1,this.canPromptRecommendation=async()=>!1}computeDiff(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r$.prototype,"computeDiff",null),(0,z.registerSingleton)(te.INotebookEditorWorkerService,r$,z.InstantiationType.Delayed);class rj{getKernels(){(0,oC.unsupported)()}addMostRecentKernel(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rj.prototype,"getKernels",null),(0,h.__decorate)([ob],rj.prototype,"addMostRecentKernel",null),(0,z.registerSingleton)(e4.INotebookKernelHistoryService,rj,z.InstantiationType.Delayed);class rQ{executeNotebookCells(){(0,oC.unsupported)()}cancelNotebookCells(){(0,oC.unsupported)()}cancelNotebookCellHandles(){(0,oC.unsupported)()}registerExecutionParticipant(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rQ.prototype,"executeNotebookCells",null),(0,h.__decorate)([ob],rQ.prototype,"cancelNotebookCells",null),(0,h.__decorate)([ob],rQ.prototype,"cancelNotebookCellHandles",null),(0,h.__decorate)([ob],rQ.prototype,"registerExecutionParticipant",null),(0,z.registerSingleton)(e3.INotebookExecutionService,rQ,z.InstantiationType.Delayed),(0,z.registerSingleton)(e6,class{},z.InstantiationType.Delayed);class rY{info(){(0,oC.unsupported)()}debug(){(0,oC.unsupported)()}warn(){(0,oC.unsupported)()}error(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rY.prototype,"info",null),(0,h.__decorate)([ob],rY.prototype,"debug",null),(0,h.__decorate)([ob],rY.prototype,"warn",null),(0,h.__decorate)([ob],rY.prototype,"error",null),(0,z.registerSingleton)(e8.INotebookLoggingService,rY,z.InstantiationType.Delayed);class rZ{constructor(){this.onDidAddWalkthrough=g.Event.None,this.onDidRemoveWalkthrough=g.Event.None,this.onDidChangeWalkthrough=g.Event.None,this.onDidProgressStep=g.Event.None}getWalkthroughs(){(0,oC.unsupported)()}getWalkthrough(){(0,oC.unsupported)()}registerWalkthrough(){(0,oC.unsupported)()}progressByEvent(){(0,oC.unsupported)()}progressStep(){(0,oC.unsupported)()}deprogressStep(){(0,oC.unsupported)()}markWalkthroughOpened(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rZ.prototype,"getWalkthroughs",null),(0,h.__decorate)([ob],rZ.prototype,"getWalkthrough",null),(0,h.__decorate)([ob],rZ.prototype,"registerWalkthrough",null),(0,h.__decorate)([ob],rZ.prototype,"progressByEvent",null),(0,h.__decorate)([ob],rZ.prototype,"progressStep",null),(0,h.__decorate)([ob],rZ.prototype,"deprogressStep",null),(0,h.__decorate)([ob],rZ.prototype,"markWalkthroughOpened",null),(0,z.registerSingleton)(tR,rZ,z.InstantiationType.Delayed);class rX{constructor(){this.onDidChangeUserDataSyncStore=g.Event.None,this.userDataSyncStore=void 0}switch(){(0,oC.unsupported)()}getPreviousUserDataSyncStore(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rX.prototype,"switch",null),(0,h.__decorate)([ob],rX.prototype,"getPreviousUserDataSyncStore",null),(0,z.registerSingleton)(ev.IUserDataSyncStoreManagementService,rX,z.InstantiationType.Delayed);class rJ{constructor(){this.onDidChangeDonotMakeRequestsUntil=g.Event.None,this.donotMakeRequestsUntil=void 0,this.onTokenFailed=g.Event.None,this.onTokenSucceed=g.Event.None}setAuthToken(){(0,oC.unsupported)()}manifest(){(0,oC.unsupported)()}readResource(){(0,oC.unsupported)()}writeResource(){(0,oC.unsupported)()}deleteResource(){(0,oC.unsupported)()}getAllResourceRefs(){(0,oC.unsupported)()}resolveResourceContent(){(0,oC.unsupported)()}getAllCollections(){(0,oC.unsupported)()}createCollection(){(0,oC.unsupported)()}deleteCollection(){(0,oC.unsupported)()}getActivityData(){(0,oC.unsupported)()}clear(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],rJ.prototype,"setAuthToken",null),(0,h.__decorate)([ob],rJ.prototype,"manifest",null),(0,h.__decorate)([ob],rJ.prototype,"readResource",null),(0,h.__decorate)([ob],rJ.prototype,"writeResource",null),(0,h.__decorate)([ob],rJ.prototype,"deleteResource",null),(0,h.__decorate)([ob],rJ.prototype,"getAllResourceRefs",null),(0,h.__decorate)([ob],rJ.prototype,"resolveResourceContent",null),(0,h.__decorate)([ob],rJ.prototype,"getAllCollections",null),(0,h.__decorate)([ob],rJ.prototype,"createCollection",null),(0,h.__decorate)([ob],rJ.prototype,"deleteCollection",null),(0,h.__decorate)([ob],rJ.prototype,"getActivityData",null),(0,h.__decorate)([ob],rJ.prototype,"clear",null),(0,z.registerSingleton)(ev.IUserDataSyncStoreService,rJ,z.InstantiationType.Delayed);class r0{constructor(){this.onDidChangeLogLevel=g.Event.None}getLevel(){(0,oC.unsupported)()}setLevel(){(0,oC.unsupported)()}trace(){(0,oC.unsupported)()}debug(){(0,oC.unsupported)()}info(){(0,oC.unsupported)()}warn(){(0,oC.unsupported)()}error(){(0,oC.unsupported)()}flush(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r0.prototype,"getLevel",null),(0,h.__decorate)([ob],r0.prototype,"setLevel",null),(0,h.__decorate)([ob],r0.prototype,"trace",null),(0,h.__decorate)([ob],r0.prototype,"debug",null),(0,h.__decorate)([ob],r0.prototype,"info",null),(0,h.__decorate)([ob],r0.prototype,"warn",null),(0,h.__decorate)([ob],r0.prototype,"error",null),(0,h.__decorate)([ob],r0.prototype,"flush",null),(0,h.__decorate)([ob],r0.prototype,"dispose",null),(0,z.registerSingleton)(ev.IUserDataSyncLogService,r0,z.InstantiationType.Delayed);class r1{constructor(){this.status=ey.SyncStatus.Uninitialized,this.onDidChangeStatus=g.Event.None,this.conflicts=[],this.onDidChangeConflicts=g.Event.None,this.onDidChangeLocal=g.Event.None,this.onSyncErrors=g.Event.None,this.onDidChangeLastSyncTime=g.Event.None,this.onDidResetRemote=g.Event.None,this.onDidResetLocal=g.Event.None}createSyncTask(){(0,oC.unsupported)()}createManualSyncTask(){(0,oC.unsupported)()}resolveContent(){(0,oC.unsupported)()}accept(){(0,oC.unsupported)()}reset(){(0,oC.unsupported)()}resetRemote(){(0,oC.unsupported)()}cleanUpRemoteData(){(0,oC.unsupported)()}resetLocal(){(0,oC.unsupported)()}hasLocalData(){(0,oC.unsupported)()}hasPreviouslySynced(){(0,oC.unsupported)()}replace(){(0,oC.unsupported)()}saveRemoteActivityData(){(0,oC.unsupported)()}extractActivityData(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r1.prototype,"createSyncTask",null),(0,h.__decorate)([ob],r1.prototype,"createManualSyncTask",null),(0,h.__decorate)([ob],r1.prototype,"resolveContent",null),(0,h.__decorate)([ob],r1.prototype,"accept",null),(0,h.__decorate)([ob],r1.prototype,"reset",null),(0,h.__decorate)([ob],r1.prototype,"resetRemote",null),(0,h.__decorate)([ob],r1.prototype,"cleanUpRemoteData",null),(0,h.__decorate)([ob],r1.prototype,"resetLocal",null),(0,h.__decorate)([ob],r1.prototype,"hasLocalData",null),(0,h.__decorate)([ob],r1.prototype,"hasPreviouslySynced",null),(0,h.__decorate)([ob],r1.prototype,"replace",null),(0,h.__decorate)([ob],r1.prototype,"saveRemoteActivityData",null),(0,h.__decorate)([ob],r1.prototype,"extractActivityData",null),(0,z.registerSingleton)(ev.IUserDataSyncService,r1,z.InstantiationType.Delayed);class r2{constructor(){this.onDidChange=g.Event.None}getMachines(){(0,oC.unsupported)()}addCurrentMachine(){(0,oC.unsupported)()}removeCurrentMachine(){(0,oC.unsupported)()}renameMachine(){(0,oC.unsupported)()}setEnablements(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r2.prototype,"getMachines",null),(0,h.__decorate)([ob],r2.prototype,"addCurrentMachine",null),(0,h.__decorate)([ob],r2.prototype,"removeCurrentMachine",null),(0,h.__decorate)([ob],r2.prototype,"renameMachine",null),(0,h.__decorate)([ob],r2.prototype,"setEnablements",null),(0,z.registerSingleton)(eb,r2,z.InstantiationType.Delayed);class r3{getRemoteSyncedProfiles(){(0,oC.unsupported)()}getLocalSyncedProfiles(){(0,oC.unsupported)()}getRemoteSyncResourceHandles(){(0,oC.unsupported)()}getLocalSyncResourceHandles(){(0,oC.unsupported)()}getAssociatedResources(){(0,oC.unsupported)()}getMachineId(){(0,oC.unsupported)()}getLocalSyncedMachines(){(0,oC.unsupported)()}resolveContent(){(0,oC.unsupported)()}resolveUserDataSyncResource(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r3.prototype,"getRemoteSyncedProfiles",null),(0,h.__decorate)([ob],r3.prototype,"getLocalSyncedProfiles",null),(0,h.__decorate)([ob],r3.prototype,"getRemoteSyncResourceHandles",null),(0,h.__decorate)([ob],r3.prototype,"getLocalSyncResourceHandles",null),(0,h.__decorate)([ob],r3.prototype,"getAssociatedResources",null),(0,h.__decorate)([ob],r3.prototype,"getMachineId",null),(0,h.__decorate)([ob],r3.prototype,"getLocalSyncedMachines",null),(0,h.__decorate)([ob],r3.prototype,"resolveContent",null),(0,h.__decorate)([ob],r3.prototype,"resolveUserDataSyncResource",null),(0,z.registerSingleton)(ev.IUserDataSyncResourceProviderService,r3,z.InstantiationType.Delayed);class r5{writeResource(){(0,oC.unsupported)()}getAllResourceRefs(){(0,oC.unsupported)()}resolveResourceContent(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r5.prototype,"writeResource",null),(0,h.__decorate)([ob],r5.prototype,"getAllResourceRefs",null),(0,h.__decorate)([ob],r5.prototype,"resolveResourceContent",null),(0,z.registerSingleton)(ev.IUserDataSyncLocalStoreService,r5,z.InstantiationType.Delayed);class r4{constructor(){this.resolveDefaultCoreIgnoredSettings=async()=>[]}resolveUserBindings(){(0,oC.unsupported)()}resolveFormattingOptions(){(0,oC.unsupported)()}resolveDefaultIgnoredSettings(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r4.prototype,"resolveUserBindings",null),(0,h.__decorate)([ob],r4.prototype,"resolveFormattingOptions",null),(0,h.__decorate)([ob],r4.prototype,"resolveDefaultIgnoredSettings",null),(0,z.registerSingleton)(ev.IUserDataSyncUtilService,r4,z.InstantiationType.Delayed);class r6{getDefaultProfileToUse(){(0,oC.unsupported)()}createProfile(){(0,oC.unsupported)()}createAndEnterProfile(){(0,oC.unsupported)()}createAndEnterTransientProfile(){(0,oC.unsupported)()}removeProfile(){(0,oC.unsupported)()}updateProfile(){(0,oC.unsupported)()}switchProfile(){(0,oC.unsupported)()}getBuiltinProfileTemplates(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r6.prototype,"getDefaultProfileToUse",null),(0,h.__decorate)([ob],r6.prototype,"createProfile",null),(0,h.__decorate)([ob],r6.prototype,"createAndEnterProfile",null),(0,h.__decorate)([ob],r6.prototype,"createAndEnterTransientProfile",null),(0,h.__decorate)([ob],r6.prototype,"removeProfile",null),(0,h.__decorate)([ob],r6.prototype,"updateProfile",null),(0,h.__decorate)([ob],r6.prototype,"switchProfile",null),(0,h.__decorate)([ob],r6.prototype,"getBuiltinProfileTemplates",null),(0,z.registerSingleton)(iz.IUserDataProfileManagementService,r6,z.InstantiationType.Delayed);class r8{constructor(){this.onDidAddEntry=g.Event.None,this.onDidChangeEntry=g.Event.None,this.onDidReplaceEntry=g.Event.None,this.onDidRemoveEntry=g.Event.None,this.onDidMoveEntries=g.Event.None,this.onDidRemoveEntries=g.Event.None,this.getEntries=async()=>[],this.getAll=async()=>[]}addEntry(){(0,oC.unsupported)()}updateEntry(){(0,oC.unsupported)()}removeEntry(){(0,oC.unsupported)()}moveEntries(){(0,oC.unsupported)()}removeAll(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r8.prototype,"addEntry",null),(0,h.__decorate)([ob],r8.prototype,"updateEntry",null),(0,h.__decorate)([ob],r8.prototype,"removeEntry",null),(0,h.__decorate)([ob],r8.prototype,"moveEntries",null),(0,h.__decorate)([ob],r8.prototype,"removeAll",null),(0,z.registerSingleton)(iQ,r8,z.InstantiationType.Delayed);class r9{markChanged(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r9.prototype,"markChanged",null),(0,z.registerSingleton)(ej.IInlineChatSavingService,r9,z.InstantiationType.Delayed);class r7{constructor(){this.getNotebook=()=>void 0}addNotebookDocument(){(0,oC.unsupported)()}removeNotebookDocument(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],r7.prototype,"addNotebookDocument",null),(0,h.__decorate)([ob],r7.prototype,"removeNotebookDocument",null),(0,z.registerSingleton)(iv.INotebookDocumentService,r7,z.InstantiationType.Delayed);class se{registerTree(){(0,oC.unsupported)()}getVisualizedNodeFor(){(0,oC.unsupported)()}getVisualizedChildren(){(0,oC.unsupported)()}editTreeItem(){(0,oC.unsupported)()}getApplicableFor(){(0,oC.unsupported)()}register(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],se.prototype,"registerTree",null),(0,h.__decorate)([ob],se.prototype,"getVisualizedNodeFor",null),(0,h.__decorate)([ob],se.prototype,"getVisualizedChildren",null),(0,h.__decorate)([ob],se.prototype,"editTreeItem",null),(0,h.__decorate)([ob],se.prototype,"getApplicableFor",null),(0,h.__decorate)([ob],se.prototype,"register",null),(0,z.registerSingleton)(eB.IDebugVisualizerService,se,z.InstantiationType.Delayed);class st{constructor(){this.onDidChangeLogLevel=g.Event.None}getLevel(){(0,oC.unsupported)()}setLevel(){(0,oC.unsupported)()}trace(){(0,oC.unsupported)()}debug(){(0,oC.unsupported)()}info(){(0,oC.unsupported)()}warn(){(0,oC.unsupported)()}error(){(0,oC.unsupported)()}flush(){(0,oC.unsupported)()}dispose(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],st.prototype,"getLevel",null),(0,h.__decorate)([ob],st.prototype,"setLevel",null),(0,h.__decorate)([ob],st.prototype,"trace",null),(0,h.__decorate)([ob],st.prototype,"debug",null),(0,h.__decorate)([ob],st.prototype,"info",null),(0,h.__decorate)([ob],st.prototype,"warn",null),(0,h.__decorate)([ob],st.prototype,"error",null),(0,h.__decorate)([ob],st.prototype,"flush",null),(0,h.__decorate)([ob],st.prototype,"dispose",null),(0,z.registerSingleton)(eU,st,z.InstantiationType.Delayed);class si{constructor(){this.SIZE_LIMIT=0,this.isSignedIn=!1,this.onDidSignIn=g.Event.None,this.onDidSignOut=g.Event.None,this.storeClient=void 0,this.lastReadResources=new Map,this.lastWrittenResources=new Map}initialize(){(0,oC.unsupported)()}read(){(0,oC.unsupported)()}write(){(0,oC.unsupported)()}delete(){(0,oC.unsupported)()}list(){(0,oC.unsupported)()}getMachineById(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],si.prototype,"initialize",null),(0,h.__decorate)([ob],si.prototype,"read",null),(0,h.__decorate)([ob],si.prototype,"write",null),(0,h.__decorate)([ob],si.prototype,"delete",null),(0,h.__decorate)([ob],si.prototype,"list",null),(0,h.__decorate)([ob],si.prototype,"getMachineById",null),(0,z.registerSingleton)(eH,si,z.InstantiationType.Delayed),(0,z.registerSingleton)(eJ.IMultiDiffSourceResolverService,class{constructor(){this.registerResolver=()=>m.Disposable.None,this.resolve=async()=>void 0}},z.InstantiationType.Delayed),(0,z.registerSingleton)(th,class{getTags(){return Promise.resolve({})}async getTelemetryWorkspaceId(e,t){}getHashedRemotesFromUri(e,t){return Promise.resolve([])}},z.InstantiationType.Delayed);class so{constructor(){this.getAllAccessDataForExtension=()=>new Map,this.onDidChangeEnablement=g.Event.None,this.isEnabled=()=>!0,this.onDidChangeAccessData=g.Event.None,this.getAccessData=()=>void 0}setEnablement(){(0,oC.unsupported)()}getEnablementData(){(0,oC.unsupported)()}getAccess(){(0,oC.unsupported)()}setStatus(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],so.prototype,"setEnablement",null),(0,h.__decorate)([ob],so.prototype,"getEnablementData",null),(0,h.__decorate)([ob],so.prototype,"getAccess",null),(0,h.__decorate)([ob],so.prototype,"setStatus",null),(0,z.registerSingleton)(tX.IExtensionFeaturesManagementService,so,z.InstantiationType.Delayed),(0,z.registerSingleton)(tj.IEditorPaneService,class{constructor(){this.onWillInstantiateEditorPane=g.Event.None,this.didInstantiateEditorPane=()=>!1}},z.InstantiationType.Delayed);class sn{matches(){(0,oC.unsupported)()}getWorkspaceStateFolders(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sn.prototype,"matches",null),(0,h.__decorate)([ob],sn.prototype,"getWorkspaceStateFolders",null),(0,z.registerSingleton)(iX,sn,z.InstantiationType.Delayed);class sr{constructor(){this.onDidChangeDefaultLogLevels=g.Event.None,this.getDefaultLogLevel=async()=>H.LogLevel.Off}getDefaultLogLevels(){(0,oC.unsupported)()}setDefaultLogLevel(){(0,oC.unsupported)()}migrateLogLevels(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sr.prototype,"getDefaultLogLevels",null),(0,h.__decorate)([ob],sr.prototype,"setDefaultLogLevel",null),(0,h.__decorate)([ob],sr.prototype,"migrateLogLevels",null),(0,z.registerSingleton)(eX,sr,z.InstantiationType.Delayed),(0,z.registerSingleton)(tq.ICustomEditorLabelService,class{constructor(){this.onDidChange=g.Event.None,this.getName=()=>void 0}},z.InstantiationType.Delayed);class ss{constructor(){this.isActive=()=>!1}start(){(0,oC.unsupported)()}resume(){(0,oC.unsupported)()}stop(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],ss.prototype,"start",null),(0,h.__decorate)([ob],ss.prototype,"resume",null),(0,h.__decorate)([ob],ss.prototype,"stop",null),(0,z.registerSingleton)(ie,ss,z.InstantiationType.Delayed),(0,z.registerSingleton)(oo,class{async isPure(){return{isPure:!1,proof:[]}}},z.InstantiationType.Delayed),(0,z.registerSingleton)(on.ITrustedDomainService,class{isValid(){return!1}},z.InstantiationType.Delayed);class sa{constructor(){this.getTool=()=>void 0,this.getToolByName=()=>void 0,this.onDidChangeTools=g.Event.None,this.getTools=()=>[]}registerToolData(){(0,oC.unsupported)()}registerToolImplementation(){(0,oC.unsupported)()}invokeTool(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sa.prototype,"registerToolData",null),(0,h.__decorate)([ob],sa.prototype,"registerToolImplementation",null),(0,h.__decorate)([ob],sa.prototype,"invokeTool",null),(0,z.registerSingleton)(or.ILanguageModelToolsService,sa,z.InstantiationType.Delayed);class sl{openReporter(){(0,oC.unsupported)()}reloadWithExtensionsDisabled(){(0,oC.unsupported)()}showConfirmCloseDialog(){(0,oC.unsupported)()}showClipboardDialog(){(0,oC.unsupported)()}sendReporterMenu(){(0,oC.unsupported)()}closeReporter(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sl.prototype,"openReporter",null),(0,h.__decorate)([ob],sl.prototype,"reloadWithExtensionsDisabled",null),(0,h.__decorate)([ob],sl.prototype,"showConfirmCloseDialog",null),(0,h.__decorate)([ob],sl.prototype,"showClipboardDialog",null),(0,h.__decorate)([ob],sl.prototype,"sendReporterMenu",null),(0,h.__decorate)([ob],sl.prototype,"closeReporter",null),(0,z.registerSingleton)(it.IIssueFormService,sl,z.InstantiationType.Delayed);class sd{constructor(){this.mapCodeFromResponse=async()=>void 0,this.mapCode=async()=>void 0}registerCodeMapperProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sd.prototype,"registerCodeMapperProvider",null),(0,z.registerSingleton)(oa.ICodeMapperService,sd,z.InstantiationType.Delayed);class sc{constructor(){this.getOrRestoreEditingSession=async()=>null,this.hasRelatedFilesProviders=()=>!1,this.getRelatedFiles=async()=>void 0,this.onDidChangeEditingSession=g.Event.None,this.currentAutoApplyOperation=null,this.editingSessionFileLimit=0,this.getEditingSession=()=>null,this.onDidCreateEditingSession=g.Event.None,this.currentEditingSession=null}registerRelatedFilesProvider(){return(0,oC.unsupported)()}get currentEditingSessionObs(){return(0,oC.unsupported)()}triggerEditComputation(){(0,oC.unsupported)()}createSnapshot(){(0,oC.unsupported)()}getSnapshotUri(){(0,oC.unsupported)()}restoreSnapshot(){(0,oC.unsupported)()}startOrContinueEditingSession(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sc.prototype,"registerRelatedFilesProvider",null),(0,h.__decorate)([ob],sc.prototype,"currentEditingSessionObs",null),(0,h.__decorate)([ob],sc.prototype,"triggerEditComputation",null),(0,h.__decorate)([ob],sc.prototype,"createSnapshot",null),(0,h.__decorate)([ob],sc.prototype,"getSnapshotUri",null),(0,h.__decorate)([ob],sc.prototype,"restoreSnapshot",null),(0,h.__decorate)([ob],sc.prototype,"startOrContinueEditingSession",null),(0,z.registerSingleton)(ol.IChatEditingService,sc,z.InstantiationType.Delayed);class su{constructor(){this.onDidChange=g.Event.None,this.lookUp=()=>void 0}register(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],su.prototype,"register",null),(0,z.registerSingleton)(od.IActionViewItemService,su,z.InstantiationType.Delayed),(0,z.registerSingleton)(oc.ITreeSitterTokenizationFeature,class{},z.InstantiationType.Delayed);class sh{constructor(){this.fileIsIgnored=async()=>!1}registerIgnoredFileProvider(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sh.prototype,"registerIgnoredFileProvider",null),(0,z.registerSingleton)(ou.ILanguageModelIgnoredFilesService,sh,z.InstantiationType.Delayed),(0,z.registerSingleton)(T.IAllowedExtensionsService,class{constructor(){this.onDidChangeAllowedExtensions=g.Event.None,this.isAllowed=()=>!0}},z.InstantiationType.Delayed);class sp{constructor(){this.onDidChangeQuotas=g.Event.None}get quotas(){return(0,oC.unsupported)()}acceptQuotas(){(0,oC.unsupported)()}clearQuotas(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sp.prototype,"quotas",null),(0,h.__decorate)([ob],sp.prototype,"acceptQuotas",null),(0,h.__decorate)([ob],sp.prototype,"clearQuotas",null),(0,z.registerSingleton)(oh.IChatQuotasService,sp,z.InstantiationType.Delayed);class sg{revert(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sg.prototype,"revert",null),(0,z.registerSingleton)(op.INotebookSynchronizerService,sg,z.InstantiationType.Delayed);class sm{getOrCreate(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sm.prototype,"getOrCreate",null),(0,z.registerSingleton)(og.INotebookOriginalCellModelFactory,sm,z.InstantiationType.Delayed);class s_{getOrCreate(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],s_.prototype,"getOrCreate",null),(0,z.registerSingleton)(om.INotebookOriginalModelReferenceFactory,s_,z.InstantiationType.Delayed);class sf{getOrCreate(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sf.prototype,"getOrCreate",null),(0,z.registerSingleton)(o_.INotebookModelSynchronizerFactory,sf,z.InstantiationType.Delayed),(0,z.registerSingleton)(of.IDirtyDiffModelService,class{constructor(){this.getDirtyDiffModel=()=>void 0,this.getDiffModel=()=>void 0}},z.InstantiationType.Delayed);class sy{get providers(){return(0,oC.unsupported)()}registerTerminalCompletionProvider(){(0,oC.unsupported)()}provideCompletions(){(0,oC.unsupported)()}}(0,h.__decorate)([ob],sy.prototype,"providers",null),(0,h.__decorate)([ob],sy.prototype,"registerTerminalCompletionProvider",null),(0,h.__decorate)([ob],sy.prototype,"provideCompletions",null),(0,z.registerSingleton)(oy.ITerminalCompletionService,sy,z.InstantiationType.Delayed),e.s([],225911)},195171,e=>{"use strict";var t=e.i(383962),i=e.i(569038),o=e.i(782353),n=e.i(358764);let r="^([\\w_-]+)$",s="^(normal|italic|(oblique[ \\w\\s-]+))$",a="^(normal|bold|lighter|bolder|(\\d{0-1000}))$",l={type:"object",allowComments:!0,allowTrailingCommas:!0,properties:{fonts:{type:"array",items:{type:"object",properties:{id:{type:"string",description:(0,t.localize)(11906,"The ID of the font."),pattern:r,patternErrorMessage:(0,t.localize)(11907,"The ID must only contain letters, numbers, underscore and minus.")},src:{type:"array",description:(0,t.localize)(11908,"The location of the font."),items:{type:"object",properties:{path:{type:"string",description:(0,t.localize)(11909,"The font path, relative to the current product icon theme file.")},format:{type:"string",description:(0,t.localize)(11910,"The format of the font."),enum:["woff","woff2","truetype","opentype","embedded-opentype","svg"]}},required:["path","format"]}},weight:{type:"string",description:(0,t.localize)(11911,"The weight of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight for valid values."),anyOf:[{enum:["normal","bold","lighter","bolder"]},{type:"string",pattern:a}]},style:{type:"string",description:(0,t.localize)(11912,"The style of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-style for valid values."),anyOf:[{enum:["normal","italic","oblique"]},{type:"string",pattern:s}]}},required:["id","src"]}},iconDefinitions:{description:(0,t.localize)(11913,"Association of icon name to a font character."),$ref:n.iconsSchemaId}}};function d(){i.Registry.as(o.Extensions.JSONContribution).registerSchema("vscode://schemas/product-icon-theme",l)}e.s(["fontCharacterRegex",()=>"^([^\\\\]|\\\\[a-fA-F0-9]+)$","fontColorRegex",()=>"^#[0-9a-fA-F]{0,6}$","fontFormatRegex",()=>"^woff|woff2|truetype|opentype|embedded-opentype|svg$","fontIdRegex",()=>r,"fontSizeRegex",()=>"^([\\w_.%+-]+)$","fontStyleRegex",()=>s,"fontWeightRegex",()=>a,"registerProductIconThemeSchemas",()=>d])},65583,e=>{"use strict";var t,i=e.i(308165),o=e.i(145384),n=e.i(436120),r=e.i(678417),s=e.i(309187),a=e.i(357969),l=e.i(918299),d=e.i(488131),c=e.i(13310),u=e.i(341541),h=e.i(141212),p=e.i(403197),g=n,m=e.i(323659),_=e.i(137479),f=e.i(756970),y=e.i(693655),v=e.i(945588),C=e.i(786480);e.i(184765);var b=e.i(537397),S=e.i(765809);e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);class w extends p.Widget{constructor(e){super(),this.label=e,this._onClick=this._register(new o.Emitter),this.onClick=this._onClick.event,this._domNode=(0,h.$)(".floating-click-widget"),this._domNode.style.padding="6px 11px",this._domNode.style.borderRadius="2px",this._domNode.style.cursor="pointer",this._domNode.style.zIndex="1"}getDomNode(){return this._domNode}render(){(0,h.clearNode)(this._domNode),this._domNode.style.backgroundColor=(0,v.asCssVariableWithDefault)(S.buttonBackground,(0,v.asCssVariable)(b.editorBackground)),this._domNode.style.color=(0,v.asCssVariableWithDefault)(S.buttonForeground,(0,v.asCssVariable)(b.editorForeground)),this._domNode.style.border=`1px solid ${(0,v.asCssVariable)(C.contrastBorder)}`,(0,h.append)(this._domNode,(0,h.$)("")).textContent=this.label,this.onclick(this._domNode,()=>this._onClick.fire())}}let E=class extends g.Disposable{constructor(e,t,i){super(),this.renderEmitter=new o.Emitter,this.onDidRender=this.renderEmitter.event,this.menu=this._register(t.createMenu(e,i))}render(){let e=this._register(new g.DisposableStore),t=()=>{if(e.clear(),!this.isVisible())return;let t=(0,m.getFlatActionBarActions)(this.menu.getActions({renderShortTitle:!0,shouldForwardArgs:!0}));if(0===t.length)return;let[i]=t,o=this.createWidget(i,e);e.add(o),e.add(o.onClick(()=>i.run(this.getActionArg()))),o.render()};this._register(this.menu.onDidChange(t)),t()}getActionArg(){}isVisible(){return!0}};E=(0,i.__decorate)([(0,i.__param)(1,_.IMenuService),(0,i.__param)(2,f.IContextKeyService)],E);let I=class extends E{constructor(e,t,i,o){super(e.menuId,i,o),this.options=e,this.instantiationService=t,this.render()}createWidget(e,t){let i=this.instantiationService.createInstance(w,e.label),o=i.getDomNode();return this.options.container.appendChild(o),t.add((0,g.toDisposable)(()=>o.remove())),i}getActionArg(){return this.options.getActionArg()}};I=(0,i.__decorate)([(0,i.__param)(1,y.IInstantiationService),(0,i.__param)(2,_.IMenuService),(0,i.__param)(3,f.IContextKeyService)],I);var x=e.i(8114),D=e.i(352700),k=e.i(810602);let A=class extends n.Disposable{static{t=this}constructor(e){super(),this.editorService=e,this._onHighlightRemoved=this._register(new o.Emitter),this.onHighlightRemoved=this._onHighlightRemoved.event,this.rangeHighlightDecorationId=null,this.editor=null,this.editorDisposables=this._register(new n.DisposableStore)}removeHighlightRange(){if(this.editor&&this.rangeHighlightDecorationId){let e=this.rangeHighlightDecorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e)}),this._onHighlightRemoved.fire()}this.rangeHighlightDecorationId=null}highlightRange(e,t){t=t??this.getEditor(e),(0,s.isCodeEditor)(t)?this.doHighlightRange(t,e):(0,s.isCompositeEditor)(t)&&(0,s.isCodeEditor)(t.activeCodeEditor)&&this.doHighlightRange(t.activeCodeEditor,e)}doHighlightRange(e,t){this.removeHighlightRange(),e.changeDecorations(e=>{this.rangeHighlightDecorationId=e.addDecoration(t.range,this.createRangeHighlightDecoration(t.isWholeLine))}),this.setEditor(e)}getEditor(e){let t=this.editorService.activeEditor?.resource;if(t&&(0,r.isEqual)(t,e.resource)&&(0,s.isCodeEditor)(this.editorService.activeTextEditorControl))return this.editorService.activeTextEditorControl}setEditor(e){this.editor!==e&&(this.editorDisposables.clear(),this.editor=e,this.editorDisposables.add(this.editor.onDidChangeCursorPosition(e=>{(e.reason===d.CursorChangeReason.NotSet||e.reason===d.CursorChangeReason.Explicit||e.reason===d.CursorChangeReason.Undo||e.reason===d.CursorChangeReason.Redo)&&this.removeHighlightRange()})),this.editorDisposables.add(this.editor.onDidChangeModel(()=>{this.removeHighlightRange()})),this.editorDisposables.add(this.editor.onDidDispose(()=>{this.removeHighlightRange(),this.editor=null})))}static{this._WHOLE_LINE_RANGE_HIGHLIGHT=u.ModelDecorationOptions.register({description:"codeeditor-range-highlight-whole",stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0})}static{this._RANGE_HIGHLIGHT=u.ModelDecorationOptions.register({description:"codeeditor-range-highlight",stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight"})}createRangeHighlightDecoration(e=!0){return e?t._WHOLE_LINE_RANGE_HIGHLIGHT:t._RANGE_HIGHLIGHT}dispose(){super.dispose(),this.editor?.getModel()&&(this.removeHighlightRange(),this.editor=null)}};A=t=(0,i.__decorate)([(0,i.__param)(0,k.IEditorService)],A);let M=class extends w{constructor(e,t,i,o){super(i&&o.lookupKeybinding(i)?`${t} (${o.lookupKeybinding(i).getLabel()})`:t),this.editor=e}getId(){return"editor.overlayWidget.floatingClickWidget"}getPosition(){return{preference:s.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}}render(){super.render(),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}};M=(0,i.__decorate)([(0,i.__param)(3,D.IKeybindingService)],M);let L=class extends E{static{this.ID="editor.contrib.floatingClickMenu"}constructor(e,t,i,o){super(x.MenuId.EditorContent,i,o),this.editor=e,this.instantiationService=t,this.render()}createWidget(e){return this.instantiationService.createInstance(M,this.editor,e.label,e.id)}isVisible(){return!(this.editor instanceof a.EmbeddedCodeEditorWidget)&&this.editor?.hasModel()&&!this.editor.getOption(l.EditorOption.inDiffEditor)}getActionArg(){return this.editor.getModel()?.uri}};L=(0,i.__decorate)([(0,i.__param)(1,y.IInstantiationService),(0,i.__param)(2,_.IMenuService),(0,i.__param)(3,f.IContextKeyService)],L),e.s(["FloatingEditorClickMenu",()=>L,"FloatingEditorClickWidget",()=>M,"RangeHighlightDecorations",()=>A],65583)},118144,338882,319219,e=>{"use strict";var t,i,o,n,r=e.i(308165),s=e.i(550483),a=e.i(247921),l=e.i(901485),d=e.i(886202),c=e.i(756970),u=e.i(693655),h=e.i(982534);let p=class extends l.DiffEditorWidget{constructor(e,t,i,o,n,r,s,a,l){super(e,o.getRawOptions(),i,n,r,s,a,l),this._parentEditor=o,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(e=>this._onParentConfigurationChanged(e)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){(0,s.mixin)(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};p=(0,r.__decorate)([(0,r.__param)(4,c.IContextKeyService),(0,r.__param)(5,u.IInstantiationService),(0,r.__param)(6,a.ICodeEditorService),(0,r.__param)(7,d.IAccessibilitySignalService),(0,r.__param)(8,h.IEditorProgressService)],p),e.s(["EmbeddedDiffEditorWidget",()=>p],118144);var g=e.i(383962);(0,e.i(521549).default)('.monaco-editor .dirty-diff-glyph{margin-left:5px;z-index:5}.monaco-editor .dirty-diff-glyph:before{content:"";height:100%;left:-2px;position:absolute;width:0}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-glyph:before{transition:width 80ms linear,left 80ms linear,transform 80ms linear}.monaco-editor.modified-in-monaco-diff-editor .margin-view-overlays>div>.dirty-diff-glyph{display:none}.monaco-editor .dirty-diff-added{border-left-color:var(--vscode-editorGutter-addedBackground);border-left-style:solid}.monaco-editor .dirty-diff-added:before{background:var(--vscode-editorGutter-addedBackground)}.monaco-editor .dirty-diff-added-pattern{background-repeat:repeat-y}.monaco-editor .dirty-diff-added-pattern,.monaco-editor .dirty-diff-added-pattern:before{background-image:linear-gradient(-45deg,var(--vscode-editorGutter-addedBackground) 25%,var(--vscode-editorGutter-background) 25%,var(--vscode-editorGutter-background) 50%,var(--vscode-editorGutter-addedBackground) 50%,var(--vscode-editorGutter-addedBackground) 75%,var(--vscode-editorGutter-background) 75%,var(--vscode-editorGutter-background))}.monaco-editor .dirty-diff-added-pattern:before{transform:translateX(3px)}.monaco-editor .dirty-diff-modified{border-left-color:var(--vscode-editorGutter-modifiedBackground);border-left-style:solid}.monaco-editor .dirty-diff-modified:before{background:var(--vscode-editorGutter-modifiedBackground)}.monaco-editor .dirty-diff-modified-pattern{background-image:linear-gradient(-45deg,var(--vscode-editorGutter-modifiedBackground) 25%,var(--vscode-editorGutter-background) 25%,var(--vscode-editorGutter-background) 50%,var(--vscode-editorGutter-modifiedBackground) 50%,var(--vscode-editorGutter-modifiedBackground) 75%,var(--vscode-editorGutter-background) 75%,var(--vscode-editorGutter-background));background-repeat:repeat-y}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-added,.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-added-pattern,.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-modified,.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-modified-pattern{transition:opacity .5s}.monaco-editor .dirty-diff-modified-pattern:before{background-image:linear-gradient(-45deg,var(--vscode-editorGutter-modifiedBackground) 25%,var(--vscode-editorGutter-background) 25%,var(--vscode-editorGutter-background) 50%,var(--vscode-editorGutter-modifiedBackground) 50%,var(--vscode-editorGutter-modifiedBackground) 75%,var(--vscode-editorGutter-background) 75%,var(--vscode-editorGutter-background));transform:translateX(3px)}.monaco-editor .margin:hover .dirty-diff-added,.monaco-editor .margin:hover .dirty-diff-added-pattern,.monaco-editor .margin:hover .dirty-diff-modified,.monaco-editor .margin:hover .dirty-diff-modified-pattern{opacity:1}.monaco-editor .dirty-diff-deleted:after{border-bottom:4px solid transparent;border-left:4px solid var(--vscode-editorGutter-deletedBackground);border-top:4px solid transparent;bottom:-4px;box-sizing:border-box;content:"";height:0;pointer-events:none;position:absolute;width:4px;z-index:9}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-deleted:after{transition:border-top-width 80ms linear,border-bottom-width 80ms linear,bottom 80ms linear,opacity .5s}.monaco-editor .dirty-diff-deleted:before{background:var(--vscode-editorGutter-deletedBackground);bottom:0;height:0;margin-left:3px}.monaco-workbench:not(.reduce-motion) .monaco-editor .dirty-diff-deleted:before{transition:height 80ms linear}.dirty-diff .peekview-title .dropdown{margin-right:10px}.dirty-diff .peekview-title .dropdown.select-container{cursor:default}.dirty-diff .peekview-title .dropdown .monaco-select-box{cursor:pointer;min-height:18px;min-width:100px;padding:0 23px 0 8px}',{});var m=e.i(395806),_=e.i(436120),f=e.i(145384),y=e.i(490582),v=e.i(279691),C=e.i(619223),b=e.i(549523),S=e.i(341541),w=e.i(307955),E=e.i(272117),I=e.i(945588);e.i(786480),e.i(184765);var x=e.i(537397);e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var D=e.i(309187),k=e.i(710252),A=e.i(489230),M=e.i(166253),L=e.i(716526),T=e.i(332217),R=e.i(747053),N=e.i(882798),P=e.i(564485),O=e.i(918299),F=e.i(955130),K=e.i(352700),W=e.i(678417),z=e.i(8114),V=e.i(137479),B=e.i(323659),H=e.i(236924),U=e.i(13310),G=e.i(68858),q=e.i(141212),$=e.i(347997),j=e.i(225920),Q=e.i(524819),Y=e.i(358764),Z=e.i(304729),X=e.i(610620),J=e.i(394839),ee=e.i(257945),et=e.i(446099),ei=e.i(286230),eo=e.i(441900),en=e.i(810602),er=e.i(450569),es=e.i(180997),ea=e.i(503035),el=F,ed=e.i(545731),ec=e.i(429053),eu=e.i(223658);let eh=class extends ec.SelectActionViewItem{constructor(e,t,i,o,n){const r=t.map(e=>({provider:e,text:e}));let s=t.indexOf(i);-1===s&&(s=0);const a={...eu.defaultSelectBoxStyles},l=n.getColorTheme(),d=l.getColor(x.editorBackground),c=l.getColor(A.peekViewTitleBackground);a.selectBackground=(c?.makeOpaque(d)??d).lighten(.6).toString(),super(null,e,r,s,o,a,{ariaLabel:(0,g.localize)(8427,"Switch quick diff base")}),this.optionsItems=r}setSelection(e){let t=this.optionsItems.findIndex(t=>t.provider===e);this.select(t)}getActionContext(e,t){return this.optionsItems[t]}render(e){super.render(e),this.setFocusable(!0)}};eh=(0,r.__decorate)([(0,r.__param)(3,ed.IContextViewService),(0,r.__param)(4,E.IThemeService)],eh);class ep extends el.Action{static{this.ID="quickDiff.base.switch"}static{this.LABEL=(0,g.localize)(8428,"Switch Quick Diff Base")}constructor(e){super(ep.ID,ep.LABEL,void 0,void 0),this.callback=e}async run(e){return this.callback(e)}}var eg=e.i(187979),em=e.i(583388),e_=e.i(595315),ef=e.i(899553);class ey extends F.ActionRunner{runAction(e,t){return e instanceof z.MenuItemAction?e.run(...t):super.runAction(e,t)}}let ev=new M.RawContextKey("dirtyDiffVisible",!1);function eC(e){return 0===e.modifiedEndLineNumber?0===e.modifiedStartLineNumber?1:e.modifiedStartLineNumber:e.modifiedEndLineNumber}let eb=class extends F.Action{constructor(e,t,i,o,n){const r=o.lookupKeybinding(t.id);super(t.id,t.label+(r?` (${r.getLabel()})`:""),i),this.instantiationService=n,this.action=t,this.editor=e}run(){return Promise.resolve(this.instantiationService.invokeFunction(e=>this.action.run(e,this.editor,null)))}};function eS(e){return 0===e.originalEndLineNumber?n.Add:0===e.modifiedEndLineNumber?n.Delete:n.Modify}function ew(e){for(let t of e.get(a.ICodeEditorService).listDiffEditors())if(t.hasTextFocus()&&t instanceof p)return t.getParentEditor();return(0,A.getOuterEditor)(e)}eb=(0,r.__decorate)([(0,r.__param)(3,K.IKeybindingService),(0,r.__param)(4,u.IInstantiationService)],eb),(t=n||(n={}))[t.Modify=0]="Modify",t[t.Add=1]="Add",t[t.Delete=2]="Delete";let eE=class extends A.PeekViewWidget{constructor(e,t,i,o,n,r){super(e,{isResizeable:!0,frameWidth:1,keepEditorSelection:!0,className:"dirty-diff"},o),this.model=t,this.themeService=i,this.menuService=n,this.contextKeyService=r,this._index=0,this._provider="",this.height=void 0,this._disposables.add(i.onDidColorThemeChange(this._applyTheme,this)),this._applyTheme(i.getColorTheme()),this.model.original.length>0&&(r=r.createOverlay([["originalResourceScheme",this.model.original[0].uri.scheme],["originalResourceSchemes",this.model.original.map(e=>e.uri.scheme)]])),this.create(),e.hasModel()?this.title=(0,W.basename)(e.getModel().uri):this.title="",this.setTitle(this.title)}get provider(){return this._provider}get index(){return this._index}get visibleRange(){let e=this.diffEditor.getModifiedEditor().getVisibleRanges();return e.length>=0?e[0]:void 0}showChange(e,t=!0){let i,o,r=this.model.changes[e],s=r.change;if(this._index=e,this.contextKeyService.createKey("originalResourceScheme",this.model.changes[e].uri.scheme),this.updateActions(),this._provider=r.label,this.change=s,!this.model.original)return;f.Event.once(this.diffEditor.onDidUpdateDiff)(()=>setTimeout(()=>this.revealChange(s),0));let a=this.model.getDiffEditorModel(r.uri.toString());if(!a)return;this.diffEditor.setModel(a),this.dropdown?.setSelection(r.label);let l=new R.Position(eC(s),1),d=this.editor.getOption(O.EditorOption.lineHeight),c=Math.floor(this.editor.getLayoutInfo().height/d),u=Math.min((i=s.modifiedEndLineNumber-s.modifiedStartLineNumber+1,o=s.originalEndLineNumber-s.originalStartLineNumber+1,(0===s.originalEndLineNumber?i:0===s.modifiedEndLineNumber?o:i+o)+8),Math.floor(c/3));this.renderTitle(r.label);let h=eS(s),p=function(e,t){switch(t){case n.Modify:return e.getColor(eT);case n.Add:return e.getColor(eR);case n.Delete:return e.getColor(eN)}}(this.themeService.getColorTheme(),h);this.style({frameColor:p,arrowColor:p});let g=[],m=e;for(let e of this.model.changes)e.label===this.model.changes[this._index].label&&(g.push(e.change),r===e&&(m=g.length-1));this._actionbarWidget.context=[a.modified.uri,g,m],t&&(this.show(l,u),this.editor.setPosition(l),this.editor.focus())}renderTitle(e){let t,i=this.model.mapChanges.get(e),o=i.indexOf(this._index);this.shouldUseDropdown()?(t=this.model.changes.length>1?(0,g.localize)(8431,"{0} of {1} changes",o+1,i.length):(0,g.localize)(8432,"{0} of {1} change",o+1,i.length),this.dropdownContainer.style.display="inherit"):(t=this.model.changes.length>1?(0,g.localize)(8429,"{0} - {1} of {2} changes",e,o+1,i.length):(0,g.localize)(8430,"{0} - {1} of {2} change",e,o+1,i.length),this.dropdownContainer.style.display="none"),this.setTitle(this.title,t)}switchQuickDiff(e){let t=e?.provider;if(t===this.model.changes[this._index].label)return;let i=this._index<this.model.changes.length-1?this._index+1:0;for(let e=i;e!==this._index;e<this.model.changes.length-1?e++:e=0)if(this.model.changes[e].label===t){i=e;break}let o=this._index>0?this._index-1:this.model.changes.length-1;for(let e=o;e!==this._index;e>=0?e--:e=this.model.changes.length-1)if(this.model.changes[e].label===t){o=e;break}let n=Math.abs(this.model.changes[i].change.modifiedEndLineNumber-this.model.changes[this._index].change.modifiedEndLineNumber)<Math.abs(this.model.changes[o].change.modifiedEndLineNumber-this.model.changes[this._index].change.modifiedEndLineNumber)?i:o;this.showChange(n,!1)}shouldUseDropdown(){let e=0;if(this.model.mapChanges.size>1){let t=Array.from(this.model.mapChanges.keys());for(let i=0;i<t.length&&e<=1;i++)this.model.mapChanges.get(t[i]).length>0&&e++}return e>=2}updateActions(){if(!this._actionbarWidget)return;let e=this.instantiationService.createInstance(eb,this.editor,new eI(this.editor),X.ThemeIcon.asClassName(Y.gotoPreviousLocation)),t=this.instantiationService.createInstance(eb,this.editor,new ex(this.editor),X.ThemeIcon.asClassName(Y.gotoNextLocation));this._disposables.add(e),this._disposables.add(t),this.menu&&this.menu.dispose(),this.menu=this.menuService.createMenu(z.MenuId.SCMChangeContext,this.contextKeyService);let i=(0,B.getFlatActionBarActions)(this.menu.getActions({shouldForwardArgs:!0}));this._actionbarWidget.clear(),this._actionbarWidget.push(i.reverse(),{label:!1,icon:!0}),this._actionbarWidget.push([t,e],{label:!1,icon:!0}),this._actionbarWidget.push(new F.Action("peekview.close",(0,g.localize)(8433,"Close"),X.ThemeIcon.asClassName(Z.Codicon.close),!0,()=>this.dispose()),{label:!1,icon:!0})}_fillHead(e){super._fillHead(e,!0),this.dropdownContainer=(0,q.prepend)(this._titleElement,(0,q.$)(".dropdown")),this.dropdown=this.instantiationService.createInstance(eh,new ep(e=>this.switchQuickDiff(e)),this.model.quickDiffs.map(e=>e.label),this.model.changes[this._index].label),this.dropdown.render(this.dropdownContainer),this.updateActions()}_getActionBarOptions(){let e=new ey;return e.onDidRun(e=>{e.action instanceof eb||e.error||this.dispose()}),{...super._getActionBarOptions(),actionRunner:e}}_fillBody(e){this.diffEditor=this.instantiationService.createInstance(p,e,{scrollBeyondLastLine:!0,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1},renderSideBySide:!1,readOnly:!1,renderIndicators:!1,diffAlgorithm:"advanced",ignoreTrimWhitespace:!1,stickyScroll:{enabled:!1}},{},this.editor),this._disposables.add(this.diffEditor)}_onWidth(e){void 0!==this.height&&this.diffEditor.layout({height:this.height,width:e})}_doLayoutBody(e,t){super._doLayoutBody(e,t),this.diffEditor.layout({height:e,width:t}),void 0===this.height&&this.change&&this.revealChange(this.change),this.height=e}revealChange(e){let t,i;0===e.modifiedEndLineNumber?(t=e.modifiedStartLineNumber,i=e.modifiedStartLineNumber+1):e.originalEndLineNumber>0?(t=e.modifiedStartLineNumber-1,i=e.modifiedEndLineNumber+1):(t=e.modifiedStartLineNumber,i=e.modifiedEndLineNumber),this.diffEditor.revealLinesInCenter(t,i,H.ScrollType.Immediate)}_applyTheme(e){let t=e.getColor(A.peekViewBorder)||ei.Color.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(A.peekViewTitleBackground)||ei.Color.transparent,primaryHeadingColor:e.getColor(A.peekViewTitleForeground),secondaryHeadingColor:e.getColor(A.peekViewTitleInfoForeground)})}revealRange(e){this.editor.revealLineInCenterIfOutsideViewport(e.endLineNumber,H.ScrollType.Smooth)}hasFocus(){return this.diffEditor.hasTextFocus()}dispose(){super.dispose(),this.menu?.dispose()}};eE=(0,r.__decorate)([(0,r.__param)(2,E.IThemeService),(0,r.__param)(3,u.IInstantiationService),(0,r.__param)(4,V.IMenuService),(0,r.__param)(5,c.IContextKeyService)],eE);class eI extends k.EditorAction{constructor(e){super({id:"editor.action.dirtydiff.previous",label:(0,g.localize2)(8434,"Show Previous Change"),precondition:ee.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:T.KeyMod.Shift|T.KeyMod.Alt|T.KeyCode.F3,weight:P.KeybindingWeight.EditorContrib}}),this.outerEditor=e}run(e){let t=this.outerEditor??ew(e);if(!t)return;let i=eL.get(t);!i||i.canNavigate()&&i.previous()}}(0,k.registerEditorAction)(eI);class ex extends k.EditorAction{constructor(e){super({id:"editor.action.dirtydiff.next",label:(0,g.localize2)(8435,"Show Next Change"),precondition:ee.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:T.KeyMod.Alt|T.KeyCode.F3,weight:P.KeybindingWeight.EditorContrib}}),this.outerEditor=e}run(e){let t=this.outerEditor??ew(e);if(!t)return;let i=eL.get(t);!i||i.canNavigate()&&i.next()}}(0,k.registerEditorAction)(ex),z.MenuRegistry.appendMenuItem(z.MenuId.MenubarGoMenu,{group:"7_change_nav",command:{id:"editor.action.dirtydiff.next",title:(0,g.localize)(8436,"Next &&Change")},order:1}),z.MenuRegistry.appendMenuItem(z.MenuId.MenubarGoMenu,{group:"7_change_nav",command:{id:"editor.action.dirtydiff.previous",title:(0,g.localize)(8437,"Previous &&Change")},order:2});class eD extends k.EditorAction{constructor(){super({id:"workbench.action.editor.previousChange",label:(0,g.localize2)(8438,"Go to Previous Change"),precondition:ee.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:T.KeyMod.Shift|T.KeyMod.Alt|T.KeyCode.F5,weight:P.KeybindingWeight.EditorContrib}})}async run(e){let t=ew(e),i=e.get(d.IAccessibilitySignalService),o=e.get(es.IAccessibilityService),n=e.get(a.ICodeEditorService);if(!t||!t.hasModel())return;let r=eL.get(t);if(!r||!r.modelRegistry)return;let s=t.getPosition().lineNumber,l=r.modelRegistry.getModel(t.getModel(),t);if(!l||0===l.changes.length)return;let c=l.findPreviousClosestChange(s,!1),u=l.changes[c];await eM(u.change,i),eA(u.change,t,o,n)}}(0,k.registerEditorAction)(eD);class ek extends k.EditorAction{constructor(){super({id:"workbench.action.editor.nextChange",label:(0,g.localize2)(8439,"Go to Next Change"),precondition:ee.TextCompareEditorActiveContext.toNegated(),kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:T.KeyMod.Alt|T.KeyCode.F5,weight:P.KeybindingWeight.EditorContrib}})}async run(e){let t=e.get(d.IAccessibilitySignalService),i=ew(e),o=e.get(es.IAccessibilityService),n=e.get(a.ICodeEditorService);if(!i||!i.hasModel())return;let r=eL.get(i);if(!r||!r.modelRegistry)return;let s=i.getPosition().lineNumber,l=r.modelRegistry.getModel(i.getModel(),i);if(!l||0===l.changes.length)return;let c=l.findNextClosestChange(s,!1),u=l.changes[c].change;await eM(u,t),eA(u,i,o,n)}}function eA(e,t,i,o){let n=new R.Position(e.modifiedStartLineNumber,1);t.setPosition(n),t.revealPositionInCenter(n),i.isScreenReaderOptimized()&&(t.setSelection({startLineNumber:e.modifiedStartLineNumber,startColumn:0,endLineNumber:e.modifiedStartLineNumber,endColumn:Number.MAX_VALUE}),o.getActiveCodeEditor()?.writeScreenReaderContent("diff-navigation"))}async function eM(e,t){switch(eS(e)){case n.Add:t.playSignal(er.AccessibilitySignal.diffLineInserted,{allowManyInParallel:!0,source:"dirtyDiffDecoration"});break;case n.Delete:t.playSignal(er.AccessibilitySignal.diffLineDeleted,{allowManyInParallel:!0,source:"dirtyDiffDecoration"});break;case n.Modify:t.playSignal(er.AccessibilitySignal.diffLineModified,{allowManyInParallel:!0,source:"dirtyDiffDecoration"})}}(0,k.registerEditorAction)(ek),P.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeDirtyDiff",weight:P.KeybindingWeight.EditorContrib+50,primary:T.KeyCode.Escape,secondary:[T.KeyMod.Shift|T.KeyCode.Escape],when:M.ContextKeyExpr.and(ev),handler:e=>{let t=ew(e);if(!t)return;let i=eL.get(t);i&&i.close()}});let eL=class extends _.Disposable{static{i=this}static{this.ID="editor.contrib.dirtydiff"}static get(e){return e.getContribution(i.ID)}constructor(e,t,i,o){if(super(),this.editor=e,this.configurationService=i,this.instantiationService=o,this.modelRegistry=null,this.model=null,this.widget=null,this.session=_.Disposable.None,this.mouseDownInfo=null,this.enabled=!1,this.gutterActionDisposables=new _.DisposableStore,this.enabled=!t.getContextKeyValue("isInDiffEditor"),this.stylesheet=(0,$.createStyleSheet)(void 0,void 0,this._store),this.enabled){this.isDirtyDiffVisible=ev.bindTo(t),this._register(e.onDidChangeModel(()=>this.close()));const o=f.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsGutterAction"));this._register(o(this.onDidChangeGutterAction,this)),this.onDidChangeGutterAction()}}onDidChangeGutterAction(){let e=this.configurationService.getValue("scm.diffDecorationsGutterAction");this.gutterActionDisposables.clear(),"diff"===e?(this.gutterActionDisposables.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.gutterActionDisposables.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.stylesheet.textContent=`
				.monaco-editor .dirty-diff-glyph {
					cursor: pointer;
				}

				.monaco-editor .margin-view-overlays .dirty-diff-glyph:hover::before {
					height: 100%;
					width: 6px;
					left: -6px;
				}

				.monaco-editor .margin-view-overlays .dirty-diff-deleted:hover::after {
					bottom: 0;
					border-top-width: 0;
					border-bottom-width: 0;
				}
			`):this.stylesheet.textContent=""}canNavigate(){return!this.widget||this.widget?.index===-1||!!this.model&&this.model.changes.length>1}refresh(){this.widget?.showChange(this.widget.index,!1)}next(e){let t;if(this.assertWidget()&&this.widget&&this.model){if(this.editor.hasModel()&&("number"==typeof e||!this.widget.provider))t=this.model.findNextClosestChange("number"==typeof e?e:this.editor.getPosition().lineNumber,!0,this.widget.provider);else{let e=this.model.mapChanges.get(this.widget.provider)??this.model.mapChanges.values().next().value,i=e.findIndex(e=>e===this.widget.index);t=e[(0,N.rot)(i+1,e.length)]}this.widget.showChange(t)}}previous(e){let t;if(this.assertWidget()&&this.widget&&this.model){if(this.editor.hasModel()&&"number"==typeof e)t=this.model.findPreviousClosestChange("number"==typeof e?e:this.editor.getPosition().lineNumber,!0,this.widget.provider);else{let e=this.model.mapChanges.get(this.widget.provider)??this.model.mapChanges.values().next().value,i=e.findIndex(e=>e===this.widget.index);t=e[(0,N.rot)(i-1,e.length)]}this.widget.showChange(t)}}close(){this.session.dispose(),this.session=_.Disposable.None}assertWidget(){if(!this.enabled)return!1;if(this.widget)return!!this.model&&0!==this.model.changes.length||(this.close(),!1);if(!this.modelRegistry)return!1;let e=this.editor.getModel();if(!e)return!1;let t=this.modelRegistry.getModel(e,this.editor);if(!t||0===t.changes.length)return!1;this.model=t,this.widget=this.instantiationService.createInstance(eE,this.editor,t),this.isDirtyDiffVisible.set(!0);let i=new _.DisposableStore;return i.add(f.Event.once(this.widget.onDidClose)(this.close,this)),f.Event.chain(t.onDidChange,e=>e.filter(e=>e.diff.length>0).map(e=>e.diff))(this.onDidModelChange,this,i),i.add(this.widget),i.add((0,_.toDisposable)(()=>{this.model=null,this.widget=null,this.isDirtyDiffVisible.set(!1),this.editor.focus()})),this.session=i,!0}onDidModelChange(e){if(!(!this.model||!this.widget||this.widget.hasFocus())){for(let t of e)if(t.start<=this.widget.index)return void this.next();this.refresh()}}onEditorMouseDown(e){this.mouseDownInfo=null;let t=e.target.range;if(!t||!e.event.leftButton||e.target.type!==D.MouseTargetType.GUTTER_LINE_DECORATIONS||!e.target.element||0>e.target.element.className.indexOf("dirty-diff-glyph"))return;let i=e.target.detail,o=e.target.element.offsetLeft,n=i.offsetX-o;n<-3||n>3||(this.mouseDownInfo={lineNumber:t.startLineNumber})}onEditorMouseUp(e){if(!this.mouseDownInfo)return;let{lineNumber:t}=this.mouseDownInfo;this.mouseDownInfo=null;let i=e.target.range;if(!i||i.startLineNumber!==t||e.target.type!==D.MouseTargetType.GUTTER_LINE_DECORATIONS||!this.modelRegistry)return;let o=this.editor.getModel();if(!o)return;let n=this.modelRegistry.getModel(o,this.editor);if(!n)return;let r=n.changes.findIndex(e=>{var i;return i=e.change,1===t&&0===i.modifiedStartLineNumber&&0===i.modifiedEndLineNumber||t>=i.modifiedStartLineNumber&&t<=(i.modifiedEndLineNumber||i.modifiedStartLineNumber)});r<0||(r===this.widget?.index?this.close():this.next(t))}getChanges(){if(!this.modelRegistry||!this.editor.hasModel())return[];let e=this.modelRegistry.getModel(this.editor.getModel(),this.editor);return e?e.changes.map(e=>e.change):[]}dispose(){this.gutterActionDisposables.dispose(),super.dispose()}};eL=i=(0,r.__decorate)([(0,r.__param)(1,c.IContextKeyService),(0,r.__param)(2,C.IConfigurationService),(0,r.__param)(3,u.IInstantiationService)],eL);let eT=(0,I.registerColor)("editorGutter.modifiedBackground",{dark:"#1B81A8",light:"#2090D3",hcDark:"#1B81A8",hcLight:"#2090D3"},(0,g.localize)(8440,"Editor gutter background color for lines that are modified.")),eR=(0,I.registerColor)("editorGutter.addedBackground",{dark:"#487E02",light:"#48985D",hcDark:"#487E02",hcLight:"#48985D"},(0,g.localize)(8441,"Editor gutter background color for lines that are added.")),eN=(0,I.registerColor)("editorGutter.deletedBackground",x.editorErrorForeground,(0,g.localize)(8442,"Editor gutter background color for lines that are deleted.")),eP=(0,I.registerColor)("minimapGutter.modifiedBackground",eT,(0,g.localize)(8443,"Minimap gutter background color for lines that are modified.")),eO=(0,I.registerColor)("minimapGutter.addedBackground",eR,(0,g.localize)(8444,"Minimap gutter background color for lines that are added.")),eF=(0,I.registerColor)("minimapGutter.deletedBackground",eN,(0,g.localize)(8445,"Minimap gutter background color for lines that are deleted.")),eK=(0,I.registerColor)("editorOverviewRuler.modifiedForeground",(0,I.transparent)(eT,.6),(0,g.localize)(8446,"Overview ruler marker color for modified content.")),eW=(0,I.registerColor)("editorOverviewRuler.addedForeground",(0,I.transparent)(eR,.6),(0,g.localize)(8447,"Overview ruler marker color for added content.")),ez=(0,I.registerColor)("editorOverviewRuler.deletedForeground",(0,I.transparent)(eN,.6),(0,g.localize)(8448,"Overview ruler marker color for deleted content.")),eV=o=class extends _.Disposable{static createDecoration(e,t,i){let o={description:"dirty-diff-decoration",isWholeLine:i.isWholeLine};return i.gutter&&(o.linesDecorationsClassName=`dirty-diff-glyph ${e}`,o.linesDecorationsTooltip=t),i.overview.active&&(o.overviewRuler={color:(0,w.themeColorFromId)(i.overview.color),position:U.OverviewRulerLane.Left}),i.minimap.active&&(o.minimap={color:(0,w.themeColorFromId)(i.minimap.color),position:U.MinimapPosition.Gutter}),S.ModelDecorationOptions.createDynamic(o)}constructor(e,t,i,n){super(),this.codeEditor=t,this.model=i,this.configurationService=n,this.editorModel=e;const r=n.getValue("scm.diffDecorations"),s="all"===r||"gutter"===r,a="all"===r||"overview"===r,l="all"===r||"minimap"===r,d=(0,g.localize)(8449,"Added lines");this.addedOptions=o.createDecoration("dirty-diff-added",d,{gutter:s,overview:{active:a,color:eW},minimap:{active:l,color:eO},isWholeLine:!0}),this.addedPatternOptions=o.createDecoration("dirty-diff-added-pattern",d,{gutter:s,overview:{active:a,color:eW},minimap:{active:l,color:eO},isWholeLine:!0});const c=(0,g.localize)(8450,"Changed lines");this.modifiedOptions=o.createDecoration("dirty-diff-modified",c,{gutter:s,overview:{active:a,color:eK},minimap:{active:l,color:eP},isWholeLine:!0}),this.modifiedPatternOptions=o.createDecoration("dirty-diff-modified-pattern",c,{gutter:s,overview:{active:a,color:eK},minimap:{active:l,color:eP},isWholeLine:!0}),this.deletedOptions=o.createDecoration("dirty-diff-deleted",(0,g.localize)(8451,"Removed lines"),{gutter:s,overview:{active:a,color:ez},minimap:{active:l,color:eF},isWholeLine:!1}),this._register(n.onDidChangeConfiguration(e=>{e.affectsConfiguration("scm.diffDecorationsGutterPattern")&&this.onDidChange()})),this._register(i.onDidChange(this.onDidChange,this))}onDidChange(){if(!this.editorModel)return;let e=this.model.quickDiffs.filter(e=>e.visible),t=this.configurationService.getValue("scm.diffDecorationsGutterPattern"),i=this.model.changes.filter(t=>e.some(e=>e.label===t.label)).map(e=>{let i=e.change,o=eS(i),r=i.modifiedStartLineNumber,s=i.modifiedEndLineNumber||r;switch(o){case n.Add:return{range:{startLineNumber:r,startColumn:1,endLineNumber:s,endColumn:1},options:t.added?this.addedPatternOptions:this.addedOptions};case n.Delete:return{range:{startLineNumber:r,startColumn:Number.MAX_VALUE,endLineNumber:r,endColumn:Number.MAX_VALUE},options:this.deletedOptions};case n.Modify:return{range:{startLineNumber:r,startColumn:1,endLineNumber:s,endColumn:1},options:t.modified?this.modifiedPatternOptions:this.modifiedOptions}}});this.decorationsCollection?this.decorationsCollection.set(i):this.decorationsCollection=this.codeEditor.createDecorationsCollection(i)}dispose(){super.dispose(),this.decorationsCollection&&this.decorationsCollection?.clear(),this.editorModel=null,this.decorationsCollection=void 0}};function eB(e,t){let i=e.modifiedStartLineNumber-t.modifiedStartLineNumber;return 0!==i||0!=(i=e.modifiedEndLineNumber-t.modifiedEndLineNumber)||0!=(i=e.originalStartLineNumber-t.originalStartLineNumber)?i:e.originalEndLineNumber-t.originalEndLineNumber}async function eH(e,t,i,o){let n=await e.getQuickDiffs(t,i,o);return n.length>0?n[0].originalResource:null}eV=o=(0,r.__decorate)([(0,r.__param)(3,C.IConfigurationService)],eV);let eU=class extends _.Disposable{get original(){return this._originalTextModels}get changes(){return this._changes}get mapChanges(){return this._mapChanges}constructor(e,t,i,o,n,r,s,a,l){for(const d of(super(),this.algorithm=t,this.scmService=i,this.quickDiffService=o,this.editorWorkerService=n,this.configurationService=r,this.textModelResolverService=s,this._chatEditingService=a,this.progressService=l,this._quickDiffs=[],this._originalModels=new Map,this._originalTextModels=[],this.diffDelayer=new m.ThrottledDelayer(200),this.repositoryDisposables=new Set,this.originalModelDisposables=this._register(new _.DisposableStore),this._disposed=!1,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._changes=[],this._mapChanges=new Map,this._model=e,this._register(e.textEditorModel.onDidChangeContent(()=>this.triggerDiff())),this._register(f.Event.filter(r.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsIgnoreTrimWhitespace")||e.affectsConfiguration("diffEditor.ignoreTrimWhitespace"))(this.triggerDiff,this)),this._register(i.onDidAddRepository(this.onDidAddRepository,this)),i.repositories))this.onDidAddRepository(d);this._register(this._model.onDidChangeEncoding(()=>{this.diffDelayer.cancel(),this._quickDiffs=[],this._originalModels.clear(),this._originalTextModels=[],this._quickDiffsPromise=void 0,this.setChanges([],new Map),this.triggerDiff()})),this._register(this.quickDiffService.onDidChangeQuickDiffProviders(()=>this.triggerDiff())),this._register(this._chatEditingService.onDidChangeEditingSession(()=>this.triggerDiff())),this.triggerDiff()}get quickDiffs(){return this._quickDiffs}getQuickDiffResults(){return this._quickDiffs.map(e=>{let t=this._changes.filter(t=>t.label===e.label).map(e=>e.change),i=(0,e_.lineRangeMappingFromChanges)(t);return{original:e.originalResource,modified:this._model.resource,changes:i}})}getDiffEditorModel(e){if(!this._originalModels.has(e))return;let t=this._originalModels.get(e);return{modified:this._model.textEditorModel,original:t.textEditorModel}}onDidAddRepository(e){let t=new _.DisposableStore;this.repositoryDisposables.add(t),t.add((0,_.toDisposable)(()=>this.repositoryDisposables.delete(t))),t.add(e.provider.onDidChangeResources(this.triggerDiff,this));let i=f.Event.filter(this.scmService.onDidRemoveRepository,t=>t===e);t.add(i(()=>(0,_.dispose)(t),null)),this.triggerDiff()}triggerDiff(){this.diffDelayer&&this.diffDelayer.trigger(async()=>{let e=await this.diff(),t=Array.from(this._originalModels.values());!e||this._disposed||this._model.isDisposed()||t.some(e=>e.isDisposed())||(t.every(e=>0===e.textEditorModel.getValueLength())&&(e.changes=[]),e.changes||(e.changes=[]),this.setChanges(e.changes,e.mapChanges))}).catch(e=>(0,J.onUnexpectedError)(e))}setChanges(e,t){let i=(0,G.sortedDiff)(this._changes,e,(e,t)=>eB(e.change,t.change));this._changes=e,this._mapChanges=t,this._onDidChange.fire({changes:e,diff:i})}diff(){return this.progressService.withProgress({location:et.ProgressLocation.Scm,delay:250},async()=>{let e=await this.getQuickDiffsPromise();if(this._disposed||this._model.isDisposed()||0===e.length)return Promise.resolve({changes:[],mapChanges:new Map});let t=e.filter(e=>this.editorWorkerService.canComputeDirtyDiff(e.originalResource,this._model.resource));if(0===t.length)return Promise.resolve({changes:[],mapChanges:new Map});let i=this.configurationService.getValue("scm.diffDecorationsIgnoreTrimWhitespace"),o="inherit"===i?this.configurationService.getValue("diffEditor.ignoreTrimWhitespace"):"false"!==i,n=[];for(let e of t){let t=await this._diff(e.originalResource,this._model.resource,o);if(t)for(let i of t)i&&n.push({change:i,label:e.label,uri:e.originalResource})}let r=n.sort((e,t)=>eB(e.change,t.change)),s=new Map;for(let e=0;e<r.length;e++){let t=r[e].label;s.has(t)||s.set(t,[]),s.get(t).push(e)}return{changes:r,mapChanges:s}})}async _diff(e,t,i){if(void 0===this.algorithm)return this.editorWorkerService.computeDirtyDiff(e,t,i);let o=await this.editorWorkerService.computeDiff(e,t,{computeMoves:!1,ignoreTrimWhitespace:i,maxComputationTimeMs:Number.MAX_SAFE_INTEGER},this.algorithm);return o?(0,l.toLineChanges)(ef.DiffState.fromDiffResult(o)):null}getQuickDiffsPromise(){return this._quickDiffsPromise?this._quickDiffsPromise:(this._quickDiffsPromise=this.getOriginalResource().then(async e=>this._disposed?[]:0===e.length?(this._quickDiffs=[],this._originalModels.clear(),this._originalTextModels=[],[]):(0,G.equals)(this._quickDiffs,e,(e,t)=>e.originalResource.toString()===t.originalResource.toString()&&e.label===t.label)?e:(this.originalModelDisposables.clear(),this._originalModels.clear(),this._originalTextModels=[],this._quickDiffs=e,(await Promise.all(e.map(async e=>{try{let t=await this.textModelResolverService.createModelReference(e.originalResource);if(this._disposed)return t.dispose(),[];if(this._originalModels.set(e.originalResource.toString(),t.object),this._originalTextModels.push(t.object.textEditorModel),(0,j.isTextFileEditorModel)(t.object)){let e=this._model.getEncoding();e&&t.object.setEncoding(e,j.EncodingMode.Decode)}return this.originalModelDisposables.add(t),this.originalModelDisposables.add(t.object.textEditorModel.onDidChangeContent(()=>this.triggerDiff())),e}catch(e){return[]}}))).flat())),this._quickDiffsPromise.finally(()=>{this._quickDiffsPromise=void 0}))}async getOriginalResource(){if(this._disposed)return Promise.resolve([]);let e=this._model.resource,t=this._chatEditingService.currentEditingSession;if(t&&t.getEntry(e)?.state.get()===eg.WorkingSetEntryState.Modified)return Promise.resolve([]);let i=this._model.textEditorModel?(0,U.shouldSynchronizeModel)(this._model.textEditorModel):void 0,o=await this.quickDiffService.getQuickDiffs(e,this._model.getLanguageId(),i);return void 0!==this.algorithm?o.filter(e=>!e.isSCM):o}findNextClosestChange(e,t=!0,i){let o;!i&&t&&(o=this.quickDiffs.find(e=>e.isSCM)?.label);let n=[];for(let r=0;r<this.changes.length;r++){if(i&&this.changes[r].label!==i)continue;let s=this.changes[r],a=n.length;if(t){if(eC(s.change)>=e)if(!o||s.label===o)return r;else n.push(r)}else if(s.change.modifiedStartLineNumber>e)return r;if(n.length>0&&n.length===a)return n[0]}return n.length>0?n[0]:0}findPreviousClosestChange(e,t=!0,i){for(let o=this.changes.length-1;o>=0;o--){if(i&&this.changes[o].label!==i)continue;let n=this.changes[o].change;if(t){if(n.modifiedStartLineNumber<=e)return o}else if(eC(n)<e)return o}return this.changes.length-1}dispose(){super.dispose(),this._disposed=!0,this._quickDiffs=[],this._originalModels.clear(),this._originalTextModels=[],this.diffDelayer.cancel(),this.repositoryDisposables.forEach(e=>(0,_.dispose)(e)),this.repositoryDisposables.clear()}};eU=(0,r.__decorate)([(0,r.__param)(2,b.ISCMService),(0,r.__param)(3,ea.IQuickDiffService),(0,r.__param)(4,v.IEditorWorkerService),(0,r.__param)(5,C.IConfigurationService),(0,r.__param)(6,y.ITextModelService),(0,r.__param)(7,em.IChatEditingService),(0,r.__param)(8,h.IProgressService)],eU);class eG{constructor(e,t){this.model=e,this.decorator=t}dispose(){this.decorator.dispose(),this.model.dispose()}}let eq=class extends _.Disposable{constructor(e,t,i,o){super(),this.editorService=e,this.instantiationService=t,this.configurationService=i,this.textFileService=o,this.enabled=!1,this.viewState={width:3,visibility:"always"},this.items=new eo.ResourceMap,this.transientDisposables=this._register(new _.DisposableStore),this.stylesheet=(0,$.createStyleSheet)(void 0,void 0,this._store);const n=f.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorations"));this._register(n(this.onDidChangeConfiguration,this)),this.onDidChangeConfiguration();const r=f.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsGutterWidth"));this._register(r(this.onDidChangeDiffWidthConfiguration,this)),this.onDidChangeDiffWidthConfiguration();const s=f.Event.filter(i.onDidChangeConfiguration,e=>e.affectsConfiguration("scm.diffDecorationsGutterVisibility"));this._register(s(this.onDidChangeDiffVisibilityConfiguration,this)),this.onDidChangeDiffVisibilityConfiguration()}onDidChangeConfiguration(){"none"!==this.configurationService.getValue("scm.diffDecorations")?this.enable():this.disable()}onDidChangeDiffWidthConfiguration(){let e=this.configurationService.getValue("scm.diffDecorationsGutterWidth");(isNaN(e)||e<=0||e>5)&&(e=3),this.setViewState({...this.viewState,width:e})}onDidChangeDiffVisibilityConfiguration(){let e=this.configurationService.getValue("scm.diffDecorationsGutterVisibility");this.setViewState({...this.viewState,visibility:e})}setViewState(e){this.viewState=e,this.stylesheet.textContent=`
			.monaco-editor .dirty-diff-added,
			.monaco-editor .dirty-diff-modified {
				border-left-width:${e.width}px;
			}
			.monaco-editor .dirty-diff-added-pattern,
			.monaco-editor .dirty-diff-added-pattern:before,
			.monaco-editor .dirty-diff-modified-pattern,
			.monaco-editor .dirty-diff-modified-pattern:before {
				background-size: ${e.width}px ${e.width}px;
			}
			.monaco-editor .dirty-diff-added,
			.monaco-editor .dirty-diff-added-pattern,
			.monaco-editor .dirty-diff-modified,
			.monaco-editor .dirty-diff-modified-pattern,
			.monaco-editor .dirty-diff-deleted {
				opacity: ${+("always"===e.visibility)};
			}
		`}enable(){this.enabled&&this.disable(),this.transientDisposables.add(f.Event.any(this.editorService.onDidCloseEditor,this.editorService.onDidVisibleEditorsChange)(()=>this.onEditorsChanged())),this.onEditorsChanged(),this.enabled=!0}disable(){if(this.enabled){for(let[,e]of(this.transientDisposables.clear(),this.items))(0,_.dispose)(e.values());this.items.clear(),this.enabled=!1}}onEditorsChanged(){for(let e of this.editorService.visibleTextEditorControls)if((0,D.isCodeEditor)(e)){let t=e.getModel(),i=eL.get(e);if(i&&(i.modelRegistry=this),t&&(!this.items.has(t.uri)||!this.items.get(t.uri).has(e.getId()))){let i=this.textFileService.files.get(t.uri);if(i?.isResolved()){let o=this.instantiationService.createInstance(eU,i,void 0),n=new eV(i.textEditorModel,e,o,this.configurationService);this.items.has(t.uri)||this.items.set(t.uri,new Map),this.items.get(t.uri)?.set(e.getId(),new eG(o,n))}}}for(let[e,t]of this.items)for(let i of t.keys())if(!this.editorService.visibleTextEditorControls.find(t=>(0,D.isCodeEditor)(t)&&t.getModel()?.uri.toString()===e.toString()&&t.getId()===i)&&t.has(i)){let o=t.get(i);o?.dispose(),t.delete(i),0===t.size&&this.items.delete(e)}}getModel(e,t){return this.items.get(e.uri)?.get(t.getId())?.model}dispose(){this.disable(),super.dispose()}};eq=(0,r.__decorate)([(0,r.__param)(0,en.IEditorService),(0,r.__param)(1,u.IInstantiationService),(0,r.__param)(2,C.IConfigurationService),(0,r.__param)(3,Q.ITextFileService)],eq),(0,k.registerEditorContribution)(eL.ID,eL,k.EditorContributionInstantiation.AfterFirstRender),e.s(["getOriginalResource",()=>eH,"minimapGutterAddedBackground",()=>eO,"minimapGutterDeletedBackground",()=>eF,"minimapGutterModifiedBackground",()=>eP,"overviewRulerAddedForeground",()=>eW,"overviewRulerDeletedForeground",()=>ez,"overviewRulerModifiedForeground",()=>eK],338882);var e$=e.i(6423),ej=_,eQ=k,eY=e.i(312582);let eZ="transientWordWrapState",eX="isWordWrapMinified",eJ="isDominatedByLongLines",e0=new M.RawContextKey("canToggleWordWrap",!1,!0),e1=new M.RawContextKey("editorWordWrap",!1,(0,g.localize)(4737,"Whether the editor is currently using word wrapping."));function e2(e,t,i){i.setTransientModelProperty(e,eZ,t)}function e3(e,t){return t.getTransientModelProperty(e,eZ)}let e5="editor.action.toggleWordWrap";class e4 extends eQ.EditorAction{constructor(){super({id:e5,label:(0,g.localize2)(4738,"View: Toggle Word Wrap"),precondition:void 0,kbOpts:{kbExpr:null,primary:T.KeyMod.Alt|T.KeyCode.KeyZ,weight:P.KeybindingWeight.EditorContrib}})}run(e,t){let i,o=e.get(a.ICodeEditorService);if(!e9(o,t))return;let n=t.getModel();i=e3(n,o)?null:{wordWrapOverride:-1===t.getOption(O.EditorOption.wrappingInfo).wrappingColumn?"on":"off"},e2(n,i,o);let r=function(e,t){if(!e.getOption(O.EditorOption.inDiffEditor))return null;for(let i of t.listDiffEditors()){let t=i.getOriginalEditor(),o=i.getModifiedEditor();if(t===e||o===e)return i}return null}(t,o);if(r){let e=r.getOriginalEditor(),n=r.getModifiedEditor(),s=e===t?n:e;e9(o,s)&&(e2(s.getModel(),i,o),r.updateOptions({}))}}}let e6=class extends ej.Disposable{static{this.ID="editor.contrib.toggleWordWrapController"}constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._codeEditorService=i;const o=this._editor.getOptions().get(O.EditorOption.wrappingInfo),n=this._contextKeyService.createKey(eX,o.isWordWrapMinified),r=this._contextKeyService.createKey(eJ,o.isDominatedByLongLines);let s=!1;this._register(e.onDidChangeConfiguration(e=>{if(!e.hasChanged(O.EditorOption.wrappingInfo))return;let t=this._editor.getOptions().get(O.EditorOption.wrappingInfo);n.set(t.isWordWrapMinified),r.set(t.isDominatedByLongLines),s||a()})),this._register(e.onDidChangeModel(e=>{a()})),this._register(i.onDidChangeTransientModelProperty(()=>{a()}));const a=()=>{if(!e9(this._codeEditorService,this._editor))return;let e=e3(this._editor.getModel(),this._codeEditorService);try{s=!0,this._applyWordWrapState(e)}finally{s=!1}}}_applyWordWrapState(e){let t=e?e.wordWrapOverride:"inherit";this._editor.updateOptions({wordWrapOverride2:t})}};e6=(0,r.__decorate)([(0,r.__param)(1,c.IContextKeyService),(0,r.__param)(2,a.ICodeEditorService)],e6);let e8=class extends ej.Disposable{static{this.ID="diffeditor.contrib.toggleWordWrapController"}constructor(e,t){super(),this._diffEditor=e,this._codeEditorService=t,this._register(this._diffEditor.onDidChangeModel(()=>{this._ensureSyncedWordWrapToggle()}))}_ensureSyncedWordWrapToggle(){let e=this._diffEditor.getOriginalEditor(),t=this._diffEditor.getModifiedEditor();if(!e.hasModel()||!t.hasModel())return;let i=e3(e.getModel(),this._codeEditorService),o=e3(t.getModel(),this._codeEditorService);i&&!o&&e9(this._codeEditorService,e)&&(e2(t.getModel(),i,this._codeEditorService),this._diffEditor.updateOptions({})),!i&&o&&e9(this._codeEditorService,t)&&(e2(e.getModel(),o,this._codeEditorService),this._diffEditor.updateOptions({}))}};function e9(e,t){if(!t||t.isSimpleWidget||!t.getModel())return!1;if(t.getOption(O.EditorOption.inDiffEditor)){for(let i of e.listDiffEditors())if(i.getOriginalEditor()===t&&!i.renderSideBySide)return!1}return!0}e8=(0,r.__decorate)([(0,r.__param)(1,a.ICodeEditorService)],e8);let e7=class extends ej.Disposable{static{this.ID="workbench.contrib.editorWordWrapContextKeyTracker"}constructor(e,t,i){super(),this._editorService=e,this._codeEditorService=t,this._contextService=i,this._register(f.Event.runAndSubscribe(q.onDidRegisterWindow,({window:e,disposables:t})=>{t.add((0,q.addDisposableListener)(e,"focus",()=>this._update(),!0)),t.add((0,q.addDisposableListener)(e,"blur",()=>this._update(),!0))},{window:e$.mainWindow,disposables:this._store})),this._register(this._editorService.onDidActiveEditorChange(()=>this._update())),this._canToggleWordWrap=e0.bindTo(this._contextService),this._editorWordWrap=e1.bindTo(this._contextService),this._activeEditor=null,this._activeEditorListener=new ej.DisposableStore,this._update()}_update(){let e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();this._activeEditor!==e&&(this._activeEditorListener.clear(),this._activeEditor=e,e&&(this._activeEditorListener.add(e.onDidChangeModel(()=>this._updateFromCodeEditor())),this._activeEditorListener.add(e.onDidChangeConfiguration(e=>{e.hasChanged(O.EditorOption.wrappingInfo)&&this._updateFromCodeEditor()})),this._updateFromCodeEditor()))}_updateFromCodeEditor(){if(!e9(this._codeEditorService,this._activeEditor))return this._setValues(!1,!1);{let e=this._activeEditor.getOption(O.EditorOption.wrappingInfo);this._setValues(!0,-1!==e.wrappingColumn)}}_setValues(e,t){this._canToggleWordWrap.set(e),this._editorWordWrap.set(t)}};e7=(0,r.__decorate)([(0,r.__param)(0,en.IEditorService),(0,r.__param)(1,a.ICodeEditorService),(0,r.__param)(2,c.IContextKeyService)],e7),(0,eY.registerWorkbenchContribution2)(e7.ID,e7,eY.WorkbenchPhase.AfterRestored),(0,eQ.registerEditorContribution)(e6.ID,e6,eQ.EditorContributionInstantiation.Eager),(0,eQ.registerDiffEditorContribution)(e8.ID,e8),(0,eQ.registerEditorAction)(e4),z.MenuRegistry.appendMenuItem(z.MenuId.EditorTitle,{command:{id:e5,title:(0,g.localize)(4739,"Disable wrapping for this file"),icon:Z.Codicon.wordWrap},group:"navigation",order:1,when:M.ContextKeyExpr.and(M.ContextKeyExpr.has(eJ),M.ContextKeyExpr.has(eX))}),z.MenuRegistry.appendMenuItem(z.MenuId.EditorTitle,{command:{id:e5,title:(0,g.localize)(4740,"Enable wrapping for this file"),icon:Z.Codicon.wordWrap},group:"navigation",order:1,when:M.ContextKeyExpr.and(L.EditorContextKeys.inDiffEditor.negate(),M.ContextKeyExpr.has(eJ),M.ContextKeyExpr.not(eX))}),z.MenuRegistry.appendMenuItem(z.MenuId.MenubarViewMenu,{command:{id:e5,title:(0,g.localize)(4741,"&&Word Wrap"),toggled:e1,precondition:e0},order:1,group:"6_editor"}),e.s(["readTransientState",()=>e3,"writeTransientState",()=>e2],319219)},150132,262465,934767,816921,528045,328124,869177,272431,64918,853788,788722,251046,710249,405560,753725,779461,804810,906696,676101,364316,e=>{"use strict";var t,i,o,n=e.i(308165),r=e.i(383962),s=e.i(542073),a=e.i(678417),l=e.i(839435),d=e.i(436120),c=e.i(683146),u=e.i(569038),h=e.i(299665),p=e.i(628463),g=e.i(312582),m=e.i(693655);let _=s.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"jsonValidation",defaultExtensionKind:["workspace","web"],jsonSchema:{description:(0,r.localize)(2453,"Contributes json schema configuration."),type:"array",defaultSnippets:[{body:[{fileMatch:"${1:file.json}",url:"${2:url}"}]}],items:{type:"object",defaultSnippets:[{body:{fileMatch:"${1:file.json}",url:"${2:url}"}}],properties:{fileMatch:{type:["string","array"],description:(0,r.localize)(2454,'The file pattern (or an array of patterns) to match, for example "package.json" or "*.launch". Exclusion patterns start with \'!\''),items:{type:["string"]}},url:{description:(0,r.localize)(2455,"A schema URL ('http:', 'https:') or relative path to the extension folder ('./')."),type:"string"}}}}});class f{constructor(){_.setHandler(e=>{for(let t of e){let e=t.value,i=t.collector,o=t.description.extensionLocation;if(!e||!Array.isArray(e))return void i.error((0,r.localize)(2456,"'configuration.jsonValidation' must be a array"));e.forEach(e=>{if(!(0,l.isString)(e.fileMatch)&&!(Array.isArray(e.fileMatch)&&e.fileMatch.every(l.isString)))return void i.error((0,r.localize)(2457,"'configuration.jsonValidation.fileMatch' must be defined as a string or an array of strings."));let t=e.url;if(!(0,l.isString)(t))return void i.error((0,r.localize)(2458,"'configuration.jsonValidation.url' must be a URL or relative path"));if(t.startsWith("./"))try{let e=(0,a.joinPath)(o,t);(0,a.isEqualOrParent)(e,o)||i.warn((0,r.localize)(2459,"Expected `contributes.{0}.url` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",_.name,e.toString(),o.path))}catch(e){i.error((0,r.localize)(2460,"'configuration.jsonValidation.url' is an invalid relative URL: {0}",e.message))}else if(!/^[^:/?#]+:\/\//.test(t))return void i.error((0,r.localize)(2461,"'configuration.jsonValidation.url' must be an absolute URL or start with './'  to reference schemas located in the extension."))})}})}}class y extends d.Disposable{constructor(){super(...arguments),this.type="table"}shouldRender(e){return!!e.contributes?.jsonValidation}render(e){let t=e.contributes?.jsonValidation||[];return t.length?{data:{headers:[(0,r.localize)(2462,"File Match"),(0,r.localize)(2463,"Schema")],rows:t.map(e=>[new p.MarkdownString().appendMarkdown(`\`${Array.isArray(e.fileMatch)?e.fileMatch.join(", "):e.fileMatch}\``),e.url])},dispose:()=>{}}:{data:{headers:[],rows:[]},dispose:()=>{}}}}u.Registry.as(c.Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({id:"jsonValidation",label:(0,r.localize)(2464,"JSON Validation"),access:{canToggle:!1},renderer:new h.SyncDescriptor(y)});let v=class{static{this.ID="workbench.contrib.jsonValidationExtensionPoint"}constructor(e){this.instantiationService=e,this.instantiationService.createInstance(f)}};v=(0,n.__decorate)([(0,n.__param)(0,m.IInstantiationService)],v),(0,g.registerWorkbenchContribution2)(v.ID,v,g.WorkbenchPhase.BlockStartup),e.s([],150132);var C=e.i(945588);e.i(786480),e.i(184765),e.i(537397),e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var b=e.i(286230),S=d;let w=u.Registry.as(C.Extensions.ColorContribution),E=w.getColorReferenceSchema(),I="^\\w+[.\\w+]*$",x=s.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"colors",jsonSchema:{description:(0,r.localize)(11810,"Contributes extension defined themable colors"),type:"array",items:{type:"object",properties:{id:{type:"string",description:(0,r.localize)(11811,"The identifier of the themable color"),pattern:I,patternErrorMessage:(0,r.localize)(11812,"Identifiers must only contain letters, digits and dots and can not start with a dot")},description:{type:"string",description:(0,r.localize)(11813,"The description of the themable color")},defaults:{type:"object",properties:{light:{description:(0,r.localize)(11814,"The default color for light themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[E,{type:"string",format:"color-hex"}]},dark:{description:(0,r.localize)(11815,"The default color for dark themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[E,{type:"string",format:"color-hex"}]},highContrast:{description:(0,r.localize)(11816,"The default color for high contrast dark themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default. If not provided, the `dark` color is used as default for high contrast dark themes."),type:"string",anyOf:[E,{type:"string",format:"color-hex"}]},highContrastLight:{description:(0,r.localize)(11817,"The default color for high contrast light themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default. If not provided, the `light` color is used as default for high contrast light themes."),type:"string",anyOf:[E,{type:"string",format:"color-hex"}]}},required:["light","dark"]}}}}});class D{constructor(){x.setHandler((e,t)=>{for(let e of t.added){let t=e.value,i=e.collector;if(!t||!Array.isArray(t))return void i.error((0,r.localize)(11818,"'configuration.colors' must be a array"));let o=(e,t)=>{if(e.length>0)if("#"===e[0])return b.Color.Format.CSS.parseHex(e);else return e;return i.error((0,r.localize)(11819,"{0} must be either a color value in hex (#RRGGBB[AA] or #RGB[A]) or the identifier of a themable color which provides the default.",t)),b.Color.red};for(let e of t){if("string"!=typeof e.id||0===e.id.length)return void i.error((0,r.localize)(11820,"'configuration.colors.id' must be defined and can not be empty"));if(!e.id.match(I))return void i.error((0,r.localize)(11821,"'configuration.colors.id' must only contain letters, digits and dots and can not start with a dot"));if("string"!=typeof e.description||0===e.id.length)return void i.error((0,r.localize)(11822,"'configuration.colors.description' must be defined and can not be empty"));let t=e.defaults;if(!t||"object"!=typeof t||"string"!=typeof t.light||"string"!=typeof t.dark)return void i.error((0,r.localize)(11823,"'configuration.colors.defaults' must be defined and must contain 'light' and 'dark'"));if(t.highContrast&&"string"!=typeof t.highContrast)return void i.error((0,r.localize)(11824,"If defined, 'configuration.colors.defaults.highContrast' must be a string."));if(t.highContrastLight&&"string"!=typeof t.highContrastLight)return void i.error((0,r.localize)(11825,"If defined, 'configuration.colors.defaults.highContrastLight' must be a string."));w.registerColor(e.id,{light:o(t.light,"configuration.colors.defaults.light"),dark:o(t.dark,"configuration.colors.defaults.dark"),hcDark:o(t.highContrast??t.dark,"configuration.colors.defaults.highContrast"),hcLight:o(t.highContrastLight??t.light,"configuration.colors.defaults.highContrastLight")},e.description)}}for(let e of t.removed)for(let t of e.value)w.deregisterColor(t.id)})}}class k extends S.Disposable{constructor(){super(...arguments),this.type="table"}shouldRender(e){return!!e.contributes?.colors}render(e){let t=e.contributes?.colors||[];if(!t.length)return{data:{headers:[],rows:[]},dispose:()=>{}};let i=[(0,r.localize)(11826,"ID"),(0,r.localize)(11827,"Description"),(0,r.localize)(11828,"Dark Default"),(0,r.localize)(11829,"Light Default"),(0,r.localize)(11830,"High Contrast Default")],o=e=>"#"===e[0]?b.Color.fromHex(e):void 0;return{data:{headers:i,rows:t.sort((e,t)=>e.id.localeCompare(t.id)).map(e=>[new p.MarkdownString().appendMarkdown(`\`${e.id}\``),e.description,o(e.defaults.dark)??new p.MarkdownString().appendMarkdown(`\`${e.defaults.dark}\``),o(e.defaults.light)??new p.MarkdownString().appendMarkdown(`\`${e.defaults.light}\``),o(e.defaults.highContrast)??new p.MarkdownString().appendMarkdown(`\`${e.defaults.highContrast}\``)])},dispose:()=>{}}}}u.Registry.as(c.Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({id:"colors",label:(0,r.localize)(11831,"Colors"),access:{canToggle:!1},renderer:new h.SyncDescriptor(k)});let A=class{static{this.ID="workbench.contrib.colorExtensionPoint"}constructor(e){this.instantiationService=e,this.instantiationService.createInstance(D)}};A=(0,n.__decorate)([(0,n.__param)(0,m.IInstantiationService)],A),(0,g.registerWorkbenchContribution2)(A.ID,A,g.WorkbenchPhase.BlockStartup),e.s([],262465);var M=e.i(358764),L=e.i(610620),T=e.i(912097),R=e.i(195171);let N=u.Registry.as(M.Extensions.IconContribution),P=N.getIconReferenceSchema(),O=`^${L.ThemeIcon.iconNameSegment}(-${L.ThemeIcon.iconNameSegment})+$`,F=s.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"icons",jsonSchema:{description:(0,r.localize)(11892,"Contributes extension defined themable icons"),type:"object",propertyNames:{pattern:O,description:(0,r.localize)(11893,"The identifier of the themable icon"),patternErrorMessage:(0,r.localize)(11894,"Identifiers can only contain letters, digits and minuses and need to consist of at least two segments in the form `component-iconname`.")},additionalProperties:{type:"object",properties:{description:{type:"string",description:(0,r.localize)(11895,"The description of the themable icon")},default:{anyOf:[P,{type:"object",properties:{fontPath:{description:(0,r.localize)(11896,"The path of the icon font that defines the icon."),type:"string"},fontCharacter:{description:(0,r.localize)(11897,"The character for the icon in the icon font."),type:"string",pattern:R.fontCharacterRegex,patternErrorMessage:(0,r.localize)(11898,"The fontCharacter must be a single letter or a backslash followed by unicode code points in hexadecimal.")}},required:["fontPath","fontCharacter"],defaultSnippets:[{body:{fontPath:"${1:myiconfont.woff}",fontCharacter:"${2:\\\\E001}"}}]}],description:(0,r.localize)(11899,"The default of the icon. Either a reference to an extisting ThemeIcon or an icon in an icon font.")}},required:["description","default"],defaultSnippets:[{body:{description:"${1:my icon}",default:{fontPath:"${2:myiconfont.woff}",fontCharacter:"${3:\\\\E001}"}}}]},defaultSnippets:[{body:{"${1:my-icon-id}":{description:"${2:my icon}",default:{fontPath:"${3:myiconfont.woff}",fontCharacter:"${4:\\\\E001}"}}}}]}});class K{constructor(){F.setHandler((e,t)=>{for(let e of t.added){let t=e.value,n=e.collector;if(!t||"object"!=typeof t)return void n.error((0,r.localize)(11900,"'configuration.icons' must be an object with the icon names as properties."));for(let s in t){if(!s.match(O))return void n.error((0,r.localize)(11901,"'configuration.icons' keys represent the icon id and can only contain letter, digits and minuses. They need to consist of at least two segments in the form `component-iconname`."));let l=t[s];if("string"!=typeof l.description||0===l.description.length)return void n.error((0,r.localize)(11902,"'configuration.icons.description' must be defined and can not be empty"));let d=l.default;if("string"==typeof d)N.registerIcon(s,{id:d},l.description);else if("object"==typeof d&&"string"==typeof d.fontPath&&"string"==typeof d.fontCharacter){var i,o;let t=(0,T.extname)(d.fontPath).substring(1),c=W[t];if(!c)return void n.warn((0,r.localize)(11903,"Expected `contributes.icons.default.fontPath` to have file extension 'woff', woff2' or 'ttf', is '{0}'.",t));let u=e.description.extensionLocation,h=(0,a.joinPath)(u,d.fontPath),p=(i=e.description,o=d.fontPath,T.posix.join(i.identifier.value,o)),g=N.registerIconFont(p,{src:[{location:h,format:c}]});if(!(0,a.isEqualOrParent)(h,u))return void n.warn((0,r.localize)(11904,"Expected `contributes.icons.default.fontPath` ({0}) to be included inside extension's folder ({0}).",h.path,u.path));N.registerIcon(s,{fontCharacter:d.fontCharacter,font:{id:p,definition:g}},l.description)}else n.error((0,r.localize)(11905,"'configuration.icons.default' must be either a reference to the id of an other theme icon (string) or a icon definition (object) with properties `fontPath` and `fontCharacter`."))}}for(let e of t.removed){let t=e.value;for(let e in t)N.deregisterIcon(e)}})}}let W={ttf:"truetype",woff:"woff",woff2:"woff2"},z=class{static{this.ID="workbench.contrib.iconExtensionPoint"}constructor(e){this.instantiationService=e,this.instantiationService.createInstance(K)}};z=(0,n.__decorate)([(0,n.__param)(0,m.IInstantiationService)],z),(0,g.registerWorkbenchContribution2)(z.ID,z,g.WorkbenchPhase.BlockStartup),e.s([],934767);var V=e.i(8114),B=e.i(265216),H=V,U=e.i(137479),G=e.i(322549);class q extends H.Action2{constructor(){super({id:"menu.resetHiddenStates",title:(0,r.localize2)(1616,"Reset All Menus"),category:B.Categories.View,f1:!0})}run(e){e.get(U.IMenuService).resetHiddenStates(),e.get(G.ILogService).info("did RESET all menu hidden states")}}e.i(595904),e.i(777700),(0,V.registerAction2)(q),e.s([],816921);var $=e.i(710252),j=e.i(247921),Q=e.i(495115),Y=e.i(619223),Z=e.i(756970),X=e.i(633921),J=e.i(780379);let ee=class extends Q.ReferencesController{constructor(e,t,i,o,n,r,s){super(!1,e,t,i,o,n,r,s)}};ee=(0,n.__decorate)([(0,n.__param)(1,Z.IContextKeyService),(0,n.__param)(2,j.ICodeEditorService),(0,n.__param)(3,X.INotificationService),(0,n.__param)(4,m.IInstantiationService),(0,n.__param)(5,J.IStorageService),(0,n.__param)(6,Y.IConfigurationService)],ee),(0,$.registerEditorContribution)(Q.ReferencesController.ID,ee,$.EditorContributionInstantiation.Lazy),e.s([],528045);var et=d,ei=e.i(68858);e.i(145384);var eo=e.i(264111);e.i(368994);var en=e.i(760837),er=e.i(477958),es=e.i(118144),ea=e.i(623947);let el=new class{constructor(){this._implementations=[]}register(e){return this._implementations.push(e),{dispose:()=>{let t=this._implementations.indexOf(e);-1!==t&&this._implementations.splice(t,1)}}}getImplementations(){return this._implementations}};e.s(["AccessibleViewRegistry",()=>el],328124);var ed=e.i(39400),ec=e.i(65583),eu=e.i(78732),eh=e.i(141212),ep=e.i(304729),eg=e.i(332217),em=$,e_=e.i(901485),ef=e.i(716526),ey=V,ev=e.i(166253),eC=e.i(564485);e.i(724146);class eb extends ey.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,r.localize2)(149,"Toggle Collapse Unchanged Regions"),icon:ep.Codicon.map,toggled:ev.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:ev.ContextKeyExpr.has("isInDiffEditor"),menu:{when:ev.ContextKeyExpr.has("isInDiffEditor"),id:ey.MenuId.EditorTitle,order:22,group:"navigation"}})}run(e){let t=e.get(Y.IConfigurationService),i=!t.getValue("diffEditor.hideUnchangedRegions.enabled");t.updateValue("diffEditor.hideUnchangedRegions.enabled",i)}}class eS extends ey.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,r.localize2)(150,"Toggle Show Moved Code Blocks"),precondition:ev.ContextKeyExpr.has("isInDiffEditor")})}run(e){let t=e.get(Y.IConfigurationService),i=!t.getValue("diffEditor.experimental.showMoves");t.updateValue("diffEditor.experimental.showMoves",i)}}class ew extends ey.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,r.localize2)(151,"Toggle Use Inline View When Space Is Limited"),precondition:ev.ContextKeyExpr.has("isInDiffEditor")})}run(e){let t=e.get(Y.IConfigurationService),i=!t.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");t.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",i)}}let eE=(0,r.localize2)(152,"Diff Editor");class eI extends em.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,r.localize2)(153,"Switch Side"),icon:ep.Codicon.arrowSwap,precondition:ev.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:eE})}runEditorCommand(e,t,i){let o=eR(e);if(o instanceof e_.DiffEditorWidget)if(i&&i.dryRun)return{destinationSelection:o.mapToOtherSide().destinationSelection};else o.switchSide()}}class ex extends em.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,r.localize2)(154,"Exit Compare Move"),icon:ep.Codicon.close,precondition:ef.EditorContextKeys.comparingMovedCode,f1:!1,category:eE,keybinding:{weight:1e4,primary:eg.KeyCode.Escape}})}runEditorCommand(e,t){let i=eR(e);i instanceof e_.DiffEditorWidget&&i.exitCompareMove()}}class eD extends em.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,r.localize2)(155,"Collapse All Unchanged Regions"),icon:ep.Codicon.fold,precondition:ev.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:eE})}runEditorCommand(e,t){let i=eR(e);i instanceof e_.DiffEditorWidget&&i.collapseAllUnchangedRegions()}}class ek extends em.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,r.localize2)(156,"Show All Unchanged Regions"),icon:ep.Codicon.unfold,precondition:ev.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:eE})}runEditorCommand(e,t){let i=eR(e);i instanceof e_.DiffEditorWidget&&i.showAllUnchangedRegions()}}class eA extends ey.Action2{constructor(){super({id:"diffEditor.revert",title:(0,r.localize2)(157,"Revert"),f1:!1,category:eE})}run(e,t){var i,o,n;let r=(i=e,o=t.originalUri,n=t.modifiedUri,i.get(j.ICodeEditorService).listDiffEditors().find(e=>{let t=e.getModifiedEditor(),i=e.getOriginalEditor();return t&&t.getModel()?.uri.toString()===n.toString()&&i&&i.getModel()?.uri.toString()===o.toString()})||null);r instanceof e_.DiffEditorWidget&&r.revertRangeMappings(t.mapping.innerChanges??[])}}let eM=(0,r.localize2)(158,"Accessible Diff Viewer");class eL extends ey.Action2{static{this.id="editor.action.accessibleDiffViewer.next"}constructor(){super({id:eL.id,title:(0,r.localize2)(159,"Go to Next Difference"),category:eM,precondition:ev.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:eg.KeyCode.F7,weight:eC.KeybindingWeight.EditorContrib},f1:!0})}run(e){let t=eR(e);t?.accessibleDiffViewerNext()}}class eT extends ey.Action2{static{this.id="editor.action.accessibleDiffViewer.prev"}constructor(){super({id:eT.id,title:(0,r.localize2)(160,"Go to Previous Difference"),category:eM,precondition:ev.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:eg.KeyMod.Shift|eg.KeyCode.F7,weight:eC.KeybindingWeight.EditorContrib},f1:!0})}run(e){let t=eR(e);t?.accessibleDiffViewerPrev()}}function eR(e){let t=e.get(j.ICodeEditorService).listDiffEditors(),i=(0,eh.getActiveElement)();if(i){for(let e of t)if(function(e,t){let i=t;for(;i;){if(i===e)return!0;i=i.parentElement}return!1}(e.getContainerDomNode(),i))return e}return null}e.s(["AccessibleDiffViewerNext",()=>eL,"AccessibleDiffViewerPrev",()=>eT,"CollapseAllUnchangedRegions",()=>eD,"ExitCompareMove",()=>ex,"RevertHunkOrSelection",()=>eA,"ShowAllUnchangedRegions",()=>ek,"SwitchSide",()=>eI,"ToggleCollapseUnchangedRegions",()=>eb,"ToggleShowMovedCodeBlocks",()=>eS,"ToggleUseInlineViewWhenSpaceIsLimited",()=>ew],869177);var eN=e.i(14575),eP=e.i(352700),eO=e.i(135517),eF=d,eK=e.i(918299),eW=e.i(588624),ez=e.i(836387),eV=(e.i(857200),e.i(191604));e.i(887778);var eB=e.i(937301),eH=e.i(149900),eU=e.i(211023),eG=e.i(840970),eq=V;class e$ extends eq.Action2{static{this.ID="editor.action.toggleTabFocusMode"}constructor(){super({id:e$.ID,title:(0,r.localize2)(1492,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:eg.KeyMod.CtrlCmd|eg.KeyCode.KeyM,mac:{primary:eg.KeyMod.WinCtrl|eg.KeyMod.Shift|eg.KeyCode.KeyM},weight:eC.KeybindingWeight.EditorContrib},metadata:{description:(0,r.localize2)(1493,"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){let e=!eG.TabFocus.getTabFocusMode();eG.TabFocus.setTabFocusMode(e),e?(0,eU.alert)((0,r.localize)(1494,"Pressing Tab will now move focus to the next focusable element")):(0,eU.alert)((0,r.localize)(1495,"Pressing Tab will now insert the tab character"))}}(0,eq.registerAction2)(e$),e.s(["ToggleTabFocusModeAction",()=>e$],272431);(t=i||(i={})).intro=(0,r.localize)(4851,"The editor contains commentable range(s). Some useful commands include:"),t.tabFocus=(0,r.localize)(4852,"This widget contains a text area, for composition of new comments, and actions, that can be tabbed to once tab moves focus mode has been enabled with the command Toggle Tab Key Moves Focus{0}.",`<keybinding:${e$.ID}>`),t.commentCommands=(0,r.localize)(4853,"Some useful comment commands include:"),t.escape=(0,r.localize)(4854,"- Dismiss Comment (Escape)"),t.nextRange=(0,r.localize)(4855,"- Go to Next Commenting Range{0}.",`<keybinding:${eH.CommentCommandId.NextRange}>`),t.previousRange=(0,r.localize)(4856,"- Go to Previous Commenting Range{0}.",`<keybinding:${eH.CommentCommandId.PreviousRange}>`),t.nextCommentThread=(0,r.localize)(4857,"- Go to Next Comment Thread{0}.",`<keybinding:${eH.CommentCommandId.NextThread}>`),t.previousCommentThread=(0,r.localize)(4858,"- Go to Previous Comment Thread{0}.",`<keybinding:${eH.CommentCommandId.PreviousThread}>`),t.nextCommentedRange=(0,r.localize)(4859,"- Go to Next Commented Range{0}.",`<keybinding:${eH.CommentCommandId.NextCommentedRange}>`),t.previousCommentedRange=(0,r.localize)(4860,"- Go to Previous Commented Range{0}.",`<keybinding:${eH.CommentCommandId.PreviousCommentedRange}>`),t.addComment=(0,r.localize)(4861,"- Add Comment on Current Selection{0}.",`<keybinding:${eH.CommentCommandId.Add}>`),t.submitComment=(0,r.localize)(4862,"- Submit Comment{0}.",`<keybinding:${eH.CommentCommandId.Submit}>`),d.Disposable,e.i(708312),e.i(571188),eF.Disposable;let ej=class extends eF.Disposable{onClose(){this._editor.focus()}constructor(e,t,i){super(),this._editor=e,this._keybindingService=t,this._contextKeyService=i,this.id=eN.AccessibleViewProviderId.Editor,this.options={type:eN.AccessibleViewType.Help,readMoreUrl:"https://go.microsoft.com/fwlink/?linkid=851010"},this.verbositySettingKey=eO.AccessibilityVerbositySettingId.Editor}provideContent(){let e=this._editor.getOptions(),t=[];e.get(eK.EditorOption.inDiffEditor)?e.get(eK.EditorOption.readOnly)?t.push(eW.AccessibilityHelpNLS.readonlyDiffEditor):t.push(eW.AccessibilityHelpNLS.editableDiffEditor):e.get(eK.EditorOption.readOnly)?t.push(eW.AccessibilityHelpNLS.readonlyEditor):t.push(eW.AccessibilityHelpNLS.editableEditor),t.push(eW.AccessibilityHelpNLS.listSignalSounds),t.push(eW.AccessibilityHelpNLS.listAlerts);let i=function(e,t){if(eV.ChatContextKeys.enabled.getValue(t))return[eW.AccessibilityHelpNLS.quickChat,eW.AccessibilityHelpNLS.startInlineChat].join("\n")}(this._keybindingService,this._contextKeyService);i&&t.push(i);let o=eQ(this._keybindingService,this._contextKeyService,this._editor);return o&&t.push(o),e.get(eK.EditorOption.stickyScroll).enabled&&t.push(eW.AccessibilityHelpNLS.stickScroll),e.get(eK.EditorOption.tabFocusMode)?t.push(eW.AccessibilityHelpNLS.tabFocusModeOnMsg):t.push(eW.AccessibilityHelpNLS.tabFocusModeOffMsg),t.push(eW.AccessibilityHelpNLS.codeFolding),t.push(eW.AccessibilityHelpNLS.intellisense),t.push(eW.AccessibilityHelpNLS.showOrFocusHover),t.push(eW.AccessibilityHelpNLS.goToSymbol),t.push(eW.AccessibilityHelpNLS.startDebugging),t.push(eW.AccessibilityHelpNLS.setBreakpoint),t.push(eW.AccessibilityHelpNLS.debugExecuteSelection),t.push(eW.AccessibilityHelpNLS.addToWatch),t.join("\n")}};function eQ(e,t,o){if(t.getContext(o.getDomNode()).getValue(eB.CommentContextKeys.activeEditorHasCommentingRange.key))return[i.intro,i.addComment,i.nextCommentThread,i.previousCommentThread,i.nextRange,i.previousRange].join("\n")}ej=(0,n.__decorate)([(0,n.__param)(1,eP.IKeybindingService),(0,n.__param)(2,Z.IContextKeyService)],ej);var eY=e.i(810602),eZ=e.i(286894);let eX=class extends et.Disposable{static{this.ID="editor.contrib.diffEditorHelper"}constructor(e,t,i,o){if(super(),this._diffEditor=e,this._instantiationService=t,this._textResourceConfigurationService=i,this._notificationService=o,!(this._diffEditor instanceof es.EmbeddedDiffEditorWidget)){const e=(0,er.observableFromEvent)(this,e=>this._diffEditor.onDidUpdateDiff(e),()=>this._diffEditor.getDiffComputationResult()).map(e=>e&&!e.identical&&0===e.changes2.length);this._register((0,eo.autorunWithStore)((t,i)=>{if(e.read(t)){let e=i.add(this._instantiationService.createInstance(ec.FloatingEditorClickWidget,this._diffEditor.getModifiedEditor(),(0,r.localize)(4684,"Show Whitespace Differences"),null));i.add(e.onClick(()=>{this._textResourceConfigurationService.updateValue(this._diffEditor.getModel().modified.uri,"diffEditor.ignoreTrimWhitespace",!1)})),e.render()}})),this._register(this._diffEditor.onDidUpdateDiff(()=>{let e=this._diffEditor.getDiffComputationResult();e&&e.quitEarly&&this._notificationService.prompt(eZ.default.Warning,(0,r.localize)(4685,"The diff algorithm was stopped early (after {0} ms.)",this._diffEditor.maxComputationTime),[{label:(0,r.localize)(4686,"Remove Limit"),run:()=>{this._textResourceConfigurationService.updateValue(this._diffEditor.getModel().modified.uri,"diffEditor.maxComputationTime",0)}}],{})}))}}};eX=(0,n.__decorate)([(0,n.__param)(1,m.IInstantiationService),(0,n.__param)(2,ea.ITextResourceConfigurationService),(0,n.__param)(3,X.INotificationService)],eX),(0,$.registerDiffEditorContribution)(eX.ID,eX),u.Registry.as(eu.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:"diffEditor.experimental.collapseUnchangedRegions",migrateFn:(e,t)=>[["diffEditor.hideUnchangedRegions.enabled",{value:e}],["diffEditor.experimental.collapseUnchangedRegions",{value:void 0}]]}]),el.register(new class{constructor(){this.priority=105,this.name="diff-editor",this.when=ev.ContextKeyEqualsExpr.create("isInDiffEditor",!0),this.type=eN.AccessibleViewType.Help}getProvider(e){let t=e.get(eY.IEditorService),i=e.get(j.ICodeEditorService),o=e.get(eP.IKeybindingService),n=e.get(Z.IContextKeyService);if(!(t.activeTextEditorControl instanceof e_.DiffEditorWidget))return;let s=i.getActiveCodeEditor()||i.getFocusedCodeEditor();if(!s)return;let a=(0,r.localize)(4679,"Run the command Diff Editor: Switch Side{0} to toggle between the original and modified editors.","<keybinding:diffEditor.switchSide>"),l=(0,r.localize)(4680,"The setting, accessibility.verbosity.diffEditorActive, controls if a diff editor announcement is made when it becomes the active editor."),d=[(0,r.localize)(4681,"You are in a diff editor."),(0,r.localize)(4682,"View the next{0} or previous{1} diff in diff review mode, which is optimized for screen readers.","<keybinding:"+eL.id+">","<keybinding:"+eT.id+">"),a,l,(0,r.localize)(4683,"To control which accessibility signals should be played, the following settings can be configured: {0}.","accessibility.signals.diffLineDeleted, accessibility.signals.diffLineInserted, accessibility.signals.diffLineModified")],c=eQ(o,n,s);return c&&d.push(c),new eN.AccessibleContentProvider(eN.AccessibleViewProviderId.DiffEditor,{type:eN.AccessibleViewType.Help},()=>d.join("\n"),()=>s.focus(),eO.AccessibilityVerbositySettingId.DiffEditor)}}),e.s([],64918);var eJ=d;let e0=class extends eJ.Disposable{static{this.ID="editor.contrib.largeFileOptimizationsWarner"}constructor(e,t,i){super(),this._editor=e,this._notificationService=t,this._configurationService=i,this._register(this._editor.onDidChangeModel(e=>this._update())),this._update()}_update(){let e=this._editor.getModel();if(e&&e.isTooLargeForTokenization()){let t=(0,r.localize)(4706,"{0}: tokenization, wrapping, folding, codelens, word highlighting and sticky scroll have been turned off for this large file in order to reduce memory usage and avoid freezing or crashing.",(0,T.basename)(e.uri.path));this._notificationService.prompt(eZ.default.Info,t,[{label:(0,r.localize)(4707,"Forcefully Enable Features"),run:()=>{this._configurationService.updateValue("editor.largeFileOptimizations",!1).then(()=>{this._notificationService.info((0,r.localize)(4708,"Please reopen file in order for this setting to take effect."))},e=>{this._notificationService.error(e)})}}],{neverShowAgain:{id:"editor.contrib.largeFileOptimizationsWarner"}})}}};e0=(0,n.__decorate)([(0,n.__param)(1,X.INotificationService),(0,n.__param)(2,Y.IConfigurationService)],e0),(0,$.registerEditorContribution)(e0.ID,e0,$.EditorContributionInstantiation.AfterFirstRender),e.s([],853788);var e1=e.i(262799),e2=d,e3=e.i(225696),e5=e.i(448493),e4=e.i(309187),e6=e.i(224961),e8=e.i(475424),e9=e.i(319225);class e7{constructor(e,t,i){this._selection=e,this._cursors=t,this._selectionId=null,this._trimInRegexesAndStrings=i}getEditOperations(e,t){let i=te(e,this._cursors,this._trimInRegexesAndStrings);for(let e=0,o=i.length;e<o;e++){let o=i[e];t.addEditOperation(o.range,o.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function te(e,t,i){t.sort((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber);for(let e=t.length-2;e>=0;e--)t[e].lineNumber===t[e+1].lineNumber&&t.splice(e,1);let o=[],n=0,r=0,s=t.length;for(let a=1,l=e.getLineCount();a<=l;a++){let l=e.getLineContent(a),d=l.length+1,c=0;if(r<s&&t[r].lineNumber===a&&(c=t[r].column,r++,c===d)||0===l.length)continue;let u=(0,e5.lastNonWhitespaceIndex)(l),h=0;if(-1===u)h=1;else{if(u===l.length-1)continue;h=u+2}if(!i){if(!e.tokenization.hasAccurateTokensForLine(a))continue;let t=e.tokenization.getLineTokens(a),i=t.getStandardTokenType(t.findTokenIndexAtOffset(h));if(i===e9.StandardTokenType.String||i===e9.StandardTokenType.RegEx)continue}h=Math.max(c,h),o[n++]=e6.EditOperation.delete(new e8.Range(a,h,a,d))}return o}e.s(["TrimTrailingWhitespaceCommand",()=>e7,"trimTrailingWhitespace",()=>te],788722);var tt=e.i(747053),ti=e.i(418964),to=e.i(544421),tn=e.i(314536),tr=e.i(974804),ts=e.i(240043),ta=e.i(601244),tl=e.i(446099),td=e.i(261583),tc=e.i(890696),tu=$,th=e.i(13310),tp=e.i(279691),tg=e.i(490582),tm=e.i(338882),t_=e.i(503035);async function tf(e,t){let i=e.get(t_.IQuickDiffService),o=e.get(tp.IEditorWorkerService),n=e.get(tg.ITextModelService),r=await (0,tm.getOriginalResource)(i,t.uri,t.getLanguageId(),(0,th.shouldSynchronizeModel)(t));if(!r)return null;let s=[],a=await n.createModelReference(r);try{if(!o.canComputeDirtyDiff(r,t.uri))return;let e=await o.computeDirtyDiff(r,t.uri,!1);if(!(0,ei.isNonEmptyArray)(e))return;for(let i of e)s.push(t.validateRange(new e8.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber||i.modifiedStartLineNumber,Number.MAX_SAFE_INTEGER)))}finally{a.dispose()}return s}(0,tu.registerEditorAction)(class extends tu.EditorAction{constructor(){super({id:"editor.action.formatChanges",label:(0,r.localize2)(6753,"Format Modified Lines"),precondition:ev.ContextKeyExpr.and(ef.EditorContextKeys.writable,ef.EditorContextKeys.hasDocumentSelectionFormattingProvider)})}async run(e,t){let i=e.get(m.IInstantiationService);if(!t.hasModel())return;let o=await i.invokeFunction(tf,t.getModel());if((0,ei.isNonEmptyArray)(o))return i.invokeFunction(ts.formatDocumentRangesWithSelectedProvider,t,o,ts.FormattingMode.Explicit,tl.Progress.None,en.CancellationToken.None,!0)}}),e.s(["getModifiedRanges",()=>tf],251046);var ty=e.i(976204),tv=e.i(297334),tC=e.i(524819);let tb=class{constructor(e,t){this.configurationService=e,this.codeEditorService=t}async participate(e,t){if(!e.textEditorModel)return;let i=this.configurationService.getValue("files.trimTrailingWhitespace",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource}),o=this.configurationService.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource});i&&this.doTrimTrailingWhitespace(e.textEditorModel,t.reason===tc.SaveReason.AUTO,o)}doTrimTrailingWhitespace(e,t,i){let o=[],n=[],r=tS(e,this.codeEditorService);if(r&&(o=r.getSelections(),t)){n=o.map(e=>e.getPosition());let t=ta.SnippetController2.get(r)?.getSessionEnclosingRange();if(t)for(let i=t.startLineNumber;i<=t.endLineNumber;i++)n.push(new tt.Position(i,e.getLineMaxColumn(i)))}let s=te(e,n,i);s.length&&e.pushEditOperations(o,s,e=>o)}};function tS(e,t){let i=null;if(e.isAttachedToEditor()){for(let o of t.listCodeEditors())if(o.hasModel()&&o.getModel()===e){if(o.hasTextFocus())return o;i=o}}return i}tb=(0,n.__decorate)([(0,n.__param)(0,Y.IConfigurationService),(0,n.__param)(1,j.ICodeEditorService)],tb);let tw=class{constructor(e,t){this.configurationService=e,this.codeEditorService=t}async participate(e,t){e.textEditorModel&&this.configurationService.getValue("files.insertFinalNewline",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource})&&this.doInsertFinalNewLine(e.textEditorModel)}doInsertFinalNewLine(e){let t=e.getLineCount(),i=e.getLineContent(t),o=-1===(0,e5.lastNonWhitespaceIndex)(i);if(!t||o)return;let n=[e6.EditOperation.insert(new tt.Position(t,e.getLineMaxColumn(t)),e.getEOL())],r=tS(e,this.codeEditorService);r?r.executeEdits("insertFinalNewLine",n,r.getSelections()):e.pushEditOperations([],n,()=>null)}};tw=(0,n.__decorate)([(0,n.__param)(0,Y.IConfigurationService),(0,n.__param)(1,j.ICodeEditorService)],tw);let tE=class{constructor(e,t){this.configurationService=e,this.codeEditorService=t}async participate(e,t){e.textEditorModel&&this.configurationService.getValue("files.trimFinalNewlines",{overrideIdentifier:e.textEditorModel.getLanguageId(),resource:e.resource})&&this.doTrimFinalNewLines(e.textEditorModel,t.reason===tc.SaveReason.AUTO)}findLastNonEmptyLine(e){for(let t=e.getLineCount();t>=1;t--)if(e.getLineLength(t)>0)return t;return 0}doTrimFinalNewLines(e,t){let i=e.getLineCount();if(1===i)return;let o=[],n=0,r=tS(e,this.codeEditorService);if(r&&(o=r.getSelections(),t))for(let e=0,t=o.length;e<t;e++){let t=o[e].positionLineNumber;t>n&&(n=t)}let s=Math.max(this.findLastNonEmptyLine(e)+1,n+1),a=e.validateRange(new e8.Range(s,1,i,e.getLineMaxColumn(i)));a.isEmpty()||(e.pushEditOperations(o,[e6.EditOperation.delete(a)],e=>o),r?.setSelections(o))}};tE=(0,n.__decorate)([(0,n.__param)(0,Y.IConfigurationService),(0,n.__param)(1,j.ICodeEditorService)],tE);let tI=class{constructor(e,t,i){this.configurationService=e,this.codeEditorService=t,this.instantiationService=i}async participate(e,t,i,o){if(!e.textEditorModel||t.reason===tc.SaveReason.AUTO)return;let n=e.textEditorModel,s={overrideIdentifier:n.getLanguageId(),resource:n.uri},a=new tl.Progress(e=>{i.report({message:(0,r.localize)(4723,"Running '{0}' Formatter ([configure]({1})).",e.displayName||e.extensionId&&e.extensionId.value||"???","command:workbench.action.openSettings?%5B%22editor.formatOnSave%22%5D")})});if(!this.configurationService.getValue("editor.formatOnSave",s))return;let l=tS(n,this.codeEditorService)||n,d=this.configurationService.getValue("editor.formatOnSaveMode",s);if("file"===d)await this.instantiationService.invokeFunction(ts.formatDocumentWithSelectedProvider,l,ts.FormattingMode.Silent,a,o);else{let e=await this.instantiationService.invokeFunction(tf,(0,e4.isCodeEditor)(l)?l.getModel():l);null===e&&"modificationsIfAvailable"===d?await this.instantiationService.invokeFunction(ts.formatDocumentWithSelectedProvider,l,ts.FormattingMode.Silent,a,o):e&&await this.instantiationService.invokeFunction(ts.formatDocumentRangesWithSelectedProvider,l,e,ts.FormattingMode.Silent,a,o,!1)}}};tI=(0,n.__decorate)([(0,n.__param)(0,Y.IConfigurationService),(0,n.__param)(1,j.ICodeEditorService),(0,n.__param)(2,m.IInstantiationService)],tI);let tx=class extends e2.Disposable{constructor(e,t,i,o,n,r,s){super(),this.configurationService=e,this.instantiationService=t,this.languageFeaturesService=i,this.hostService=o,this.editorService=n,this.codeEditorService=r,this.telemetryService=s,this._register(this.hostService.onDidChangeFocus(()=>{this.triggerCodeActionsCommand()})),this._register(this.editorService.onDidActiveEditorChange(()=>{this.triggerCodeActionsCommand()}))}async triggerCodeActionsCommand(){if(this.configurationService.getValue("editor.codeActions.triggerOnFocusChange")&&"afterDelay"===this.configurationService.getValue("files.autoSave")){let e=this.codeEditorService.getActiveCodeEditor()?.getModel();if(!e)return;let t={overrideIdentifier:e.getLanguageId(),resource:e.uri},i=this.configurationService.getValue("editor.codeActionsOnSave",t);if(!i||Array.isArray(i))return;let o=Object.keys(i).filter(e=>i[e]&&"always"===i[e]&&tr.CodeActionKind.Source.contains(new e1.HierarchicalKind(e))),n=new en.CancellationTokenSource,r=[];for(let e of o)r.push(new e1.HierarchicalKind(e));await this.applyOnSaveActions(e,r,[],tl.Progress.None,n.token)}}async participate(e,t,i,o){if(!e.textEditorModel)return;let n=e.textEditorModel,s={overrideIdentifier:n.getLanguageId(),resource:n.uri},a=this.configurationService.getValue("editor.codeActionsOnSave",s);if(!a||t.reason===tc.SaveReason.AUTO||t.reason!==tc.SaveReason.EXPLICIT&&Array.isArray(a))return;let l=Array.isArray(a)?a:Object.keys(a).filter(e=>a[e]&&"never"!==a[e]),d=this.createCodeActionsOnSave(l);if(Array.isArray(a)||d.sort((e,t)=>tr.CodeActionKind.SourceFixAll.contains(e)?tr.CodeActionKind.SourceFixAll.contains(t)?0:-1:+!!tr.CodeActionKind.SourceFixAll.contains(t)),!d.length)return;let c=Array.isArray(a)?[]:Object.keys(a).filter(e=>"never"===a[e]).map(e=>new e1.HierarchicalKind(e));i.report({message:(0,r.localize)(4724,"Quick Fixes")});let u=Array.isArray(a)?d:d.filter(e=>"always"===a[e.value]||("explicit"===a[e.value]||!0===a[e.value])&&t.reason===tc.SaveReason.EXPLICIT);await this.applyOnSaveActions(n,u,c,i,o)}createCodeActionsOnSave(e){let t=e.map(e=>new e1.HierarchicalKind(e));return t.filter(e=>t.every(t=>t.equals(e)||!t.contains(e)))}async applyOnSaveActions(e,t,i,o,n){let s=new class{constructor(){this._names=new Set}_report(){o.report({message:(0,r.localize)(4725,"Getting code actions from {0} ([configure]({1})).",[...this._names].map(e=>`'${e}'`).join(", "),"command:workbench.action.openSettings?%5B%22editor.codeActionsOnSave%22%5D")})}report(e){e.displayName&&!this._names.has(e.displayName)&&(this._names.add(e.displayName),this._report())}};for(let a of t){let t=new e3.StopWatch,l=await this.getActionsToRun(e,a,i,s,n);if(this.telemetryService.publicLog2("codeAction.appliedOnSave",{codeAction:a.value,duration:t.elapsed()}),n.isCancellationRequested)return void l.dispose();try{for(let e of l.validActions)if(o.report({message:(0,r.localize)(4726,"Applying code action '{0}'.",e.action.title)}),await this.instantiationService.invokeFunction(tn.applyCodeAction,e,tn.ApplyCodeActionReason.OnSave,{},n),n.isCancellationRequested)return}catch{}finally{l.dispose()}}}getActionsToRun(e,t,i,o,n){return(0,tn.getCodeActions)(this.languageFeaturesService.codeActionProvider,e,e.getFullModelRange(),{type:ti.CodeActionTriggerType.Auto,triggerAction:tr.CodeActionTriggerSource.OnSave,filter:{include:t,excludes:i,includeSourceActions:!0}},o,n)}};tx=(0,n.__decorate)([(0,n.__param)(0,Y.IConfigurationService),(0,n.__param)(1,m.IInstantiationService),(0,n.__param)(2,to.ILanguageFeaturesService),(0,n.__param)(3,ty.IHostService),(0,n.__param)(4,eY.IEditorService),(0,n.__param)(5,j.ICodeEditorService),(0,n.__param)(6,td.ITelemetryService)],tx);let tD=class extends e2.Disposable{constructor(e,t){super(),this.instantiationService=e,this.textFileService=t,this.registerSaveParticipants()}registerSaveParticipants(){this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tb))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tx))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tI))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tw))),this._register(this.textFileService.files.addSaveParticipant(this.instantiationService.createInstance(tE)))}};tD=(0,n.__decorate)([(0,n.__param)(0,m.IInstantiationService),(0,n.__param)(1,tC.ITextFileService)],tD),u.Registry.as(g.Extensions.Workbench).registerWorkbenchContribution(tD,tv.LifecyclePhase.Restored),e.s([],710249);var tk=V;class tA extends tk.Action2{static{this.ID="editor.action.toggleMinimap"}constructor(){super({id:tA.ID,title:{...(0,r.localize2)(4727,"Toggle Minimap"),mnemonicTitle:(0,r.localize)(4728,"&&Minimap")},category:B.Categories.View,f1:!0,toggled:ev.ContextKeyExpr.equals("config.editor.minimap.enabled",!0),menu:{id:tk.MenuId.MenubarAppearanceMenu,group:"4_editor",order:1}})}async run(e){let t=e.get(Y.IConfigurationService),i=!t.getValue("editor.minimap.enabled");return t.updateValue("editor.minimap.enabled",i)}}(0,tk.registerAction2)(tA),e.s([],405560);var tM=d,tL=e.i(509592),tT=V;class tR extends tT.Action2{static{this.ID="workbench.action.toggleMultiCursorModifier"}static{this.multiCursorModifierConfigurationKey="editor.multiCursorModifier"}constructor(){super({id:tR.ID,title:(0,r.localize2)(4729,"Toggle Multi-Cursor Modifier"),f1:!0})}run(e){let t=e.get(Y.IConfigurationService),i="ctrlCmd"===t.getValue("editor").multiCursorModifier?"alt":"ctrlCmd";return t.updateValue(tR.multiCursorModifierConfigurationKey,i)}}let tN=new ev.RawContextKey("multiCursorModifier","altKey"),tP=class extends tM.Disposable{constructor(e,t){super(),this.configurationService=e,this._multiCursorModifier=tN.bindTo(t),this._update(),this._register(e.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.multiCursorModifier")&&this._update()}))}_update(){let e="ctrlCmd"===this.configurationService.getValue("editor").multiCursorModifier?"ctrlCmd":"altKey";this._multiCursorModifier.set(e)}};tP=(0,n.__decorate)([(0,n.__param)(0,Y.IConfigurationService),(0,n.__param)(1,Z.IContextKeyService)],tP),u.Registry.as(g.Extensions.Workbench).registerWorkbenchContribution(tP,tv.LifecyclePhase.Restored),(0,tT.registerAction2)(tR),tT.MenuRegistry.appendMenuItem(tT.MenuId.MenubarSelectionMenu,{group:"4_config",command:{id:tR.ID,title:(0,r.localize)(4730,"Switch to Alt+Click for Multi-Cursor")},when:tN.isEqualTo("ctrlCmd"),order:1}),tT.MenuRegistry.appendMenuItem(tT.MenuId.MenubarSelectionMenu,{group:"4_config",command:{id:tR.ID,title:tL.isMacintosh?(0,r.localize)(4731,"Switch to Cmd+Click for Multi-Cursor"):(0,r.localize)(4732,"Switch to Ctrl+Click for Multi-Cursor")},when:tN.isEqualTo("altKey"),order:1}),e.s([],753725);var tO=V;class tF extends tO.Action2{static{this.ID="editor.action.toggleRenderControlCharacter"}constructor(){super({id:tF.ID,title:{...(0,r.localize2)(4733,"Toggle Control Characters"),mnemonicTitle:(0,r.localize)(4734,"Render &&Control Characters")},category:B.Categories.View,f1:!0,toggled:ev.ContextKeyExpr.equals("config.editor.renderControlCharacters",!0),menu:{id:tO.MenuId.MenubarAppearanceMenu,group:"4_editor",order:5}})}run(e){let t=e.get(Y.IConfigurationService),i=!t.getValue("editor.renderControlCharacters");return t.updateValue("editor.renderControlCharacters",i)}}(0,tO.registerAction2)(tF),e.s([],779461);var tK=V;class tW extends tK.Action2{static{this.ID="editor.action.toggleRenderWhitespace"}constructor(){super({id:tW.ID,title:{...(0,r.localize2)(4735,"Toggle Render Whitespace"),mnemonicTitle:(0,r.localize)(4736,"&&Render Whitespace")},category:B.Categories.View,f1:!0,toggled:ev.ContextKeyExpr.notEquals("config.editor.renderWhitespace","none"),menu:{id:tK.MenuId.MenubarAppearanceMenu,group:"4_editor",order:4}})}run(e){let t,i=e.get(Y.IConfigurationService);return t="none"===i.getValue("editor.renderWhitespace")?"all":"none",i.updateValue("editor.renderWhitespace",t)}}(0,tK.registerAction2)(tW),e.s([],804810);var tz=e.i(955130),tV=d,tB=e.i(545731),tH=e.i(815486);u.Registry.add("gutterActionsRegistry",new class{constructor(){this._registeredGutterActionsGenerators=new Set}registerGutterActionsGenerator(e){return this._registeredGutterActionsGenerators.add(e),{dispose:()=>{this._registeredGutterActionsGenerators.delete(e)}}}getGutterActionsGenerators(){return Array.from(this._registeredGutterActionsGenerators.values())}});let tU=u.Registry.as("gutterActionsRegistry"),tG=class extends tV.Disposable{static{this.ID="workbench.contrib.editorLineNumberContextMenu"}constructor(e,t,i,o,n){super(),this.editor=e,this.contextMenuService=t,this.menuService=i,this.contextKeyService=o,this.instantiationService=n,this._register(this.editor.onMouseDown(e=>this.doShow(e,!1)))}show(e){this.doShow(e,!0)}doShow(e,t){let i=this.editor.getModel();if(!e.event.rightButton&&!(tL.isMacintosh&&e.event.leftButton&&e.event.ctrlKey)&&!t||e.target.type!==e4.MouseTargetType.GUTTER_LINE_NUMBERS&&e.target.type!==e4.MouseTargetType.GUTTER_GLYPH_MARGIN||!e.target.position||!i)return;let o=e.target.position.lineNumber,n=this.contextKeyService.createOverlay([["editorLineNumber",o]]),r=this.menuService.createMenu(V.MenuId.EditorLineNumberContext,n),s=[];this.instantiationService.invokeFunction(t=>{for(let e of tU.getGutterActionsGenerators()){let i=new Map;for(let[n,r]of(e({lineNumber:o,editor:this.editor,accessor:t},{push:(e,t="navigation")=>{let o=i.get(t)??[];o.push(e),i.set(t,o)}}),i.entries()))s.push([n,r])}s.sort((e,t)=>e[0].localeCompare(t[0]));let n=r.getActions({arg:{lineNumber:o,uri:i.uri},shouldForwardArgs:!0});if(s.push(...n),e.target.type===e4.MouseTargetType.GUTTER_LINE_NUMBERS){let e=this.editor.getSelections(),t={startLineNumber:o,endLineNumber:o,startColumn:1,endColumn:i.getLineLength(o)+1};e?.some(e=>!e.isEmpty()&&null!==e.intersectRanges(t))||this.editor.setSelection(t,tH.TextEditorSelectionSource.PROGRAMMATIC)}this.contextMenuService.showContextMenu({getAnchor:()=>e.event,getActions:()=>tz.Separator.join(...s.map(e=>e[1])),onHide:()=>r.dispose()})})}};tG=(0,n.__decorate)([(0,n.__param)(1,tB.IContextMenuService),(0,n.__param)(2,U.IMenuService),(0,n.__param)(3,Z.IContextKeyService),(0,n.__param)(4,m.IInstantiationService)],tG),(0,$.registerEditorContribution)(tG.ID,tG,$.EditorContributionInstantiation.AfterFirstRender),e.s([],906696);var tq=$,t$=e.i(268850),tj=e.i(883333),tQ=e.i(206605),tY=e.i(681408),tZ=e.i(976233),tX=d,tJ=e.i(657170),t0=e.i(122357),t1=e.i(582006),t2=e.i(749351),t3=e.i(256120),t5=e.i(785310),t4=e.i(857717);let t6=class extends tX.Disposable{static{o=this}static{this.configName="editor.defaultFormatter"}static{this.extensionIds=[]}static{this.extensionItemLabels=[]}static{this.extensionDescriptions=[]}constructor(e,t,i,n,r,s,a,l,d,c){super(),this._extensionService=e,this._extensionEnablementService=t,this._configService=i,this._notificationService=n,this._dialogService=r,this._quickInputService=s,this._languageService=a,this._languageFeaturesService=l,this._languageStatusService=d,this._editorService=c,this._languageStatusStore=this._store.add(new tX.DisposableStore),this._store.add(this._extensionService.onDidChangeExtensions(this._updateConfigValues,this)),this._store.add(ts.FormattingConflicts.setFormatterSelector((e,t,i,o)=>this._selectFormatter(e,t,i,o))),this._store.add(c.onDidActiveEditorChange(this._updateStatus,this)),this._store.add(l.documentFormattingEditProvider.onDidChange(this._updateStatus,this)),this._store.add(l.documentRangeFormattingEditProvider.onDidChange(this._updateStatus,this)),this._store.add(i.onDidChangeConfiguration(e=>e.affectsConfiguration(o.configName)&&this._updateStatus())),this._updateConfigValues()}async _updateConfigValues(){await this._extensionService.whenInstalledExtensionsRegistered();let e=[...this._extensionService.extensions];for(let t of(e=e.sort((e,t)=>{let i=e.categories?.find(e=>"Formatters"===e||"Programming Languages"===e),o=t.categories?.find(e=>"Formatters"===e||"Programming Languages"===e);return i&&!o?-1:!i&&o?1:e.name.localeCompare(t.name)}),o.extensionIds.length=0,o.extensionItemLabels.length=0,o.extensionDescriptions.length=0,o.extensionIds.push(null),o.extensionItemLabels.push((0,r.localize)(6730,"None")),o.extensionDescriptions.push((0,r.localize)(6731,"None")),e))(t.main||t.browser)&&(o.extensionIds.push(t.identifier.value),o.extensionItemLabels.push(t.displayName??""),o.extensionDescriptions.push(t.description??""))}static _maybeQuotes(e){return e.match(/\s/)?`'${e}'`:e}async _analyzeFormatter(e,t,i){let n=this._configService.getValue(o.configName,{resource:i.uri,overrideIdentifier:i.getLanguageId()});if(n){let o=t.find(e=>tj.ExtensionIdentifier.equals(e.extensionId,n));if(o)return o;let s=await this._extensionService.getExtension(n);if(s&&this._extensionEnablementService.isEnabled((0,tY.toExtension)(s))){let t=this._languageService.getLanguageName(i.getLanguageId())||i.getLanguageId();return e===ts.FormattingKind.File?(0,r.localize)(6732,"Extension '{0}' is configured as formatter but it cannot format '{1}'-files",s.displayName||s.name,t):(0,r.localize)(6733,"Extension '{0}' is configured as formatter but it can only format '{1}'-files as a whole, not selections or parts of it.",s.displayName||s.name,t)}}else if(1===t.length)return t[0];let s=this._languageService.getLanguageName(i.getLanguageId())||i.getLanguageId();return n?(0,r.localize)(6735,"Extension '{0}' is configured as formatter but not available. Select a different default formatter to continue.",n):(0,r.localize)(6734,"There are multiple formatters for '{0}' files. One of them should be configured as default formatter.",o._maybeQuotes(s))}async _selectFormatter(e,t,i,o){let n=await this._analyzeFormatter(o,e,t);if("string"!=typeof n)return n;if(i!==ts.FormattingMode.Silent){let{confirmed:i}=await this._dialogService.confirm({message:(0,r.localize)(6736,"Configure Default Formatter"),detail:n,primaryButton:(0,r.localize)(6737,"&&Configure...")});if(i)return this._pickAndPersistDefaultFormatter(e,t)}else this._notificationService.prompt(eZ.default.Info,n,[{label:(0,r.localize)(6738,"Configure..."),run:()=>this._pickAndPersistDefaultFormatter(e,t)}],{priority:ed.NotificationPriority.SILENT})}async _pickAndPersistDefaultFormatter(e,t){let i=e.map((e,t)=>({index:t,label:e.displayName||(e.extensionId?e.extensionId.value:"?"),description:e.extensionId&&e.extensionId.value})),n=this._languageService.getLanguageName(t.getLanguageId())||t.getLanguageId(),s=await this._quickInputService.pick(i,{placeHolder:(0,r.localize)(6739,"Select a default formatter for '{0}' files",o._maybeQuotes(n))});if(s&&e[s.index].extensionId)return this._configService.updateValue(o.configName,e[s.index].extensionId.value,{resource:t.uri,overrideIdentifier:t.getLanguageId()}),e[s.index]}_updateStatus(){this._languageStatusStore.clear();let e=(0,e4.getCodeEditor)(this._editorService.activeTextEditorControl);if(!e||!e.hasModel())return;let t=e.getModel(),i=(0,ts.getRealAndSyntheticDocumentFormattersOrdered)(this._languageFeaturesService.documentFormattingEditProvider,this._languageFeaturesService.documentRangeFormattingEditProvider,t);if(0===i.length)return;let o=new en.CancellationTokenSource;this._languageStatusStore.add((0,tX.toDisposable)(()=>o.dispose(!0))),this._analyzeFormatter(ts.FormattingKind.File,i,t).then(e=>{if(o.token.isCancellationRequested||"string"!=typeof e)return;let n={id:`formatter/configure/dfl/${(0,t4.generateUuid)()}`,title:(0,r.localize)(6740,"Configure...")};this._languageStatusStore.add(t5.CommandsRegistry.registerCommand(n.id,()=>this._pickAndPersistDefaultFormatter(i,t))),this._languageStatusStore.add(this._languageStatusService.addStatus({id:"formatter.conflict",name:(0,r.localize)(6741,"Formatter Conflicts"),selector:{language:t.getLanguageId(),pattern:t.uri.fsPath},severity:eZ.default.Error,label:(0,r.localize)(6742,"Formatting"),detail:e,busy:!1,source:"",command:n,accessibilityInfo:void 0}))})}};function t8(e,t,i,o){function n(e){return e.extensionId?tj.ExtensionIdentifier.toKey(e.extensionId):"unknown"}e.publicLog2("formatterpick",{mode:t,extensions:i.map(n),pick:o?n(o):"none"})}async function t9(e,t,i){let o,n=e.get(t$.IQuickInputService),s=e.get(Y.IConfigurationService),a=e.get(tJ.ILanguageService),l={resource:t.uri,overrideIdentifier:t.getLanguageId()},d=s.getValue(t6.configName,l),c=i.map((e,t)=>{let i=tj.ExtensionIdentifier.equals(e.extensionId,d),n={index:t,label:e.displayName||"",description:i?(0,r.localize)(6744,"(default)"):void 0};return i&&(o=n),n}),u={label:(0,r.localize)(6745,"Configure Default Formatter...")},h=await n.pick([...c,{type:"separator"},u],{placeHolder:(0,r.localize)(6746,"Select a formatter"),activeItem:o});if(h){if(h!==u)return h.index;{let e=a.getLanguageName(t.getLanguageId())||t.getLanguageId(),o=await n.pick(c,{placeHolder:(0,r.localize)(6739,"Select a default formatter for '{0}' files",t6._maybeQuotes(e))});o&&i[o.index].extensionId&&s.updateValue(t6.configName,i[o.index].extensionId.value,l);return}}}t6=o=(0,n.__decorate)([(0,n.__param)(0,tZ.IExtensionService),(0,n.__param)(1,t0.IWorkbenchExtensionEnablementService),(0,n.__param)(2,Y.IConfigurationService),(0,n.__param)(3,X.INotificationService),(0,n.__param)(4,t2.IDialogService),(0,n.__param)(5,t$.IQuickInputService),(0,n.__param)(6,tJ.ILanguageService),(0,n.__param)(7,to.ILanguageFeaturesService),(0,n.__param)(8,t3.ILanguageStatusService),(0,n.__param)(9,eY.IEditorService)],t6),u.Registry.as(g.Extensions.Workbench).registerWorkbenchContribution(t6,tv.LifecyclePhase.Restored),u.Registry.as(tQ.Extensions.Configuration).registerConfiguration({...t1.editorConfigurationBaseNode,properties:{[t6.configName]:{description:(0,r.localize)(6743,"Defines a default formatter which takes precedence over all other formatter settings. Must be the identifier of an extension contributing a formatter."),type:["string","null"],default:null,enum:t6.extensionIds,enumItemLabels:t6.extensionItemLabels,markdownEnumDescriptions:t6.extensionDescriptions}}}),(0,tq.registerEditorAction)(class extends tq.EditorAction{constructor(){super({id:"editor.action.formatDocument.multiple",label:(0,r.localize)(6747,"Format Document With..."),alias:"Format Document...",precondition:ev.ContextKeyExpr.and(ef.EditorContextKeys.writable,ef.EditorContextKeys.hasMultipleDocumentFormattingProvider),contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t,i){if(!t.hasModel())return;let o=e.get(m.IInstantiationService),n=e.get(td.ITelemetryService),r=e.get(to.ILanguageFeaturesService),s=t.getModel(),a=(0,ts.getRealAndSyntheticDocumentFormattersOrdered)(r.documentFormattingEditProvider,r.documentRangeFormattingEditProvider,s),l=await o.invokeFunction(t9,s,a);"number"==typeof l&&await o.invokeFunction(ts.formatDocumentWithProvider,a[l],t,ts.FormattingMode.Explicit,en.CancellationToken.None),t8(n,"document",a,"number"==typeof l&&a[l]||void 0)}}),(0,tq.registerEditorAction)(class extends tq.EditorAction{constructor(){super({id:"editor.action.formatSelection.multiple",label:(0,r.localize)(6748,"Format Selection With..."),alias:"Format Code...",precondition:ev.ContextKeyExpr.and(ev.ContextKeyExpr.and(ef.EditorContextKeys.writable),ef.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider),contextMenuOpts:{when:ev.ContextKeyExpr.and(ef.EditorContextKeys.hasNonEmptySelection),group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;let i=e.get(m.IInstantiationService),o=e.get(to.ILanguageFeaturesService),n=e.get(td.ITelemetryService),r=t.getModel(),s=t.getSelection();s.isEmpty()&&(s=new e8.Range(s.startLineNumber,1,s.startLineNumber,r.getLineMaxColumn(s.startLineNumber)));let a=o.documentRangeFormattingEditProvider.ordered(r),l=await i.invokeFunction(t9,r,a);"number"==typeof l&&await i.invokeFunction(ts.formatDocumentRangesWithProvider,a[l],t,s,en.CancellationToken.None,!0),t8(n,"range",a,"number"==typeof l&&a[l]||void 0)}}),e.s([],676101);var t7=$,ie=e.i(439351);(0,t7.registerEditorAction)(class extends t7.EditorAction{constructor(){super({id:"editor.action.formatDocument.none",label:(0,r.localize2)(6749,"Format Document"),precondition:ev.ContextKeyExpr.and(ef.EditorContextKeys.writable,ef.EditorContextKeys.hasDocumentFormattingProvider.toNegated()),kbOpts:{kbExpr:ef.EditorContextKeys.editorTextFocus,primary:eg.KeyMod.Shift|eg.KeyMod.Alt|eg.KeyCode.KeyF,linux:{primary:eg.KeyMod.CtrlCmd|eg.KeyMod.Shift|eg.KeyCode.KeyI},weight:eC.KeybindingWeight.EditorContrib}})}async run(e,t){if(!t.hasModel())return;let i=e.get(ez.ICommandService),o=e.get(ie.IExtensionsWorkbenchService),n=e.get(X.INotificationService),s=e.get(t2.IDialogService),a=e.get(to.ILanguageFeaturesService),l=t.getModel(),d=a.documentFormattingEditProvider.all(l).length;if(d>1)return i.executeCommand("editor.action.formatDocument.multiple");if(1===d)return i.executeCommand("editor.action.formatDocument");if(l.isTooLargeForSyncing())n.warn((0,r.localize)(6750,"This file cannot be formatted because it is too large"));else{let e=l.getLanguageId(),t=(0,r.localize)(6751,"There is no formatter for '{0}' files installed.",e),{confirmed:i}=await s.confirm({message:t,primaryButton:(0,r.localize)(6752,"&&Install Formatter...")});i&&o.openSearch(`category:formatters ${e}`)}}}),e.s([],364316)},158367,e=>{"use strict";let t="editor.semanticHighlighting";function i(e,i,o){let n=o.getValue(t,{overrideIdentifier:e.getLanguageId(),resource:e.uri})?.enabled;return"boolean"==typeof n?n:i.getColorTheme().semanticHighlighting}e.s(["SEMANTIC_HIGHLIGHTING_SETTING_ID",()=>t,"isSemanticColoringEnabled",()=>i])},430771,e=>{"use strict";var t=e.i(308165),i=e.i(383962),o=e.i(166253),n=e.i(352700),r=e.i(268850),s=e.i(436120),a=e.i(309187),l=e.i(380755),d=e.i(810602);let c="inQuickOpen",u=new o.RawContextKey(c,!1,(0,i.localize)(3397,"Whether keyboard focus is inside the quick open control")),h=o.ContextKeyExpr.has(c),p="inFilesPicker";function g(e,t){return i=>{let o=i.get(n.IKeybindingService),s=i.get(r.IQuickInputService),a=o.lookupKeybindings(e);s.navigate(!!t,{keybindings:a})}}o.ContextKeyExpr.and(h,o.ContextKeyExpr.has(p));let m=class extends s.Disposable{constructor(e,t){super(),this.editorService=e,this.editorGroupsService=t,this._editorViewState=void 0,this.openedTransientEditors=new Set}set(){if(this._editorViewState)return;let e=this.editorService.activeEditorPane;e&&(this._editorViewState={group:e.group,editor:e.input,state:(0,a.getIEditor)(e.getControl())?.saveViewState()??void 0})}async openTransientEditor(e,t){e.options={...e.options,transient:!0};let i=await this.editorService.openEditor(e,t);return i?.input&&i.input!==this._editorViewState?.editor&&i.group.isTransient(i.input)&&this.openedTransientEditors.add(i.input),i}async restore(){if(this._editorViewState){for(let e of this.openedTransientEditors)if(!e.isDirty())for(let t of this.editorGroupsService.groups)t.isTransient(e)&&await t.closeEditor(e,{preserveFocus:!0});await this._editorViewState.group.openEditor(this._editorViewState.editor,{viewState:this._editorViewState.state,preserveFocus:!0}),this.reset()}}reset(){this._editorViewState=void 0,this.openedTransientEditors.clear()}dispose(){super.dispose(),this.reset()}};m=(0,t.__decorate)([(0,t.__param)(0,d.IEditorService),(0,t.__param)(1,l.IEditorGroupsService)],m),e.s(["InQuickPickContextKey",()=>u,"PickerEditorState",()=>m,"defaultQuickAccessContextKeyValue",()=>p,"getQuickNavigateHandler",()=>g,"inQuickPickContext",()=>h])},994633,393662,71252,659199,e=>{"use strict";class t{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){let i=this.computeEmbedding(e),o=new Map,n=[];for(let[e,r]of this.documents){if(t.isCancellationRequested)return[];for(let t of r.chunks){let r=this.computeSimilarityScore(t,i,o);r>0&&n.push({key:e,score:r})}}return n}static termFrequencies(e){var i=t.splitTerms(e);let o=new Map;for(let e of i)o.set(e,(o.get(e)??0)+1);return o}static*splitTerms(e){let t=e=>e.toLowerCase();for(let[i]of e.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield t(i);let e=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(e.length>1)for(let i of e)i.length>2&&/\p{Letter}{3,}/gu.test(i)&&(yield t(i))}}updateDocuments(e){for(let{key:t}of e)this.deleteDocument(t);for(let i of e){let e=[];for(let o of i.textChunks){let i=t.termFrequencies(o);for(let e of i.keys())this.chunkOccurrences.set(e,(this.chunkOccurrences.get(e)??0)+1);e.push({text:o,tf:i})}this.chunkCount+=e.length,this.documents.set(i.key,{chunks:e})}return this}deleteDocument(e){let t=this.documents.get(e);if(t)for(let i of(this.documents.delete(e),this.chunkCount-=t.chunks.length,t.chunks))for(let e of i.tf.keys()){let t=this.chunkOccurrences.get(e);if("number"==typeof t){let i=t-1;i<=0?this.chunkOccurrences.delete(e):this.chunkOccurrences.set(e,i)}}}computeSimilarityScore(e,t,i){let o=0;for(let[n,r]of Object.entries(t)){let t=e.tf.get(n);if(!t)continue;let s=i.get(n);"number"!=typeof s&&(s=this.computeIdf(n),i.set(n,s)),o+=t*s*r}return o}computeEmbedding(e){let i=t.termFrequencies(e);return this.computeTfidf(i)}computeIdf(e){let t=this.chunkOccurrences.get(e)??0;return t>0?Math.log((this.chunkCount+1)/t):0}computeTfidf(e){let t=Object.create(null);for(let[i,o]of e){let e=this.computeIdf(i);e>0&&(t[i]=o*e)}return t}}function i(e){let t=e.slice(0);t.sort((e,t)=>t.score-e.score);let i=t[0]?.score??0;if(i>0)for(let e of t)e.score/=i;return t}e.s(["TfIdfCalculator",()=>t,"normalizeTfIdfScores",()=>i],994633),(o=n||(n={}))[o.SymbolInformation=1]="SymbolInformation",o[o.CommandInformation=2]="CommandInformation",o[o.SearchInformation=3]="SearchInformation",o[o.SettingInformation=4]="SettingInformation",e.s(["RelatedInformationType",()=>n],393662);var o,n,r,s=e.i(308165),a=e.i(383962),l=e.i(68858),d=e.i(448493),c=e.i(509592),u=e.i(951806),h=e.i(808363),p=e.i(8114),g=e.i(557582),m=e.i(352700),_=e.i(190566),f=e.i(785310),y=e.i(710252);function v(e){let t=[],i=new Map,o=(o,n)=>{if(!i.has(o)){if((i.set(o,!0),"_"!==o[0]&&0!==o.indexOf("vscode."))&&!0!==e.get(o)){if(!n){let e=f.CommandsRegistry.getCommand(o);if(e&&"object"==typeof e.metadata&&(0,l.isNonEmptyArray)(e.metadata.args))return}t.push(o)}}};for(let e of p.MenuRegistry.getMenuItems(p.MenuId.CommandPalette))(0,p.isIMenuItem)(e)&&o(e.command.id,!0);for(let e of y.EditorExtensionsRegistry.getEditorActions())o(e.id,!0);for(let e of f.CommandsRegistry.getCommands().keys())o(e,!1);return t}e.s(["getAllUnboundCommands",()=>v],71252);var C=e.i(839435),b=e.i(976233),S=e.i(883333),w=e.i(166253);let E="keybinding.entry.template",I=(0,a.localize)(11683,"System"),x=(0,a.localize)(11684,"Extension"),D=(0,a.localize)(11685,"User");function k(e,t){let i=t?` +when:${t}`:"";return`@command:${e}${i}`}let A=(0,u.or)(u.matchesPrefix,u.matchesWords,u.matchesContiguousSubString),M=/@command:\s*([^\+]+)/i,L=/\+when:\s*(.+)/i,T=/@source:\s*(user|default|system|extension)/i,R=/@ext:\s*((".+")|([^\s]+))/i,N=/@keybinding:\s*((\".+\")|(\S+))/i,P=r=class extends g.EditorModel{constructor(e,t,i){super(),this.keybindingsService=t,this.extensionService=i,this._keybindingItems=[],this._keybindingItemsSortedByPrecedence=[],this.modifierLabels={ui:h.UILabelProvider.modifierLabels[e],aria:h.AriaLabelProvider.modifierLabels[e],user:h.UserSettingsLabelProvider.modifierLabels[e]}}fetch(e,t=!1){let i=t?this._keybindingItemsSortedByPrecedence:this._keybindingItems,o=M.exec(e);if(o&&o[1]){let t=o[1].trim(),n=i.filter(e=>e.command===t);if(n.length){let i=L.exec(e);if(i&&i[1]){let e=i[1].trim();n=this.filterByWhen(n,t,e)}}return n.map(e=>({id:r.getId(e),keybindingItem:e,templateId:E}))}if(T.test(e))i=this.filterBySource(i,e),e=e.replace(T,"");else{let t=R.exec(e);if(t&&(t[2]||t[3])){let o=t[2]?t[2].substring(1,t[2].length-1):t[3];i=this.filterByExtension(i,o),e=e.replace(R,"")}else{let t=N.exec(e);t&&(t[2]||t[3])&&(e=t[2]||`"${t[3]}"`)}}return(e=e.trim())?this.filterByText(i,e):i.map(e=>({id:r.getId(e),keybindingItem:e,templateId:E}))}filterBySource(e,t){return/@source:\s*default/i.test(t)||/@source:\s*system/i.test(t)?e.filter(e=>e.source===I):/@source:\s*user/i.test(t)?e.filter(e=>e.source===D):/@source:\s*extension/i.test(t)?e.filter(e=>!(0,C.isString)(e.source)||e.source===x):e}filterByExtension(e,t){return t=t.toLowerCase().trim(),e.filter(e=>!(0,C.isString)(e.source)&&(S.ExtensionIdentifier.equals(e.source.identifier,t)||e.source.displayName?.toLowerCase()===t.toLowerCase()))}filterByText(e,t){let i='"'===t.charAt(0),o='"'===t.charAt(t.length-1),n=i&&o;i&&(t=t.substring(1)),o&&(t=t.substring(0,t.length-1));let s=[],a=(t=t.trim()).split(" "),l=this.splitKeybindingWords(a);for(let i of e){let e=new O(this.modifierLabels,i,t,a,l,n);(e.commandIdMatches||e.commandLabelMatches||e.commandDefaultLabelMatches||e.sourceMatches||e.whenMatches||e.keybindingMatches||e.extensionIdMatches||e.extensionLabelMatches)&&s.push({id:r.getId(i),templateId:E,commandLabelMatches:e.commandLabelMatches||void 0,commandDefaultLabelMatches:e.commandDefaultLabelMatches||void 0,keybindingItem:i,keybindingMatches:e.keybindingMatches||void 0,commandIdMatches:e.commandIdMatches||void 0,sourceMatches:e.sourceMatches||void 0,whenMatches:e.whenMatches||void 0,extensionIdMatches:e.extensionIdMatches||void 0,extensionLabelMatches:e.extensionLabelMatches||void 0})}return s}filterByWhen(e,t,i){if(0===e.length)return[];let o=e.filter(e=>e.when===i);if(o.length)return o;let n=e[0].commandLabel,s=new _.ResolvedKeybindingItem(void 0,t,null,w.ContextKeyExpr.deserialize(i),!1,null,!1),a=new Map([[t,n]]);return[r.toKeybindingEntry(t,s,a,this.getExtensionsMapping())]}splitKeybindingWords(e){let t=[];for(let i of e)t.push(...(0,l.coalesce)(i.split("+")));return t}async resolve(e=new Map){let t=this.getExtensionsMapping();this._keybindingItemsSortedByPrecedence=[];let i=new Map;for(let o of this.keybindingsService.getKeybindings())o.command&&(this._keybindingItemsSortedByPrecedence.push(r.toKeybindingEntry(o.command,o,e,t)),i.set(o.command,!0));let o=this.keybindingsService.getDefaultKeybindings().map(e=>e.command);for(let n of v(i)){let i=new _.ResolvedKeybindingItem(void 0,n,null,void 0,-1===o.indexOf(n),null,!1);this._keybindingItemsSortedByPrecedence.push(r.toKeybindingEntry(n,i,e,t))}return this._keybindingItemsSortedByPrecedence=(0,l.distinct)(this._keybindingItemsSortedByPrecedence,e=>r.getId(e)),this._keybindingItems=this._keybindingItemsSortedByPrecedence.slice(0).sort((e,t)=>r.compareKeybindingData(e,t)),super.resolve()}static getId(e){return e.command+(e?.keybinding?.getAriaLabel()??"")+e.when+((0,C.isString)(e.source)?e.source:e.source.identifier.value)}getExtensionsMapping(){let e=new S.ExtensionIdentifierMap;for(let t of this.extensionService.extensions)e.set(t.identifier,t);return e}static compareKeybindingData(e,t){return e.keybinding&&!t.keybinding?-1:t.keybinding&&!e.keybinding?1:e.commandLabel&&!t.commandLabel?-1:t.commandLabel&&!e.commandLabel?1:e.commandLabel&&t.commandLabel&&e.commandLabel!==t.commandLabel?e.commandLabel.localeCompare(t.commandLabel):e.command===t.command?e.keybindingItem.isDefault?1:-1:e.command.localeCompare(t.command)}static toKeybindingEntry(e,t,i,o){let n=p.MenuRegistry.getCommand(e),s=i.get(e),a=D;if(t.isDefault){let e=t.extensionId??(t.resolvedKeybinding?void 0:n?.source?.id);a=e?o.get(e)??x:I}return{keybinding:t.resolvedKeybinding,keybindingItem:t,command:e,commandLabel:r.getCommandLabel(n,s),commandDefaultLabel:r.getCommandDefaultLabel(n),when:t.when?t.when.serialize():"",source:a}}static getCommandDefaultLabel(e){if(!c.Language.isDefaultVariant()&&e&&e.title&&e.title.original){let t=e.category?e.category.original:void 0,i=e.title.original;return t?(0,a.localize)(11686,"{0}: {1}",t,i):i}return null}static getCommandLabel(e,t){if(e){let t=e.category?"string"==typeof e.category?e.category:e.category.value:void 0,i="string"==typeof e.title?e.title:e.title.value;return t?(0,a.localize)(11686,"{0}: {1}",t,i):i}return t||""}};P=r=(0,s.__decorate)([(0,s.__param)(1,m.IKeybindingService),(0,s.__param)(2,b.IExtensionService)],P);class O{constructor(e,t,i,o,n,r){this.modifierLabels=e,this.commandIdMatches=null,this.commandLabelMatches=null,this.commandDefaultLabelMatches=null,this.sourceMatches=null,this.whenMatches=null,this.keybindingMatches=null,this.extensionIdMatches=null,this.extensionLabelMatches=null,r||(this.commandIdMatches=this.matches(i,t.command,(0,u.or)(u.matchesWords,u.matchesCamelCase),o),this.commandLabelMatches=t.commandLabel?this.matches(i,t.commandLabel,(e,i)=>(0,u.matchesWords)(e,t.commandLabel,!0),o):null,this.commandDefaultLabelMatches=t.commandDefaultLabel?this.matches(i,t.commandDefaultLabel,(e,i)=>(0,u.matchesWords)(e,t.commandDefaultLabel,!0),o):null,this.whenMatches=t.when?this.matches(null,t.when,(0,u.or)(u.matchesWords,u.matchesCamelCase),o):null,(0,C.isString)(t.source)?this.sourceMatches=this.matches(i,t.source,(e,i)=>(0,u.matchesWords)(e,t.source,!0),o):this.extensionLabelMatches=t.source.displayName?this.matches(i,t.source.displayName,(e,i)=>(0,u.matchesWords)(e,t.commandLabel,!0),o):null),this.keybindingMatches=t.keybinding?this.matchesKeybinding(t.keybinding,i,n,r):null}matches(e,t,i,o){let n=e?A(e,t):null;return n||(n=this.matchesWords(o,t,i)),n&&(n=this.filterAndSort(n)),n}matchesWords(e,t,i){let o=[];for(let n of e){let e=i(n,t);if(e)o=[...o||[],...e];else{o=null;break}}return o}filterAndSort(e){return(0,l.distinct)(e,e=>e.start+"."+e.end).filter(t=>!e.some(e=>(e.start!==t.start||e.end!==t.end)&&e.start<=t.start&&e.end>=t.end)).sort((e,t)=>e.start-t.start)}matchesKeybinding(e,t,i,o){let[n,r]=e.getChords(),s=e.getUserSettingsLabel(),a=e.getAriaLabel(),l=e.getLabel();if(s&&0===(0,d.compareIgnoreCase)(t,s)||a&&0===(0,d.compareIgnoreCase)(t,a)||l&&0===(0,d.compareIgnoreCase)(t,l))return{firstPart:this.createCompleteMatch(n),chordPart:this.createCompleteMatch(r)};let c={},u={},h=[],p=[],g=[],m=!0;for(let e=0;e<i.length;e++){let t=i[e],s=!1,a=!1;m=m&&!c.keyCode;let l=!u.keyCode;if(m&&(s=this.matchPart(n,c,t,o),c.keyCode)){for(let e of g)-1===p.indexOf(e)&&h.splice(h.indexOf(e),1);u={},g=[],l=!1}l&&(a=this.matchPart(r,u,t,o)),s&&p.push(e),a&&g.push(e),(s||a)&&h.push(e),m=m&&this.isModifier(t)}return h.length===i.length&&(!o||this.isCompleteMatch(n,c)&&((0,C.isEmptyObject)(u)||this.isCompleteMatch(r,u)))?this.hasAnyMatch(c)||this.hasAnyMatch(u)?{firstPart:c,chordPart:u}:null:null}matchPart(e,t,i,o){let n=!1;return this.matchesMetaModifier(e,i)&&(n=!0,t.metaKey=!0),this.matchesCtrlModifier(e,i)&&(n=!0,t.ctrlKey=!0),this.matchesShiftModifier(e,i)&&(n=!0,t.shiftKey=!0),this.matchesAltModifier(e,i)&&(n=!0,t.altKey=!0),this.matchesKeyCode(e,i,o)&&(t.keyCode=!0,n=!0),n}matchesKeyCode(e,t,i){if(!e)return!1;let o=e.keyAriaLabel||"";if(i||1===o.length||1===t.length){if(0===(0,d.compareIgnoreCase)(o,t))return!0}else if((0,u.matchesContiguousSubString)(t,o))return!0;return!1}matchesMetaModifier(e,t){return!!e&&!!e.metaKey&&this.wordMatchesMetaModifier(t)}matchesCtrlModifier(e,t){return!!e&&!!e.ctrlKey&&this.wordMatchesCtrlModifier(t)}matchesShiftModifier(e,t){return!!e&&!!e.shiftKey&&this.wordMatchesShiftModifier(t)}matchesAltModifier(e,t){return!!e&&!!e.altKey&&this.wordMatchesAltModifier(t)}hasAnyMatch(e){return!!e.altKey||!!e.ctrlKey||!!e.metaKey||!!e.shiftKey||!!e.keyCode}isCompleteMatch(e,t){return!e||!!t.keyCode&&(!e.metaKey||!!t.metaKey)&&(!e.altKey||!!t.altKey)&&(!e.ctrlKey||!!t.ctrlKey)&&(!e.shiftKey||!!t.shiftKey)}createCompleteMatch(e){let t={};return e&&(t.keyCode=!0,e.metaKey&&(t.metaKey=!0),e.altKey&&(t.altKey=!0),e.ctrlKey&&(t.ctrlKey=!0),e.shiftKey&&(t.shiftKey=!0)),t}isModifier(e){return!!(this.wordMatchesAltModifier(e)||this.wordMatchesCtrlModifier(e)||this.wordMatchesMetaModifier(e)||this.wordMatchesShiftModifier(e))}wordMatchesAltModifier(e){return!!((0,d.equalsIgnoreCase)(this.modifierLabels.ui.altKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.aria.altKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.user.altKey,e)||(0,d.equalsIgnoreCase)((0,a.localize)(11687,"option"),e))}wordMatchesCtrlModifier(e){return!!((0,d.equalsIgnoreCase)(this.modifierLabels.ui.ctrlKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.aria.ctrlKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.user.ctrlKey,e))}wordMatchesMetaModifier(e){return!!((0,d.equalsIgnoreCase)(this.modifierLabels.ui.metaKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.aria.metaKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.user.metaKey,e)||(0,d.equalsIgnoreCase)((0,a.localize)(11688,"meta"),e))}wordMatchesShiftModifier(e){return!!((0,d.equalsIgnoreCase)(this.modifierLabels.ui.shiftKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.aria.shiftKey,e)||(0,d.equalsIgnoreCase)(this.modifierLabels.user.shiftKey,e))}}e.s(["KEYBINDING_ENTRY_TEMPLATE_ID",()=>E,"KeybindingsEditorModel",()=>P,"createKeybindingCommandQuery",()=>k],659199)},565323,71786,49811,197379,817061,561126,967226,974317,734709,1010,92121,199511,591921,329381,259206,860906,647564,547184,267026,609746,977574,814793,e=>{"use strict";let t=[];function i(e){t.push(e)}function o(){return t.slice(0)}e.s(["getEditorFeatures",()=>o,"registerEditorFeature",()=>i],565323),e.s(["showWindowLogActionId",()=>"workbench.action.showWindowLog","windowLogId",()=>"rendererLog"],71786);var n,r,s,a,l,d,c,u,h,p,g,m,_,f,y,v,C,b=e.i(395806),S=e.i(332217),w=e.i(436120),E=e.i(521549);(0,E.default)(".monaco-editor .bracket-match{background-color:var(--vscode-editorBracketMatch-background);border:1px solid var(--vscode-editorBracketMatch-border);box-sizing:border-box}",{});var I=e.i(710252),x=e.i(918299),D=e.i(747053),k=e.i(475424),A=e.i(91418),M=e.i(716526),L=e.i(13310),T=e.i(341541),R=e.i(383962),N=e.i(8114),P=e.i(564485),O=e.i(945588),F=e.i(786480);e.i(184765);var K=e.i(537397),W=e.i(765809);e.i(491481),e.i(827678);var z=e.i(789672);e.i(847307),e.i(491120),e.i(165071);var V=e.i(307955);let B=(0,O.registerColor)("editorOverviewRuler.bracketMatchForeground","#A0A0A0",(0,R.localize)(827,"Overview ruler marker color for matching brackets."));class H extends I.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:(0,R.localize2)(828,"Go to Bracket"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.Backslash,weight:P.KeybindingWeight.EditorContrib}})}run(e,t){$.get(t)?.jumpToBracket()}}class U extends I.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:(0,R.localize2)(829,"Select to Bracket"),precondition:void 0,metadata:{description:(0,R.localize2)(830,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){let o=!0;i&&!1===i.selectBrackets&&(o=!1),$.get(t)?.selectToBracket(o)}}class G extends I.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:(0,R.localize2)(831,"Remove Brackets"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.Backspace,weight:P.KeybindingWeight.EditorContrib}})}run(e,t){$.get(t)?.removeBrackets(this.id)}}class q{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class $ extends w.Disposable{static{this.ID="editor.contrib.bracketMatchingController"}static get(e){return e.getContribution($.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new b.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(x.EditorOption.matchBrackets),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(x.EditorOption.matchBrackets)&&(this._matchBrackets=this._editor.getOption(x.EditorOption.matchBrackets),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getSelections().map(t=>{let i=t.getStartPosition(),o=e.bracketPairs.matchBracket(i),n=null;if(o)o[0].containsPosition(i)&&!o[1].containsPosition(i)?n=o[1].getStartPosition():o[1].containsPosition(i)&&(n=o[0].getStartPosition());else{let t=e.bracketPairs.findEnclosingBrackets(i);if(t)n=t[1].getStartPosition();else{let t=e.bracketPairs.findNextBracket(i);t&&t.range&&(n=t.range.getStartPosition())}}return n?new A.Selection(n.lineNumber,n.column,n.lineNumber,n.column):new A.Selection(i.lineNumber,i.column,i.lineNumber,i.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(o=>{let n=o.getStartPosition(),r=t.bracketPairs.matchBracket(n);if(!r&&!(r=t.bracketPairs.findEnclosingBrackets(n))){let e=t.bracketPairs.findNextBracket(n);e&&e.range&&(r=t.bracketPairs.matchBracket(e.range.getStartPosition()))}let s=null,a=null;if(r){r.sort(k.Range.compareRangesUsingStarts);let[t,i]=r;if(s=e?t.getStartPosition():t.getEndPosition(),a=e?i.getEndPosition():i.getStartPosition(),i.containsPosition(n)){let e=s;s=a,a=e}}s&&a&&i.push(new A.Selection(s.lineNumber,s.column,a.lineNumber,a.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;let t=this._editor.getModel();this._editor.getSelections().forEach(i=>{let o=i.getPosition(),n=t.bracketPairs.matchBracket(o);n||(n=t.bracketPairs.findEnclosingBrackets(o)),n&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:n[0],text:""},{range:n[1],text:""}]),this._editor.pushUndoStop())})}static{this._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=T.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match",overviewRuler:{color:(0,V.themeColorFromId)(B),position:L.OverviewRulerLane.Center}})}static{this._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=T.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match"})}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(let i of this._lastBracketsData){let o=i.brackets;o&&(e[t++]={range:o[0],options:i.options},e[t++]={range:o[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getModel(),i=t.getVersionId(),o=[];this._lastVersionId===i&&(o=this._lastBracketsData);let n=[],r=0;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.isEmpty()&&(n[r++]=i.getStartPosition())}n.length>1&&n.sort(D.Position.compare);let s=[],a=0,l=0,d=o.length;for(let e=0,i=n.length;e<i;e++){let i=n[e];for(;l<d&&o[l].position.isBefore(i);)l++;if(l<d&&o[l].position.equals(i))s[a++]=o[l];else{let e=t.bracketPairs.matchBracket(i,20),o=$._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;e||"always"!==this._matchBrackets||(e=t.bracketPairs.findEnclosingBrackets(i,20),o=$._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),s[a++]=new q(i,e,o)}}this._lastBracketsData=s,this._lastVersionId=i}}(0,I.registerEditorContribution)($.ID,$,I.EditorContributionInstantiation.AfterFirstRender),(0,I.registerEditorAction)(U),(0,I.registerEditorAction)(H),(0,I.registerEditorAction)(G),N.MenuRegistry.appendMenuItem(N.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:(0,R.localize)(832,"Go to &&Bracket")},order:2}),e.s(["BracketMatchingController",()=>$],49811);var j=e.i(110976),Q=e.i(141212),Y=e.i(509592),Z=e.i(68174),X=e.i(166253),J=e.i(768412),ee=e.i(379835),et=I,ei=e.i(247921),eo=e.i(236924),en=e.i(176921);let er="9_cutcopypaste",es=Y.isNative||document.queryCommandSupported("cut"),ea=Y.isNative||document.queryCommandSupported("copy"),el=void 0!==navigator.clipboard&&!j.isFirefox||document.queryCommandSupported("paste");function ed(e){return e.register(),e}let ec=es?ed(new et.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Y.isNative?{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyX,win:{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyX,secondary:[S.KeyMod.Shift|S.KeyCode.Delete]},weight:P.KeybindingWeight.EditorContrib}:void 0,menuOpts:[{menuId:N.MenuId.MenubarEditMenu,group:"2_ccp",title:(0,R.localize)(836,"Cu&&t"),order:1},{menuId:N.MenuId.EditorContext,group:er,title:(0,R.localize)(837,"Cut"),when:M.EditorContextKeys.writable,order:1},{menuId:N.MenuId.CommandPalette,group:"",title:(0,R.localize)(837,"Cut"),order:1},{menuId:N.MenuId.SimpleEditorContext,group:er,title:(0,R.localize)(837,"Cut"),when:M.EditorContextKeys.writable,order:1}]})):void 0,eu=ea?ed(new et.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Y.isNative?{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyC,win:{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyC,secondary:[S.KeyMod.CtrlCmd|S.KeyCode.Insert]},weight:P.KeybindingWeight.EditorContrib}:void 0,menuOpts:[{menuId:N.MenuId.MenubarEditMenu,group:"2_ccp",title:(0,R.localize)(838,"&&Copy"),order:2},{menuId:N.MenuId.EditorContext,group:er,title:(0,R.localize)(839,"Copy"),order:2},{menuId:N.MenuId.CommandPalette,group:"",title:(0,R.localize)(839,"Copy"),order:1},{menuId:N.MenuId.SimpleEditorContext,group:er,title:(0,R.localize)(839,"Copy"),order:2}]})):void 0;N.MenuRegistry.appendMenuItem(N.MenuId.MenubarEditMenu,{submenu:N.MenuId.MenubarCopy,title:(0,R.localize2)(840,"Copy As"),group:"2_ccp",order:3}),N.MenuRegistry.appendMenuItem(N.MenuId.EditorContext,{submenu:N.MenuId.EditorContextCopy,title:(0,R.localize2)(840,"Copy As"),group:er,order:3}),N.MenuRegistry.appendMenuItem(N.MenuId.EditorContext,{submenu:N.MenuId.EditorContextShare,title:(0,R.localize2)(841,"Share"),group:"11_share",order:-1,when:X.ContextKeyExpr.and(X.ContextKeyExpr.notEquals("resourceScheme","output"),M.EditorContextKeys.editorTextFocus)}),N.MenuRegistry.appendMenuItem(N.MenuId.ExplorerContext,{submenu:N.MenuId.ExplorerContextShare,title:(0,R.localize2)(841,"Share"),group:"11_share",order:-1});let eh=el?ed(new et.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Y.isNative?{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyV,win:{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyV,secondary:[S.KeyMod.Shift|S.KeyCode.Insert]},linux:{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyV,secondary:[S.KeyMod.Shift|S.KeyCode.Insert]},weight:P.KeybindingWeight.EditorContrib}:void 0,menuOpts:[{menuId:N.MenuId.MenubarEditMenu,group:"2_ccp",title:(0,R.localize)(842,"&&Paste"),order:4},{menuId:N.MenuId.EditorContext,group:er,title:(0,R.localize)(843,"Paste"),when:M.EditorContextKeys.writable,order:4},{menuId:N.MenuId.CommandPalette,group:"",title:(0,R.localize)(843,"Paste"),order:1},{menuId:N.MenuId.SimpleEditorContext,group:er,title:(0,R.localize)(843,"Paste"),when:M.EditorContextKeys.writable,order:4}]})):void 0;class ep extends et.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:(0,R.localize2)(844,"Copy With Syntax Highlighting"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.textInputFocus,primary:0,weight:P.KeybindingWeight.EditorContrib}})}run(e,t){!t.hasModel()||!t.getOption(x.EditorOption.emptySelectionClipboard)&&t.getSelection().isEmpty()||(J.CopyOptions.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),J.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function eg(e,t){e&&(e.addImplementation(1e4,"code-editor",(e,i)=>{let o=e.get(ei.ICodeEditorService).getFocusedCodeEditor();if(o&&o.hasTextFocus()){let e=o.getOption(x.EditorOption.emptySelectionClipboard),i=o.getSelection();return!!(i&&i.isEmpty())&&!e||(o.getOption(x.EditorOption.experimentalEditContextEnabled)&&"cut"===t?(o.getContainerDomNode().ownerDocument.execCommand("copy"),o.trigger(void 0,eo.Handler.Cut,void 0)):o.getContainerDomNode().ownerDocument.execCommand(t),!0)}return!1}),e.addImplementation(0,"generic-dom",(e,i)=>((0,Q.getActiveDocument)().execCommand(t),!0)))}eg(ec,"cut"),eg(eu,"copy"),eh&&(eh.addImplementation(1e4,"code-editor",(e,t)=>{let i=e.get(ei.ICodeEditorService),o=e.get(Z.IClipboardService),n=i.getFocusedCodeEditor();if(n&&n.hasModel()&&n.hasTextFocus()){let e;if(n.getOption(x.EditorOption.experimentalEditContextEnabled)){let t=ee.NativeEditContextRegistry.get(n.getId());if(t){let i=t.textArea;t.onWillPaste(),i.focus(),e=n.getContainerDomNode().ownerDocument.execCommand("paste"),i.domNode.textContent="",t.domNode.focus()}else e=!1}else e=n.getContainerDomNode().ownerDocument.execCommand("paste");return e?en.CopyPasteController.get(n)?.finishedPaste()??Promise.resolve():!Y.isWeb||(async()=>{let e=await o.readText();if(""!==e){let t=J.InMemoryClipboardMetadataManager.INSTANCE.get(e),i=!1,o=null,r=null;t&&(i=n.getOption(x.EditorOption.emptySelectionClipboard)&&!!t.isFromEmptySelection,o=void 0!==t.multicursorText?t.multicursorText:null,r=t.mode),n.trigger("keyboard",eo.Handler.Paste,{text:e,pasteOnNewLine:i,multicursorText:o,mode:r})}})()}return!1}),eh.addImplementation(0,"generic-dom",(e,t)=>((0,Q.getActiveDocument)().execCommand("paste"),!0))),ea&&(0,et.registerEditorAction)(ep),e.s(["CopyAction",()=>eu,"CutAction",()=>ec,"PasteAction",()=>eh],197379);var em=e.i(308165),e_=w,ef=e.i(448493),ey=I,ev=e.i(425156),eC=e.i(374267),eb=e.i(756600),eS=e.i(515888),ew=e.i(488131),eE=e.i(887122);class eI{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let e=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){let t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){let t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){for(let t of this._editor.getModel().getDecorationsInRange(e)){let e=t.options;if(e===eI._FIND_MATCH_DECORATION||e===eI._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(t.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let o=0,n=this._decorations.length;o<n;o++){let n=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(n)){t=this._decorations[o],i=o+1;break}}return(null!==this._highlightedDecorationId||null!==t)&&this._editor.changeDecorations(e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,eI._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,eI._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){let e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new k.Range(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,eI._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let o=eI._FIND_MATCH_DECORATION,n=[];if(e.length>1e3){o=eI._FIND_MATCH_NO_OVERVIEW_DECORATION;let t=this._editor.getModel().getLineCount(),i=Math.max(2,Math.ceil(3/(this._editor.getLayoutInfo().height/t))),r=e[0].range.startLineNumber,s=e[0].range.endLineNumber;for(let t=1,o=e.length;t<o;t++){let o=e[t].range;s+i>=o.startLineNumber?o.endLineNumber>s&&(s=o.endLineNumber):(n.push({range:new k.Range(r,1,s,1),options:eI._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=o.startLineNumber,s=o.endLineNumber)}n.push({range:new k.Range(r,1,s,1),options:eI._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let r=Array(e.length);for(let t=0,i=e.length;t<i;t++)r[t]={range:e[t].range,options:o};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(e=>i.removeDecoration(e)),this._findScopeDecorationIds=[]),t?.length&&(this._findScopeDecorationIds=t.map(e=>i.addDecoration(e,eI._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.endLineNumber>e.lineNumber)&&(o.endLineNumber<e.lineNumber||!(o.endColumn>e.column)))return o}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){let i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.startLineNumber<e.lineNumber)&&(o.startLineNumber>e.lineNumber||!(o.startColumn<e.column)))return o}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=(e=e.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}static{this._CURRENT_FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"current-find-match",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,V.themeColorFromId)(K.overviewRulerFindMatchForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,V.themeColorFromId)(z.minimapFindMatch),position:L.MinimapPosition.Inline}})}static{this._FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"find-match",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,V.themeColorFromId)(K.overviewRulerFindMatchForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,V.themeColorFromId)(z.minimapFindMatch),position:L.MinimapPosition.Inline}})}static{this._FIND_MATCH_NO_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:!0})}static{this._FIND_MATCH_ONLY_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,overviewRuler:{color:(0,V.themeColorFromId)(K.overviewRulerFindMatchForeground),position:L.OverviewRulerLane.Center}})}static{this._RANGE_HIGHLIGHT_DECORATION=T.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0})}static{this._FIND_SCOPE_DECORATION=T.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}}e.s(["FindDecorations",()=>eI],817061);class ex{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort((e,t)=>k.Range.compareRangesUsingStarts(e.range,t.range));let i=[],o=e[0];for(let t=1;t<e.length;t++)o.range.endLineNumber===e[t].range.startLineNumber&&o.range.endColumn===e[t].range.startColumn?(o.range=o.range.plusRange(e[t].range),o.text=o.text+e[t].text):(i.push(o),o=e[t]);for(let e of(i.push(o),i))t.addEditOperation(e.range,e.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}var eD=e.i(266931);function ek(e,t){if(!e||""===e[0])return t;{let i=eA(e,t,"-"),o=eA(e,t,"_");if(i&&!o)return eM(e,t,"-");if(!i&&o)return eM(e,t,"_");if(e[0].toUpperCase()===e[0])return t.toUpperCase();if(e[0].toLowerCase()===e[0])return t.toLowerCase();if((0,ef.containsUppercaseCharacter)(e[0][0])&&t.length>0)return t[0].toUpperCase()+t.substr(1);else if(e[0][0].toUpperCase()!==e[0][0]&&t.length>0)return t[0].toLowerCase()+t.substr(1);else return t}}function eA(e,t,i){return -1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function eM(e,t,i){let o=t.split(i),n=e[0].split(i),r="";return o.forEach((e,t)=>{r+=ek([n[t]],e)+i}),r.slice(0,-1)}e.s(["buildReplaceStringWithCasePreserved",()=>ek],561126),(n=a||(a={}))[n.StaticValue=0]="StaticValue",n[n.DynamicPieces=1]="DynamicPieces";class eL{constructor(e){this.staticValue=e,this.kind=a.StaticValue}}class eT{constructor(e){this.pieces=e,this.kind=a.DynamicPieces}}class eR{static fromStaticValue(e){return new eR([eN.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===a.DynamicPieces}constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new eL(e[0].staticValue):this._state=new eT(e):this._state=new eL("")}buildReplaceString(e,t){if(this._state.kind===a.StaticValue)if(t)return ek(e,this._state.staticValue);else return this._state.staticValue;let i="";for(let t=0,o=this._state.pieces.length;t<o;t++){let o=this._state.pieces[t];if(null!==o.staticValue){i+=o.staticValue;continue}let n=eR._substitute(o.matchIndex,e);if(null!==o.caseOps&&o.caseOps.length>0){let e=[],t=o.caseOps.length,i=0;for(let r=0,s=n.length;r<s;r++){if(i>=t){e.push(n.slice(r));break}switch(o.caseOps[i]){case"U":e.push(n[r].toUpperCase());break;case"u":e.push(n[r].toUpperCase()),i++;break;case"L":e.push(n[r].toLowerCase());break;case"l":e.push(n[r].toLowerCase()),i++;break;default:e.push(n[r])}}n=e.join("")}i+=n}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class eN{static staticValue(e){return new eN(e,-1,null)}static matchIndex(e){return new eN(null,e,null)}static caseOps(e,t){return new eN(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}}class eP{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=eN.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=eN.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=eN.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new eR(this._result)}}function eO(e){if(!e||0===e.length)return new eR(null);let t=[],i=new eP(e);for(let o=0,n=e.length;o<n;o++){let r=e.charCodeAt(o);if(r===eD.CharCode.Backslash){if(++o>=n)break;let r=e.charCodeAt(o);switch(r){case eD.CharCode.Backslash:i.emitUnchanged(o-1),i.emitStatic("\\",o+1);break;case eD.CharCode.n:i.emitUnchanged(o-1),i.emitStatic("\n",o+1);break;case eD.CharCode.t:i.emitUnchanged(o-1),i.emitStatic("	",o+1);break;case eD.CharCode.u:case eD.CharCode.U:case eD.CharCode.l:case eD.CharCode.L:i.emitUnchanged(o-1),i.emitStatic("",o+1),t.push(String.fromCharCode(r))}continue}if(r===eD.CharCode.DollarSign){if(++o>=n)break;let r=e.charCodeAt(o);if(r===eD.CharCode.DollarSign){i.emitUnchanged(o-1),i.emitStatic("$",o+1);continue}if(r===eD.CharCode.Digit0||r===eD.CharCode.Ampersand){i.emitUnchanged(o-1),i.emitMatchIndex(0,o+1,t),t.length=0;continue}if(eD.CharCode.Digit1<=r&&r<=eD.CharCode.Digit9){let s=r-eD.CharCode.Digit0;if(o+1<n){let n=e.charCodeAt(o+1);if(eD.CharCode.Digit0<=n&&n<=eD.CharCode.Digit9){o++,s=10*s+(n-eD.CharCode.Digit0),i.emitUnchanged(o-2),i.emitMatchIndex(s,o+1,t),t.length=0;continue}}i.emitUnchanged(o-1),i.emitMatchIndex(s,o+1,t),t.length=0;continue}}}return i.finalize()}e.s(["ReplacePattern",()=>eR,"parseReplaceString",()=>eO],967226);let eF=new X.RawContextKey("findWidgetVisible",!1),eK=eF.toNegated(),eW=new X.RawContextKey("findInputFocussed",!1),ez=new X.RawContextKey("replaceInputFocussed",!1),eV={primary:S.KeyMod.Alt|S.KeyCode.KeyC,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.KeyC}},eB={primary:S.KeyMod.Alt|S.KeyCode.KeyW,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.KeyW}},eH={primary:S.KeyMod.Alt|S.KeyCode.KeyR,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.KeyR}},eU={primary:S.KeyMod.Alt|S.KeyCode.KeyL,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.KeyL}},eG={primary:S.KeyMod.Alt|S.KeyCode.KeyP,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.KeyP}},eq={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"};class e${constructor(e,t){this._toDispose=new w.DisposableStore,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new b.TimeoutTimer,this._decorations=new eI(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new b.RunOnceScheduler(()=>{if(this._editor.hasModel())return this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(e=>{(e.reason===ew.CursorChangeReason.Explicit||e.reason===ew.CursorChangeReason.Undo||e.reason===ew.CursorChangeReason.Redo)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,w.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map(e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new k.Range(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e}));let o=this._findMatches(i,!1,19999);this._decorations.set(o,i);let n=this._editor.getSelection(),r=this._decorations.getCurrentMatchesPosition(n);if(0===r&&o.length>0){let e=(0,eC.findFirstIdxMonotonousOrArrLen)(o.map(e=>e.range),e=>k.Range.compareRangesUsingStarts(e,n)>=0);r=e>0?e-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(x.EditorOption.find).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,eo.ScrollType.Smooth),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,eo.ScrollType.Smooth)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=e,n=this._editor.getModel();return t||1===o?(1===i?i=n.getLineCount():i--,o=n.getLineMaxColumn(i)):o--,new D.Position(i,o)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){let t=this._decorations.matchAfterPosition(e);t&&this._setCurrentFindMatch(t);return}if(19999>this._decorations.getCount()){let t=this._decorations.matchBeforePosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),t&&this._setCurrentFindMatch(t);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),o=e$._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(e)&&(e=o.getEndPosition()),e.isBefore(o.getStartPosition())&&(e=o.getEndPosition());let{lineNumber:n,column:r}=e,s=this._editor.getModel(),a=new D.Position(n,r),l=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1);if(l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1)),l){if(!t&&!o.containsRange(l.range))return this._moveToPrevMatch(l.range.getStartPosition(),!0);this._setCurrentFindMatch(l.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=e,n=this._editor.getModel();return t||o===n.getLineMaxColumn(i)?(i===n.getLineCount()?i=1:i++,o=1):o++,new D.Position(i,o)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){let t=this._decorations.matchBeforePosition(e);t&&this._setCurrentFindMatch(t);return}if(19999>this._decorations.getCount()){let t=this._decorations.matchAfterPosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),t&&this._setCurrentFindMatch(t);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,o=!1){if(this._cannotFind())return null;let n=this._decorations.getFindScope(),r=e$._getSearchRange(this._editor.getModel(),n);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());let{lineNumber:s,column:a}=e,l=this._editor.getModel(),d=new D.Position(s,a),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,t);return(i&&c&&c.range.isEmpty()&&c.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,t)),c)?o||r.containsRange(c.range)?c:this._getNextMatch(c.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){let t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?eO(this._state.replaceString):eR.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let o=e.buildReplaceString(i.matches,this._state.preserveCase),n=new eS.ReplaceCommand(t,o);this._executeEditorCommand("replace",n),this._decorations.setStartPosition(new D.Position(t.startLineNumber,t.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){let o=(e||[null]).map(e=>e$._getSearchRange(this._editor.getModel(),e));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,t,i)}replaceAll(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){let e,t=new eE.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let e="mu";i.ignoreCase&&(e+="i"),i.global&&(e+="g"),i=new RegExp(i.source,e)}let o=this._editor.getModel(),n=o.getValue(L.EndOfLinePreference.LF),r=o.getFullModelRange(),s=this._getReplacePattern(),a=this._state.preserveCase;e=s.hasReplacementPatterns||a?n.replace(i,function(){return s.buildReplaceString(arguments,a)}):n.replace(i,s.buildReplaceString(null,a));let l=new eS.ReplaceCommandThatPreservesSelection(r,e,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){let t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,eb.Constants.MAX_SAFE_SMALL_INTEGER),o=[];for(let e=0,n=i.length;e<n;e++)o[e]=t.buildReplaceString(i[e].matches,this._state.preserveCase);let n=new ex(this._editor.getSelection(),i.map(e=>e.range),o);this._executeEditorCommand("replaceAll",n)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,eb.Constants.MAX_SAFE_SMALL_INTEGER).map(e=>new A.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)),i=this._editor.getSelection();for(let e=0,o=t.length;e<o;e++)if(t[e].equalsRange(i)){t=[i].concat(t.slice(0,e)).concat(t.slice(e+1));break}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.s(["CONTEXT_FIND_INPUT_FOCUSED",()=>eW,"CONTEXT_FIND_WIDGET_NOT_VISIBLE",()=>eK,"CONTEXT_FIND_WIDGET_VISIBLE",()=>eF,"CONTEXT_REPLACE_INPUT_FOCUSED",()=>ez,"FIND_IDS",()=>eq,"FindModelBoundToEditorModel",()=>e$,"MATCHES_LIMIT",()=>19999,"ToggleCaseSensitiveKeybinding",()=>eV,"TogglePreserveCaseKeybinding",()=>eG,"ToggleRegexKeybinding",()=>eH,"ToggleSearchScopeKeybinding",()=>eU,"ToggleWholeWordKeybinding",()=>eB],974317),(0,E.default)(".monaco-editor .findOptionsWidget{background-color:var(--vscode-editorWidget-background);border:2px solid var(--vscode-contrastBorder);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);color:var(--vscode-editorWidget-foreground)}",{});var ej=e.i(669373),eQ=e.i(403197),eY=e.i(309187),eZ=e.i(120337);class eX extends eQ.Widget{static{this.ID="editor.contrib.findOptionsWidget"}constructor(e,t,i){super(),this._hideSoon=this._register(new b.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o={inputActiveOptionBorder:(0,O.asCssVariable)(W.inputActiveOptionBorder),inputActiveOptionForeground:(0,O.asCssVariable)(W.inputActiveOptionForeground),inputActiveOptionBackground:(0,O.asCssVariable)(W.inputActiveOptionBackground)},n=this._register((0,eZ.createInstantHoverDelegate)());this.caseSensitive=this._register(new ej.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(eq.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:n,...o})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ej.WholeWordsToggle({appendTitle:this._keybindingLabelFor(eq.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:n,...o})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new ej.RegexToggle({appendTitle:this._keybindingLabelFor(eq.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:n,...o})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register((0,Q.addDisposableListener)(this._domNode,Q.EventType.MOUSE_LEAVE,e=>this._onMouseLeave())),this._register((0,Q.addDisposableListener)(this._domNode,"mouseover",e=>this._onMouseOver()))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return eX.ID}getDomNode(){return this._domNode}getPosition(){return{preference:eY.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}var eJ=e.i(145384),e0=w;function e1(e,t){return e===l.True||e!==l.False&&t}(r=l||(l={}))[r.NotSet=0]="NotSet",r[r.True=1]="True",r[r.False=2]="False";class e2 extends e0.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return e1(this._isRegexOverride,this._isRegex)}get wholeWord(){return e1(this._wholeWordOverride,this._wholeWord)}get matchCase(){return e1(this._matchCaseOverride,this._matchCase)}get preserveCase(){return e1(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}get isSearching(){return this._isSearching}get filters(){return this._filters}constructor(){super(),this._onFindReplaceStateChange=this._register(new eJ.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=l.NotSet,this._wholeWord=!1,this._wholeWordOverride=l.NotSet,this._matchCase=!1,this._matchCaseOverride=l.NotSet,this._preserveCase=!1,this._preserveCaseOverride=l.NotSet,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},n=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,n=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,n=!0),void 0===i||k.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o.currentMatch=!0,n=!0),n&&this._onFindReplaceStateChange.fire(o)}change(e,t,i=!0){let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},n=!1,r=this.isRegex,s=this.wholeWord,a=this.matchCase,d=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,n=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,n=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,n=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,n=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0===e.searchScope||e.searchScope?.every(e=>this._searchScope?.some(t=>!k.Range.equalsRange(t,e)))||(this._searchScope=e.searchScope,o.searchScope=!0,n=!0),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,n=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,n=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,n=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:l.NotSet,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:l.NotSet,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:l.NotSet,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:l.NotSet,r!==this.isRegex&&(n=!0,o.isRegex=!0),s!==this.wholeWord&&(n=!0,o.wholeWord=!0),a!==this.matchCase&&(n=!0,o.matchCase=!0),d!==this.preserveCase&&(n=!0,o.preserveCase=!0),n&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=19999}}e.s(["FindOptionOverride",()=>l,"FindReplaceState",()=>e2],734709);var e3=e.i(211023),e5=e.i(309073),e4=e.i(258529),e6=eQ,e8=e.i(304729),e9=e.i(394839);(0,E.default)(".monaco-editor .find-widget{background-color:var(--vscode-editorWidget-background);border-bottom:1px solid var(--vscode-widget-border);border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-left:1px solid var(--vscode-widget-border);border-right:1px solid var(--vscode-widget-border);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);box-sizing:border-box;color:var(--vscode-editorWidget-foreground);height:33px;line-height:19px;overflow:hidden;padding:0 4px;position:absolute;transform:translateY(calc(-100% - 10px));transition:transform .2s linear;z-index:35}.monaco-workbench.reduce-motion .monaco-editor .find-widget{transition:transform 0ms linear}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-color:var(--vscode-focusBorder);outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{display:flex;font-size:12px;margin:3px 25px 0 17px}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-bottom:2px;padding-top:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{align-items:center;display:flex;height:25px}.monaco-editor .find-widget .monaco-findInput{display:flex;flex:1;vertical-align:middle}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{box-sizing:border-box;display:flex;flex:initial;height:25px;line-height:23px;margin:0 0 0 3px;padding:2px 0 0 2px;text-align:center;vertical-align:middle}.monaco-editor .find-widget .button{align-items:center;background-position:50%;background-repeat:no-repeat;border-radius:5px;cursor:pointer;display:flex;flex:initial;height:16px;justify-content:center;margin-left:3px;padding:3px;width:16px}.monaco-editor .find-widget .codicon-find-selection{border-radius:5px;height:22px;padding:3px;width:22px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{padding:1px 6px;top:-1px;width:auto}.monaco-editor .find-widget .button.toggle{border-radius:0;box-sizing:border-box;height:100%;left:3px;position:absolute;top:0;width:18px}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{color:var(--vscode-disabledForeground);cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{display:flex;flex:auto;flex-grow:0;flex-shrink:0;position:relative;vertical-align:middle}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;right:2px;top:3px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .find-widget.no-results .matchesCount{color:var(--vscode-errorForeground)}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important;background-color:var(--vscode-editor-findMatchHighlightBackground)}.monaco-editor .currentFindMatch{background-color:var(--vscode-editor-findMatchBackground);border:2px solid var(--vscode-editor-findMatchBorder);box-sizing:border-box;padding:1px}.monaco-editor .findScope{background-color:var(--vscode-editor-findRangeHighlightBackground)}.monaco-editor .find-widget .monaco-sash{background-color:var(--vscode-editorWidget-resizeBorder,var(--vscode-editorWidget-border));left:0!important}.monaco-editor.hc-black .find-widget .button:before{left:2px;position:relative;top:1px}.monaco-editor .find-widget .button:not(.disabled):hover,.monaco-editor .find-widget .codicon-find-selection:hover{background-color:var(--vscode-toolbar-hoverBackground)!important}.monaco-editor.findMatch{background-color:var(--vscode-editor-findMatchHighlightBackground)}.monaco-editor.currentFindMatch{background-color:var(--vscode-editor-findMatchBackground)}.monaco-editor.findScope{background-color:var(--vscode-editor-findRangeHighlightBackground)}.monaco-editor.findMatch{background-color:var(--vscode-editorWidget-background)}.monaco-editor .find-widget>.button.codicon-widget-close{position:absolute;right:4px;top:5px}",{});var e7=e.i(43642),te=e.i(29874),tt=e.i(683831),ti=e.i(413174),to=e.i(358764),tn=e.i(610620),tr=e.i(784731),ts=e.i(839435),ta=e.i(223658);let tl=(0,to.registerIcon)("find-collapsed",e8.Codicon.chevronRight,(0,R.localize)(970,"Icon to indicate that the editor find widget is collapsed.")),td=(0,to.registerIcon)("find-expanded",e8.Codicon.chevronDown,(0,R.localize)(971,"Icon to indicate that the editor find widget is expanded.")),tc=(0,to.registerIcon)("find-selection",e8.Codicon.selection,(0,R.localize)(972,"Icon for 'Find in Selection' in the editor find widget.")),tu=(0,to.registerIcon)("find-replace",e8.Codicon.replace,(0,R.localize)(973,"Icon for 'Replace' in the editor find widget.")),th=(0,to.registerIcon)("find-replace-all",e8.Codicon.replaceAll,(0,R.localize)(974,"Icon for 'Replace All' in the editor find widget.")),tp=(0,to.registerIcon)("find-previous-match",e8.Codicon.arrowUp,(0,R.localize)(975,"Icon for 'Find Previous' in the editor find widget.")),tg=(0,to.registerIcon)("find-next-match",e8.Codicon.arrowDown,(0,R.localize)(976,"Icon for 'Find Next' in the editor find widget.")),tm=(0,R.localize)(977,"Find / Replace"),t_=(0,R.localize)(978,"Find"),tf=(0,R.localize)(979,"Find"),ty=(0,R.localize)(980,"Previous Match"),tv=(0,R.localize)(981,"Next Match"),tC=(0,R.localize)(982,"Find in Selection"),tb=(0,R.localize)(983,"Close"),tS=(0,R.localize)(984,"Replace"),tw=(0,R.localize)(985,"Replace"),tE=(0,R.localize)(986,"Replace"),tI=(0,R.localize)(987,"Replace All"),tx=(0,R.localize)(988,"Toggle Replace"),tD=(0,R.localize)(989,"Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),tk=(0,R.localize)(990,"{0} of {1}"),tA=(0,R.localize)(991,"No results"),tM=69,tL="ctrlEnterReplaceAll.windows.donotask",tT=Y.isMacintosh?S.KeyMod.WinCtrl:S.KeyMod.CtrlCmd;class tR{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function tN(e,t,i){let o=!!t.match(/\n/);if(i&&o&&i.selectionStart>0)return void e.stopPropagation()}function tP(e,t,i){let o=!!t.match(/\n/);if(i&&o&&i.selectionEnd<i.value.length)return void e.stopPropagation()}class tO extends e6.Widget{static{this.ID="editor.contrib.findWidget"}constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this._hoverService=d,this._findWidgetSearchHistory=c,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=o,this._keybindingService=n,this._contextKeyService=r,this._storageService=a,this._notificationService=l,this._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean(tL,ti.StorageScope.PROFILE),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,w.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(e=>{if(e.hasChanged(x.EditorOption.readOnly)&&(this._codeEditor.getOption(x.EditorOption.readOnly)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(x.EditorOption.layoutInfo)&&this._tryUpdateWidgetWidth(),e.hasChanged(x.EditorOption.accessibilitySupport)&&this.updateAccessibilitySupport(),e.hasChanged(x.EditorOption.find)){let e=this._codeEditor.getOption(x.EditorOption.find).loop;this._state.change({loop:e},!1);let t=this._codeEditor.getOption(x.EditorOption.find).addExtraSpaceOnTop;t&&!this._viewZone&&(this._viewZone=new tR(0),this._showViewZone()),!t&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){let e=await this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}})),this._findInputFocused=eW.bindTo(r),this._findFocusTracker=this._register((0,Q.trackFocus)(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=ez.bindTo(r),this._replaceFocusTracker=this._register((0,Q.trackFocus)(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(x.EditorOption.find).addExtraSpaceOnTop&&(this._viewZone=new tR(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return tO.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:eY.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(x.EditorOption.readOnly)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=(0,Q.getTotalWidth)(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,e9.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=tM+"px",this._state.matchesCount>=19999?this._matchesCount.title=tD:this._matchesCount.title="",this._matchesCount.firstChild?.remove(),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=(0,ef.format)(tk,i,t)}else e=tA;this._matchesCount.appendChild(document.createTextNode(e)),(0,e3.alert)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),tM=Math.max(tM,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===tA)return""===i?(0,R.localize)(992,"{0} found",e):(0,R.localize)(993,"{0} found for '{1}'",e,i);if(t){let o=(0,R.localize)(994,"{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),n=this._codeEditor.getModel();if(n&&t.startLineNumber<=n.getLineCount()&&t.startLineNumber>=1){let e=n.getLineContent(t.startLineNumber);return`${e}, ${o}`}return o}return(0,R.localize)(995,"{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(x.EditorOption.readOnly);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(x.EditorOption.find).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{let t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(x.EditorOption.find).seedSearchStringFromSelection&&e){let i=this._codeEditor.getDomNode();if(i){let o=(0,Q.getDomNodePagePosition)(i),n=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=o.left+(n?n.left:0),s=n?n.top:0;if(this._viewZone&&s<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);let i=(0,Q.getTopLeftOffset)(this._domNode).left;r>i&&(t=!1);let n=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());o.left+(n?n.left:0)>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(x.EditorOption.find).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;let t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones(i=>{t.heightInPx=this._getHeight(),this._viewZoneId=i.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(x.EditorOption.find).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new tR(0));let t=this._viewZone;this._codeEditor.changeViewZones(i=>{if(void 0!==this._viewZoneId){let o=this._getHeight();if(o===t.heightInPx)return;let n=o-t.heightInPx;t.heightInPx=o,i.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n);return}{let o=this._getHeight();if((o-=this._codeEditor.getOption(x.EditorOption.padding).top)<=0)return;t.heightInPx=o,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let t=e.width,i=e.minimap.minimapWidth,o=!1,n=!1,r=!1;if(this._resized&&(0,Q.getTotalWidth)(this._domNode)>419){this._domNode.style.maxWidth=`${t-28-i-15}px`,this._replaceInput.width=(0,Q.getTotalWidth)(this._findInput.domNode);return}if(447+i>=t&&(n=!0),447+i-tM>=t&&(r=!0),447+i-tM>=t+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",r),this._domNode.classList.toggle("reduced-find-widget",n),r||o||(this._domNode.style.maxWidth=`${t-28-i-15}px`),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:r,reducedFindWidget:n}),this._resized){let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=(0,Q.getTotalWidth)(this._findInput.domNode))}_getHeight(){let e;return e=4+(this._findInput.inputBox.height+2),this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4}_tryUpdateHeight(){let e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));let t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||k.Range.equalsRange(e,t)?null:e}).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(tT|S.KeyCode.Enter))if(this._keybindingService.dispatchEvent(e,e.target))return void e.preventDefault();else{this._findInput.inputBox.insertAtCursor("\n"),e.preventDefault();return}if(e.equals(S.KeyCode.Tab)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(S.KeyMod.CtrlCmd|S.KeyCode.DownArrow)){this._codeEditor.focus(),e.preventDefault();return}return e.equals(S.KeyCode.UpArrow)?tN(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(S.KeyCode.DownArrow)?tP(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){if(e.equals(tT|S.KeyCode.Enter))if(this._keybindingService.dispatchEvent(e,e.target))return void e.preventDefault();else{Y.isWindows&&Y.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info((0,R.localize)(996,"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(tL,!0,ti.StorageScope.PROFILE,ti.StorageTarget.USER)),this._replaceInput.inputBox.insertAtCursor("\n"),e.preventDefault();return}if(e.equals(S.KeyCode.Tab)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(S.KeyMod.Shift|S.KeyCode.Tab)){this._findInput.focus(),e.preventDefault();return}if(e.equals(S.KeyMod.CtrlCmd|S.KeyCode.DownArrow)){this._codeEditor.focus(),e.preventDefault();return}return e.equals(S.KeyCode.UpArrow)?tN(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(S.KeyCode.DownArrow)?tP(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){let e=this._codeEditor.getOption(x.EditorOption.find).history;this._findInput=this._register(new te.ContextScopedFindInput(null,this._contextViewProvider,{width:221,label:t_,placeholder:tf,appendCaseSensitiveLabel:this._keybindingLabelFor(eq.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(eq.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(eq.ToggleRegexCommand),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return RegExp(e,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,tt.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:ta.defaultInputBoxStyles,toggleStyles:ta.defaultToggleStyles,history:"workspace"===e?this._findWidgetSearchHistory:new Set([])},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(e=>this._onFindInputKeyDown(e))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(e=>{e.equals(S.KeyMod.Shift|S.KeyCode.Tab)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(e=>{e.equals(S.KeyCode.Tab)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(e=>{this._tryUpdateHeight()&&this._showViewZone()})),Y.isLinux&&this._register(this._findInput.onMouseDown(e=>this._onFindInputMouseDown(e))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();let t=this._register((0,eZ.createInstantHoverDelegate)());this._prevBtn=this._register(new tF({label:ty+this._keybindingLabelFor(eq.PreviousMatchFindAction),icon:tp,hoverDelegate:t,onTrigger:()=>{(0,ts.assertIsDefined)(this._codeEditor.getAction(eq.PreviousMatchFindAction)).run().then(void 0,e9.onUnexpectedError)}},this._hoverService)),this._nextBtn=this._register(new tF({label:tv+this._keybindingLabelFor(eq.NextMatchFindAction),icon:tg,hoverDelegate:t,onTrigger:()=>{(0,ts.assertIsDefined)(this._codeEditor.getAction(eq.NextMatchFindAction)).run().then(void 0,e9.onUnexpectedError)}},this._hoverService));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);let o=document.createElement("div");o.className="find-actions",i.appendChild(o),o.appendChild(this._matchesCount),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new e5.Toggle({icon:tc,title:tC+this._keybindingLabelFor(eq.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:t,inputActiveOptionBackground:(0,O.asCssVariable)(W.inputActiveOptionBackground),inputActiveOptionBorder:(0,O.asCssVariable)(W.inputActiveOptionBorder),inputActiveOptionForeground:(0,O.asCssVariable)(W.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();(e=e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty())?null:e).filter(e=>!!e)).length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)})),o.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new tF({label:tb+this._keybindingLabelFor(eq.CloseFindWidgetCommand),icon:to.widgetClose,hoverDelegate:t,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(S.KeyCode.Tab)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new te.ContextScopedReplaceInput(null,void 0,{label:tS,placeholder:tw,appendPreserveCaseLabel:this._keybindingLabelFor(eq.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,tt.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:ta.defaultInputBoxStyles,toggleStyles:ta.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(e=>this._onReplaceInputKeyDown(e))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(e=>{e.equals(S.KeyCode.Tab)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}));let n=this._register((0,eZ.createInstantHoverDelegate)());this._replaceBtn=this._register(new tF({label:tE+this._keybindingLabelFor(eq.ReplaceOneAction),icon:tu,hoverDelegate:n,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(S.KeyMod.Shift|S.KeyCode.Tab)&&(this._closeBtn.focus(),e.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new tF({label:tI+this._keybindingLabelFor(eq.ReplaceAllAction),icon:th,hoverDelegate:n,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));let r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);let s=document.createElement("div");s.className="replace-actions",r.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new tF({label:tx,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=(0,Q.getTotalWidth)(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=tm,this._domNode.role="dialog",this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(r),this._resizeSash=this._register(new e4.Sash(this._domNode,this,{orientation:e4.Orientation.VERTICAL,size:2})),this._resized=!1;let a=419;this._register(this._resizeSash.onDidStart(()=>{a=(0,Q.getTotalWidth)(this._domNode)})),this._register(this._resizeSash.onDidChange(e=>{this._resized=!0;let t=a+e.startX-e.currentX;t<419||t>(parseFloat((0,Q.getComputedStyle)(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=(0,Q.getTotalWidth)(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let e=(0,Q.getTotalWidth)(this._domNode);if(e<419)return;let t=419;if(!this._resized||419===e){let e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=(0,Q.getTotalWidth)(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(x.EditorOption.accessibilitySupport);this._findInput.setFocusInputOnOptionClick(e!==e7.AccessibilitySupport.Enabled)}getViewState(){let e=!1;return this._viewZone&&this._viewZoneId&&(e=this._viewZone.heightInPx>this._codeEditor.getScrollTop()),{widgetViewZoneVisible:e,scrollTop:this._codeEditor.getScrollTop()}}setViewState(e){e&&e.widgetViewZoneVisible&&this._layoutViewZone(e.scrollTop)}}class tF extends e6.Widget{constructor(e,t){super(),this._opts=e;let i="button";this._opts.className&&(i=i+" "+this._opts.className),this._opts.icon&&(i=i+" "+tn.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=i,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(t.setupManagedHover(e.hoverDelegate??(0,eZ.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,e=>{this._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,e=>{if(e.equals(S.KeyCode.Space)||e.equals(S.KeyCode.Enter)){this._opts.onTrigger(),e.preventDefault();return}this._opts.onKeyDown?.(e)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...tn.ThemeIcon.asClassNameArray(tl)),this._domNode.classList.add(...tn.ThemeIcon.asClassNameArray(td))):(this._domNode.classList.remove(...tn.ThemeIcon.asClassNameArray(td)),this._domNode.classList.add(...tn.ThemeIcon.asClassNameArray(tl)))}}(0,V.registerThemingParticipant)((e,t)=>{let i=e.getColor(K.editorFindMatchHighlightBorder);i&&t.addRule(`.monaco-editor .findMatch { border: 1px ${(0,tr.isHighContrast)(e.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`);let o=e.getColor(K.editorFindRangeHighlightBorder);o&&t.addRule(`.monaco-editor .findScope { border: 1px ${(0,tr.isHighContrast)(e.type)?"dashed":"solid"} ${o}; }`);let n=e.getColor(F.contrastBorder);n&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${n}; }`);let r=e.getColor(K.editorFindMatchForeground);r&&t.addRule(`.monaco-editor .findMatchInline { color: ${r}; }`);let s=e.getColor(K.editorFindMatchHighlightForeground);s&&t.addRule(`.monaco-editor .currentFindMatchInline { color: ${s}; }`)}),e.s(["FindWidget",()=>tO,"NLS_MATCHES_LOCATION",()=>tk,"NLS_NO_RESULTS",()=>tA,"SimpleButton",()=>tF,"findNextMatchIcon",()=>tg,"findPreviousMatchIcon",()=>tp,"findReplaceAllIcon",()=>th,"findReplaceIcon",()=>tu,"findSelectionIcon",()=>tc],1010);var tK=e.i(756970),tW=e.i(545731),tz=e.i(352700);e.i(39400);var tV=e.i(633921),tB=e.i(268850),tH=e.i(780379),tU=e.i(272117),tG=e.i(357790);let tq=class{static{d=this}static{this.FIND_HISTORY_KEY="workbench.find.history"}static{this._instance=null}static getOrCreate(e){return d._instance||(d._instance=new d(e)),d._instance}constructor(e){this.storageService=e,this.inMemoryValues=new Set,this._onDidChangeEmitter=new eJ.Emitter,this.onDidChange=this._onDidChangeEmitter.event,this.load()}delete(e){let t=this.inMemoryValues.delete(e);return this.save(),t}add(e){return this.inMemoryValues.add(e),this.save(),this}has(e){return this.inMemoryValues.has(e)}clear(){this.inMemoryValues.clear(),this.save()}forEach(e,t){return this.load(),this.inMemoryValues.forEach(e)}replace(e){this.inMemoryValues=new Set(e),this.save()}load(){let e,t=this.storageService.get(d.FIND_HISTORY_KEY,ti.StorageScope.WORKSPACE);if(t)try{e=JSON.parse(t)}catch(e){}this.inMemoryValues=new Set(e||[])}save(){let e=[];return this.inMemoryValues.forEach(t=>e.push(t)),new Promise(t=>{this.storageService.store(d.FIND_HISTORY_KEY,JSON.stringify(e),ti.StorageScope.WORKSPACE,ti.StorageTarget.USER),this._onDidChangeEmitter.fire(e),t()})}};tq=d=(0,em.__decorate)([(0,em.__param)(0,tH.IStorageService)],tq);var t$=e.i(286894);function tj(e,t="single",i=!1){if(!e.hasModel())return null;let o=e.getSelection();if("single"===t&&o.startLineNumber===o.endLineNumber||"multiple"===t){if(o.isEmpty()){let t=e.getConfiguredWordAtPosition(o.getStartPosition());if(t&&!1===i)return t.word}else if(524288>e.getModel().getValueLengthInRange(o))return e.getModel().getValueInRange(o)}return null}(s=u||(u={}))[s.NoFocusChange=0]="NoFocusChange",s[s.FocusFindInput=1]="FocusFindInput",s[s.FocusReplaceInput=2]="FocusReplaceInput";let tQ=class extends e_.Disposable{static{c=this}static{this.ID="editor.contrib.findController"}get editor(){return this._editor}static get(e){return e.getContribution(c.ID)}constructor(e,t,i,o,n,r){super(),this._editor=e,this._findWidgetVisible=eF.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=o,this._notificationService=n,this._hoverService=r,this._updateHistoryDelayer=new b.Delayer(500),this._state=this._register(new e2),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",ti.StorageScope.WORKSPACE,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",ti.StorageScope.WORKSPACE,!1),isRegex:this._storageService.getBoolean("editor.isRegex",ti.StorageScope.WORKSPACE,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",ti.StorageScope.WORKSPACE,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:u.NoFocusChange,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(x.EditorOption.find).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,ti.StorageScope.WORKSPACE,ti.StorageTarget.MACHINE),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,ti.StorageScope.WORKSPACE,ti.StorageTarget.MACHINE),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,ti.StorageScope.WORKSPACE,ti.StorageTarget.MACHINE),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,ti.StorageScope.WORKSPACE,ti.StorageTarget.MACHINE)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",ti.StorageScope.WORKSPACE,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",ti.StorageScope.WORKSPACE,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",ti.StorageScope.WORKSPACE,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",ti.StorageScope.WORKSPACE,this._state.preserveCase)},!1)}isFindInputFocused(){return!!eW.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();(e=e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty())?null:e).filter(e=>!!e)).length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=(0,ef.escapeRegExpCharacters)(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}async _start(e,t){if(this.disposeModel(),!this._editor.hasModel())return;let i={...t,isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let t=tj(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);t&&(this._state.isRegex?i.searchString=(0,ef.escapeRegExpCharacters)(t):i.searchString=t)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let t=tj(this._editor,e.seedSearchStringFromSelection);t&&(i.searchString=t)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){let e=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(i.searchString=e)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some(e=>!e.isEmpty())&&(i.searchScope=e)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new e$(this._editor,this._state))}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}goToMatch(e){return!!this._model&&(this._model.moveToMatch(e),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._editor.getModel()?.isTooLargeForHeapOperation()?(this._notificationService.warn((0,R.localize)(955,"The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0))}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}async getGlobalBufferTerm(){return this._editor.getOption(x.EditorOption.find).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(e){this._editor.getOption(x.EditorOption.find).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};tQ=c=(0,em.__decorate)([(0,em.__param)(1,tK.IContextKeyService),(0,em.__param)(2,tH.IStorageService),(0,em.__param)(3,Z.IClipboardService),(0,em.__param)(4,tV.INotificationService),(0,em.__param)(5,tG.IHoverService)],tQ);let tY=class extends tQ{constructor(e,t,i,o,n,r,s,a,l){super(e,i,s,a,r,l),this._contextViewService=t,this._keybindingService=o,this._themeService=n,this._widget=null,this._findOptionsWidget=null,this._findWidgetSearchHistory=tq.getOrCreate(s)}async _start(e,t){this._widget||this._createFindWidget();let i=this._editor.getSelection(),o=!1;switch(this._editor.getOption(x.EditorOption.find).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":o=!!i&&i.startLineNumber!==i.endLineNumber}e.updateSearchScope=e.updateSearchScope||o,await super._start(e,t),this._widget&&(e.shouldFocus===u.FocusReplaceInput?this._widget.focusReplaceInput():e.shouldFocus===u.FocusFindInput&&this._widget.focusFindInput())}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new tO(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService,this._findWidgetSearchHistory)),this._findOptionsWidget=this._register(new eX(this._editor,this._state,this._keybindingService))}saveViewState(){return this._widget?.getViewState()}restoreViewState(e){this._widget?.setViewState(e)}};tY=(0,em.__decorate)([(0,em.__param)(1,tW.IContextViewService),(0,em.__param)(2,tK.IContextKeyService),(0,em.__param)(3,tz.IKeybindingService),(0,em.__param)(4,tU.IThemeService),(0,em.__param)(5,tV.INotificationService),(0,em.__param)(6,tH.IStorageService),(0,em.__param)(7,Z.IClipboardService),(0,em.__param)(8,tG.IHoverService)],tY),(0,ey.registerMultiEditorAction)(new ey.MultiEditorAction({id:eq.StartFindAction,label:(0,R.localize2)(956,"Find"),precondition:X.ContextKeyExpr.or(M.EditorContextKeys.focus,X.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyF,weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarEditMenu,group:"3_find",title:(0,R.localize)(957,"&&Find"),order:1}})).addImplementation(0,(e,t,i)=>{let o=tQ.get(t);return!!o&&o.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(x.EditorOption.find).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(x.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(x.EditorOption.find).globalFindClipboard,shouldFocus:u.FocusFindInput,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(x.EditorOption.find).loop})});let tZ={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class tX extends ey.EditorAction{constructor(){super({id:eq.StartFindWithArgs,label:(0,R.localize2)(958,"Find With Arguments"),precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:P.KeybindingWeight.EditorContrib},metadata:tZ})}async run(e,t,i){let o=tQ.get(t);if(o){let e=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:void 0!==i.replaceString,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};await o.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===o.getState().searchString.length&&"never"!==t.getOption(x.EditorOption.find).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(x.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:u.FocusFindInput,shouldAnimate:!0,updateSearchScope:i?.findInSelection||!1,loop:t.getOption(x.EditorOption.find).loop},e),o.setGlobalBufferTerm(o.getState().searchString)}}}class tJ extends ey.EditorAction{constructor(){super({id:eq.StartFindWithSelection,label:(0,R.localize2)(959,"Find With Selection"),precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyE},weight:P.KeybindingWeight.EditorContrib}})}async run(e,t){let i=tQ.get(t);i&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:u.NoFocusChange,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(x.EditorOption.find).loop}),i.setGlobalBufferTerm(i.getState().searchString))}}class t0 extends ey.EditorAction{async run(e,t){let i=tQ.get(t);i&&!this._run(i)&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===i.getState().searchString.length&&"never"!==t.getOption(x.EditorOption.find).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(x.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:u.NoFocusChange,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(x.EditorOption.find).loop}),this._run(i))}}class t1 extends ey.EditorAction{constructor(){super({id:eq.GoToMatchFindAction,label:(0,R.localize2)(962,"Go to Match..."),precondition:eF}),this._highlightDecorations=[]}run(e,t,i){let o=tQ.get(t);if(!o)return;let n=o.getState().matchesCount;if(n<1)return void e.get(tV.INotificationService).notify({severity:t$.default.Warning,message:(0,R.localize)(963,"No matches. Try searching for something else.")});let r=e.get(tB.IQuickInputService),s=new e_.DisposableStore,a=s.add(r.createInputBox());a.placeholder=(0,R.localize)(964,"Type a number to go to a specific match (between 1 and {0})",n);let l=e=>{let t=parseInt(e);if(isNaN(t))return;let i=o.getState().matchesCount;return t>0&&t<=i?t-1:t<0&&t>=-i?i+t:void 0},d=e=>{let i=l(e);if("number"==typeof i){a.validationMessage=void 0,o.goToMatch(i);let e=o.getState().currentMatch;e&&this.addDecorations(t,e)}else a.validationMessage=(0,R.localize)(965,"Please type a number between 1 and {0}",o.getState().matchesCount),this.clearDecorations(t)};s.add(a.onDidChangeValue(e=>{d(e)})),s.add(a.onDidAccept(()=>{let e=l(a.value);"number"==typeof e?(o.goToMatch(e),a.hide()):a.validationMessage=(0,R.localize)(965,"Please type a number between 1 and {0}",o.getState().matchesCount)})),s.add(a.onDidHide(()=>{this.clearDecorations(t),s.dispose()})),a.show()}clearDecorations(e){e.changeDecorations(e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,V.themeColorFromId)(ev.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}])})}}class t2 extends ey.EditorAction{async run(e,t){let i=tQ.get(t);if(!i)return;let o=tj(t,"single",!1);o&&i.setSearchString(o),this._run(i)||(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:u.NoFocusChange,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(x.EditorOption.find).loop}),this._run(i))}}(0,ey.registerMultiEditorAction)(new ey.MultiEditorAction({id:eq.StartFindReplaceAction,label:(0,R.localize2)(968,"Replace"),precondition:X.ContextKeyExpr.or(M.EditorContextKeys.focus,X.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyH,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.KeyF},weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarEditMenu,group:"3_find",title:(0,R.localize)(969,"&&Replace"),order:2}})).addImplementation(0,(e,t,i)=>{if(!t.hasModel()||t.getOption(x.EditorOption.readOnly))return!1;let o=tQ.get(t);if(!o)return!1;let n=t.getSelection(),r=o.isFindInputFocused(),s=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&"never"!==t.getOption(x.EditorOption.find).seedSearchStringFromSelection&&!r,a=r||s?u.FocusReplaceInput:u.FocusFindInput;return o.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(x.EditorOption.find).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(x.EditorOption.find).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(x.EditorOption.find).loop})}),(0,ey.registerEditorContribution)(tQ.ID,tY,ey.EditorContributionInstantiation.Eager),(0,ey.registerEditorAction)(tX),(0,ey.registerEditorAction)(tJ),(0,ey.registerEditorAction)(class extends t0{constructor(){super({id:eq.NextMatchFindAction,label:(0,R.localize2)(960,"Find Next"),precondition:void 0,kbOpts:[{kbExpr:M.EditorContextKeys.focus,primary:S.KeyCode.F3,mac:{primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyG,secondary:[S.KeyCode.F3]},weight:P.KeybindingWeight.EditorContrib},{kbExpr:X.ContextKeyExpr.and(M.EditorContextKeys.focus,eW),primary:S.KeyCode.Enter,weight:P.KeybindingWeight.EditorContrib}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),(0,ey.registerEditorAction)(class extends t0{constructor(){super({id:eq.PreviousMatchFindAction,label:(0,R.localize2)(961,"Find Previous"),precondition:void 0,kbOpts:[{kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.Shift|S.KeyCode.F3,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.KeyG,secondary:[S.KeyMod.Shift|S.KeyCode.F3]},weight:P.KeybindingWeight.EditorContrib},{kbExpr:X.ContextKeyExpr.and(M.EditorContextKeys.focus,eW),primary:S.KeyMod.Shift|S.KeyCode.Enter,weight:P.KeybindingWeight.EditorContrib}]})}_run(e){return e.moveToPrevMatch()}}),(0,ey.registerEditorAction)(t1),(0,ey.registerEditorAction)(class extends t2{constructor(){super({id:eq.NextSelectionMatchFindAction,label:(0,R.localize2)(966,"Find Next Selection"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.CtrlCmd|S.KeyCode.F3,weight:P.KeybindingWeight.EditorContrib}})}_run(e){return e.moveToNextMatch()}}),(0,ey.registerEditorAction)(class extends t2{constructor(){super({id:eq.PreviousSelectionMatchFindAction,label:(0,R.localize2)(967,"Find Previous Selection"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.F3,weight:P.KeybindingWeight.EditorContrib}})}_run(e){return e.moveToPrevMatch()}});let t3=ey.EditorCommand.bindToContribution(tQ.get);(0,ey.registerEditorCommand)(new t3({id:eq.CloseFindWidgetCommand,precondition:eF,handler:e=>e.closeFindWidget(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:X.ContextKeyExpr.and(M.EditorContextKeys.focus,X.ContextKeyExpr.not("isComposing")),primary:S.KeyCode.Escape,secondary:[S.KeyMod.Shift|S.KeyCode.Escape]}})),(0,ey.registerEditorCommand)(new t3({id:eq.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:eV.primary,mac:eV.mac,win:eV.win,linux:eV.linux}})),(0,ey.registerEditorCommand)(new t3({id:eq.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:eB.primary,mac:eB.mac,win:eB.win,linux:eB.linux}})),(0,ey.registerEditorCommand)(new t3({id:eq.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:eH.primary,mac:eH.mac,win:eH.win,linux:eH.linux}})),(0,ey.registerEditorCommand)(new t3({id:eq.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:eU.primary,mac:eU.mac,win:eU.win,linux:eU.linux}})),(0,ey.registerEditorCommand)(new t3({id:eq.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:eG.primary,mac:eG.mac,win:eG.win,linux:eG.linux}})),(0,ey.registerEditorCommand)(new t3({id:eq.ReplaceOneAction,precondition:eF,handler:e=>e.replace(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.Digit1}})),(0,ey.registerEditorCommand)(new t3({id:eq.ReplaceOneAction,precondition:eF,handler:e=>e.replace(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:X.ContextKeyExpr.and(M.EditorContextKeys.focus,ez),primary:S.KeyCode.Enter}})),(0,ey.registerEditorCommand)(new t3({id:eq.ReplaceAllAction,precondition:eF,handler:e=>e.replaceAll(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.Enter}})),(0,ey.registerEditorCommand)(new t3({id:eq.ReplaceAllAction,precondition:eF,handler:e=>e.replaceAll(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:X.ContextKeyExpr.and(M.EditorContextKeys.focus,ez),primary:void 0,mac:{primary:S.KeyMod.CtrlCmd|S.KeyCode.Enter}}})),(0,ey.registerEditorCommand)(new t3({id:eq.SelectAllMatchesAction,precondition:eF,handler:e=>e.selectAllMatches(),kbOpts:{weight:P.KeybindingWeight.EditorContrib+5,kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.Alt|S.KeyCode.Enter}})),e.s(["CommonFindController",()=>tQ,"getSelectionSearchString",()=>tj],92121);var t5=e.i(628463);(0,E.default)(".monaco-editor .goto-definition-link{color:var(--vscode-editorLink-activeForeground)!important;cursor:pointer;text-decoration:underline}",{});var t4=e.i(857798),t6=e.i(657170),t8=e.i(490582),t9=e.i(865792),t7=e.i(489230),ie=e.i(610916),it=e.i(535068),ii=e.i(544421);let io=class{static{h=this}static{this.ID="editor.contrib.gotodefinitionatposition"}static{this.MAX_SOURCE_PREVIEW_LINES=8}constructor(e,t,i,o){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=o,this.toUnhook=new w.DisposableStore,this.toUnhookForKeyboard=new w.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const n=new t9.ClickLinkGesture(e);this.toUnhook.add(n),this.toUnhook.add(n.onMouseMoveOrRelevantKeyDown(([e,t])=>{this.startFindDefinitionFromMouse(e,t??void 0)})),this.toUnhook.add(n.onExecute(e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).catch(e=>{(0,e9.onUnexpectedError)(e)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(n.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(h.ID)}async startFindDefinitionFromCursor(e){await this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(e,t){if(e.target.type===eY.MouseTargetType.CONTENT_WIDGET&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let i=e.target.position;this.startFindDefinition(i)}async startFindDefinition(e){let t;this.toUnhookForKeyboard.clear();let i=e?this.editor.getModel()?.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;let o=new t4.EditorState(this.editor,t4.CodeEditorStateFlag.Position|t4.CodeEditorStateFlag.Value|t4.CodeEditorStateFlag.Selection|t4.CodeEditorStateFlag.Scroll);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,b.createCancelablePromise)(t=>this.findDefinition(e,t));try{t=await this.previousPromise}catch(e){(0,e9.onUnexpectedError)(e);return}if(!t||!t.length||!o.validate(this.editor))return void this.removeLinkDecorations();let n=t[0].originSelectionRange?k.Range.lift(t[0].originSelectionRange):new k.Range(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(t.length>1){let e=n;for(let{originSelectionRange:i}of t)i&&(e=k.Range.plusRange(e,i));this.addDecoration(e,new t5.MarkdownString().appendText((0,R.localize)(1088,"Click to show {0} definitions.",t.length)))}else{let e=t[0];if(!e.uri)return;this.textModelResolverService.createModelReference(e.uri).then(t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();let{object:{textEditorModel:i}}=t,{startLineNumber:o}=e.range;if(o<1||o>i.getLineCount())return void t.dispose();let r=this.getPreviewValue(i,o,e),s=this.languageService.guessLanguageIdByFilepathOrFirstLine(i.uri);this.addDecoration(n,r?new t5.MarkdownString().appendCodeblock(s||"",r):void 0),t.dispose()})}}getPreviewValue(e,t,i){let o=i.range;return o.endLineNumber-o.startLineNumber>=h.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,o)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let n=t+1;n<i.endLineNumber;n++)o=Math.min(o,e.getLineFirstNonWhitespaceColumn(n));return e.getValueInRange(i).replace(RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){let i=e.getLineFirstNonWhitespaceColumn(t),o=Math.min(e.getLineCount(),t+h.MAX_SOURCE_PREVIEW_LINES),n=t+1;for(;n<o&&i!==e.getLineFirstNonWhitespaceColumn(n);n++);return new k.Range(t,1,n+1,1)}addDecoration(e,t){this.linkDecorations.set([{range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===eY.MouseTargetType.CONTENT_TEXT&&!(e.target.detail.injectedText?.options instanceof T.ModelDecorationInjectedTextOptions)&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){let i=this.editor.getModel();return i?(0,it.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,i,e,!1,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(e=>{let i=!t&&this.editor.getOption(x.EditorOption.definitionLinkOpensInPeek)&&!this.isInPeekEditor(e);return new ie.DefinitionAction({openToSide:t,openInPeek:i,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(e)})}isInPeekEditor(e){let t=e.get(tK.IContextKeyService);return t7.PeekContext.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};io=h=(0,em.__decorate)([(0,em.__param)(1,t8.ITextModelService),(0,em.__param)(2,t6.ILanguageService),(0,em.__param)(3,ii.ILanguageFeaturesService)],io),(0,I.registerEditorContribution)(io.ID,io,I.EditorContributionInstantiation.BeforeFirstInteraction),e.s(["GotoDefinitionAtPositionEditorContribution",()=>io],199511),(0,E.default)(".extension-editor .codicon.codicon-error,.extensions-viewlet>.extensions .codicon.codicon-error,.markers-panel .marker-icon .codicon.codicon-error,.markers-panel .marker-icon.error,.monaco-editor .zone-widget .codicon.codicon-error,.preferences-editor .codicon.codicon-error,.text-search-provider-messages .providerMessage .codicon.codicon-error{color:var(--vscode-problemsErrorIcon-foreground)}.extension-editor .codicon.codicon-warning,.extensions-viewlet>.extensions .codicon.codicon-warning,.markers-panel .marker-icon .codicon.codicon-warning,.markers-panel .marker-icon.warning,.monaco-editor .zone-widget .codicon.codicon-warning,.preferences-editor .codicon.codicon-warning,.text-search-provider-messages .providerMessage .codicon.codicon-warning{color:var(--vscode-problemsWarningIcon-foreground)}.extension-editor .codicon.codicon-info,.extensions-viewlet>.extensions .codicon.codicon-info,.markers-panel .marker-icon .codicon.codicon-info,.markers-panel .marker-icon.info,.monaco-editor .zone-widget .codicon.codicon-info,.preferences-editor .codicon.codicon-info,.text-search-provider-messages .providerMessage .codicon.codicon-info{color:var(--vscode-problemsInfoIcon-foreground)}",{}),(p||(p={})).className=function(e){switch(e){case t$.default.Ignore:return"severity-ignore "+tn.ThemeIcon.asClassName(e8.Codicon.info);case t$.default.Info:return tn.ThemeIcon.asClassName(e8.Codicon.info);case t$.default.Warning:return tn.ThemeIcon.asClassName(e8.Codicon.warning);case t$.default.Error:return tn.ThemeIcon.asClassName(e8.Codicon.error);default:return""}},e.s(["SeverityIcon",()=>p],591921);var ir=w,is=I,ia=e.i(945064);(0,E.default)(".monaco-editor .focused .selectionHighlight{background-color:var(--vscode-editor-selectionHighlightBackground);border:1px solid var(--vscode-editor-selectionHighlightBorder);box-sizing:border-box}.monaco-editor.hc-black .focused .selectionHighlight,.monaco-editor.hc-light .focused .selectionHighlight{border-style:dotted}.monaco-editor .wordHighlight{background-color:var(--vscode-editor-wordHighlightBackground);border:1px solid var(--vscode-editor-wordHighlightBorder);box-sizing:border-box}.monaco-editor.hc-black .wordHighlight,.monaco-editor.hc-light .wordHighlight{border-style:dotted}.monaco-editor .wordHighlightStrong{background-color:var(--vscode-editor-wordHighlightStrongBackground);border:1px solid var(--vscode-editor-wordHighlightStrongBorder);box-sizing:border-box}.monaco-editor.hc-black .wordHighlightStrong,.monaco-editor.hc-light .wordHighlightStrong{border-style:dotted}.monaco-editor .wordHighlightText{background-color:var(--vscode-editor-wordHighlightTextBackground);border:1px solid var(--vscode-editor-wordHighlightTextBorder);box-sizing:border-box}.monaco-editor.hc-black .wordHighlightText,.monaco-editor.hc-light .wordHighlightText{border-style:dotted}",{});var il=e.i(418964);let id=(0,O.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},(0,R.localize)(1526,"Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,O.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},(0,R.localize)(1527,"Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,O.registerColor)("editor.wordHighlightTextBackground",id,(0,R.localize)(1528,"Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);let ic=(0,O.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:F.activeContrastBorder,hcLight:F.activeContrastBorder},(0,R.localize)(1529,"Border color of a symbol during read-access, like reading a variable."));(0,O.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:F.activeContrastBorder,hcLight:F.activeContrastBorder},(0,R.localize)(1530,"Border color of a symbol during write-access, like writing to a variable.")),(0,O.registerColor)("editor.wordHighlightTextBorder",ic,(0,R.localize)(1531,"Border color of a textual occurrence for a symbol."));let iu=(0,O.registerColor)("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",(0,R.localize)(1532,"Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ih=(0,O.registerColor)("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",(0,R.localize)(1533,"Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ip=(0,O.registerColor)("editorOverviewRuler.wordHighlightTextForeground",K.overviewRulerSelectionHighlightForeground,(0,R.localize)(1534,"Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),ig=T.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightStrong",overviewRuler:{color:(0,V.themeColorFromId)(ih),position:L.OverviewRulerLane.Center},minimap:{color:(0,V.themeColorFromId)(z.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),im=T.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightText",overviewRuler:{color:(0,V.themeColorFromId)(ip),position:L.OverviewRulerLane.Center},minimap:{color:(0,V.themeColorFromId)(z.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),i_=T.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:(0,V.themeColorFromId)(K.overviewRulerSelectionHighlightForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,V.themeColorFromId)(z.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),iy=T.ModelDecorationOptions.register({description:"selection-highlight",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight"}),iv=T.ModelDecorationOptions.register({description:"word-highlight",stickiness:L.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlight",overviewRuler:{color:(0,V.themeColorFromId)(iu),position:L.OverviewRulerLane.Center},minimap:{color:(0,V.themeColorFromId)(z.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}});(0,V.registerThemingParticipant)((e,t)=>{let i=e.getColor(K.editorSelectionHighlight);i&&t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`)});var iC=e.i(693655);function ib(e,t){let i=t.filter(t=>!e.find(e=>e.equals(t)));if(i.length>=1){let e=i.map(e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`).join(", "),t=1===i.length?(0,R.localize)(1265,"Cursor added: {0}",e):(0,R.localize)(1266,"Cursors added: {0}",e);(0,e3.status)(t)}}class iS extends is.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:(0,R.localize2)(1267,"Add Cursor Above"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.UpArrow,linux:{primary:S.KeyMod.Shift|S.KeyMod.Alt|S.KeyCode.UpArrow,secondary:[S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.UpArrow]},weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,R.localize)(1268,"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let o=!0;i&&!1===i.logicalLine&&(o=!1);let n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();let r=n.getCursorStates();n.setCursorStates(i.source,ew.CursorChangeReason.Explicit,ia.CursorMoveCommands.addCursorUp(n,r,o)),n.revealTopMostCursor(i.source),ib(r,n.getCursorStates())}}class iw extends is.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:(0,R.localize2)(1269,"Add Cursor Below"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Alt|S.KeyCode.DownArrow,linux:{primary:S.KeyMod.Shift|S.KeyMod.Alt|S.KeyCode.DownArrow,secondary:[S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.DownArrow]},weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,R.localize)(1270,"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let o=!0;i&&!1===i.logicalLine&&(o=!1);let n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();let r=n.getCursorStates();n.setCursorStates(i.source,ew.CursorChangeReason.Explicit,ia.CursorMoveCommands.addCursorDown(n,r,o)),n.revealBottomMostCursor(i.source),ib(r,n.getCursorStates())}}class iE extends is.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:(0,R.localize2)(1271,"Add Cursors to Line Ends"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.Shift|S.KeyMod.Alt|S.KeyCode.KeyI,weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,R.localize)(1272,"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let o=e.startLineNumber;o<e.endLineNumber;o++){let e=t.getLineMaxColumn(o);i.push(new A.Selection(o,e,o,e))}e.endColumn>1&&i.push(new A.Selection(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;let i=t.getModel(),o=t.getSelections(),n=t._getViewModel(),r=n.getCursorStates(),s=[];o.forEach(e=>this.getCursorsForSelection(e,i,s)),s.length>0&&t.setSelections(s),ib(r,n.getCursorStates())}}class iI extends is.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:(0,R.localize2)(1273,"Add Cursors To Bottom"),precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),o=t.getModel().getLineCount(),n=[];for(let e=i[0].startLineNumber;e<=o;e++)n.push(new A.Selection(e,i[0].startColumn,e,i[0].endColumn));let r=t._getViewModel(),s=r.getCursorStates();n.length>0&&t.setSelections(n),ib(s,r.getCursorStates())}}class ix extends is.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:(0,R.localize2)(1274,"Add Cursors To Top"),precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),o=[];for(let e=i[0].startLineNumber;e>=1;e--)o.push(new A.Selection(e,i[0].startColumn,e,i[0].endColumn));let n=t._getViewModel(),r=n.getCursorStates();o.length>0&&t.setSelections(o),ib(r,n.getCursorStates())}}class iD{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class ik{static create(e,t){let i,o,n;if(!e.hasModel())return null;let r=t.getState();if(!e.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new ik(e,t,!1,r.searchString,r.wholeWord,r.matchCase,null);let s=!1,a=e.getSelections();1===a.length&&a[0].isEmpty()?(s=!0,i=!0,o=!0):(i=r.wholeWord,o=r.matchCase);let l=e.getSelection(),d=null;if(l.isEmpty()){let t=e.getConfiguredWordAtPosition(l.getStartPosition());if(!t)return null;n=t.word,d=new A.Selection(l.startLineNumber,t.startColumn,l.startLineNumber,t.endColumn)}else n=e.getModel().getValueInRange(l).replace(/\r\n/g,"\n");return new ik(e,t,s,n,i,o,d)}constructor(e,t,i,o,n,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=o,this.wholeWord=n,this.matchCase=r,this.currentMatch=s}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();return e?new iD(this._editor.getSelections().concat(e),e,eo.ScrollType.Smooth):null}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new iD(t.slice(0,t.length-1).concat(e),e,eo.ScrollType.Smooth)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1);return i?new A.Selection(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();return e?new iD(this._editor.getSelections().concat(e),e,eo.ScrollType.Smooth):null}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new iD(t.slice(0,t.length-1).concat(e),e,eo.ScrollType.Smooth)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1);return i?new A.Selection(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();let t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1,eb.Constants.MAX_SAFE_SMALL_INTEGER):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1,eb.Constants.MAX_SAFE_SMALL_INTEGER)}}class iA extends ir.Disposable{static{this.ID="editor.contrib.multiCursorController"}static get(e){return e.getContribution(iA.ID)}constructor(e){super(),this._sessionDispose=this._register(new ir.DisposableStore),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let t=ik.create(this._editor,e);if(!t)return;this._session=t;let i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=l.True,i.matchCaseOverride=l.True,i.isRegexOverride=l.False),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:l.NotSet,matchCaseOverride:l.NotSet,isRegexOverride:l.NotSet};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;let i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new A.Selection(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){let t=this._editor.getSelections();if(t.length>1){let i=e.getState().matchCase;if(!iR(this._editor.getModel(),t,i)){let e=this._editor.getModel(),i=[];for(let o=0,n=t.length;o<n;o++)i[o]=this._expandEmptyToWord(e,t[o]);this._editor.setSelections(i);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null,i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){let e=this._editor.getModel();t=i.searchScope?e.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1,eb.Constants.MAX_SAFE_SMALL_INTEGER):e.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(x.EditorOption.wordSeparators):null,!1,eb.Constants.MAX_SAFE_SMALL_INTEGER)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){let e=this._editor.getSelection();for(let i=0,o=t.length;i<o;i++){let o=t[i];if(o.range.intersectRanges(e)){t[i]=t[0],t[0]=o;break}}this._setSelections(t.map(e=>new A.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}selectAllUsingSelections(e){e.length>0&&this._setSelections(e)}}class iM extends is.EditorAction{run(e,t){let i=iA.get(t);if(!i)return;let o=t._getViewModel();if(o){let n=o.getCursorStates(),r=tQ.get(t);if(r)this._run(i,r);else{let o=e.get(iC.IInstantiationService).createInstance(tQ,t);this._run(i,o),o.dispose()}ib(n,o.getCursorStates())}}}class iL{constructor(e,t,i,o,n){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,n&&this._model===n._model&&this._searchText===n._searchText&&this._matchCase===n._matchCase&&this._wordSeparators===n._wordSeparators&&this._modelVersionId===n._modelVersionId&&(this._cachedFindMatches=n._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(k.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let iT=class extends ir.Disposable{static{g=this}static{this.ID="editor.contrib.selectionHighlighter"}constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(x.EditorOption.selectionHighlight),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new b.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(x.EditorOption.selectionHighlight)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?e.reason===ew.CursorChangeReason.Explicit?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()}));const i=tQ.get(e);i&&this._register(i.getState().onFindReplaceStateChange(e=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(g._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;let o=i.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;let n=iA.get(i);if(!n)return null;let r=tQ.get(i);if(!r)return null;let s=n.getSession(r);if(!s){let e=i.getSelections();if(e.length>1){let t=r.getState().matchCase;if(!iR(i.getModel(),e,t))return null}s=ik.create(i,r)}if(!s||s.currentMatch||/^[ \t]+$/.test(s.searchText)||s.searchText.length>200)return null;let a=r.getState(),l=a.matchCase;if(a.isRevealed){let e=a.searchString;l||(e=e.toLowerCase());let t=s.searchText;if(l||(t=t.toLowerCase()),e===t&&s.matchCase===a.matchCase&&s.wholeWord===a.wholeWord&&!a.isRegex)return null}return new iL(i.getModel(),s.searchText,s.matchCase,s.wholeWord?i.getOption(x.EditorOption.wordSeparators):null,e)}_setState(e){if(this.state=e,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;let t=this.editor.getModel();if(t.isTooLargeForTokenization())return;let i=this.state.findMatches(),o=this.editor.getSelections();o.sort(k.Range.compareRangesUsingStarts);let n=[];for(let e=0,t=0,r=i.length,s=o.length;e<r;){let r=i[e];if(t>=s)n.push(r),e++;else{let i=k.Range.compareRangesUsingStarts(r,o[t]);i<0?((o[t].isEmpty()||!k.Range.areIntersecting(r,o[t]))&&n.push(r),e++):(i>0||e++,t++)}}let r="off"!==this.editor.getOption(x.EditorOption.occurrencesHighlight),s=this._languageFeaturesService.documentHighlightProvider.has(t)&&r,a=n.map(e=>({range:e,options:s?iy:i_}));this._decorations.set(a)}dispose(){this._setState(null),super.dispose()}};function iR(e,t,i){let o=iN(e,t[0],!i);for(let n=1,r=t.length;n<r;n++){let r=t[n];if(r.isEmpty()||o!==iN(e,r,!i))return!1}return!0}function iN(e,t,i){let o=e.getValueInRange(t);return i?o.toLowerCase():o}iT=g=(0,em.__decorate)([(0,em.__param)(1,ii.ILanguageFeaturesService)],iT);class iP extends is.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:(0,R.localize2)(1284,"Focus Next Cursor"),metadata:{description:(0,R.localize)(1285,"Focuses the next cursor"),args:[]},precondition:void 0})}run(e,t,i){if(!t.hasModel())return;let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let n=Array.from(o.getCursorStates()),r=n.shift();r&&(n.push(r),o.setCursorStates(i.source,ew.CursorChangeReason.Explicit,n),o.revealPrimaryCursor(i.source,!0),ib(n,o.getCursorStates()))}}class iO extends is.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:(0,R.localize2)(1286,"Focus Previous Cursor"),metadata:{description:(0,R.localize)(1287,"Focuses the previous cursor"),args:[]},precondition:void 0})}run(e,t,i){if(!t.hasModel())return;let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let n=Array.from(o.getCursorStates()),r=n.pop();r&&(n.unshift(r),o.setCursorStates(i.source,ew.CursorChangeReason.Explicit,n),o.revealPrimaryCursor(i.source,!0),ib(n,o.getCursorStates()))}}(0,is.registerEditorContribution)(iA.ID,iA,is.EditorContributionInstantiation.Lazy),(0,is.registerEditorContribution)(iT.ID,iT,is.EditorContributionInstantiation.AfterFirstRender),(0,is.registerEditorAction)(iS),(0,is.registerEditorAction)(iw),(0,is.registerEditorAction)(iE),(0,is.registerEditorAction)(class extends iM{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:(0,R.localize2)(1275,"Add Selection To Next Find Match"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.CtrlCmd|S.KeyCode.KeyD,weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,R.localize)(1276,"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),(0,is.registerEditorAction)(class extends iM{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:(0,R.localize2)(1277,"Add Selection To Previous Find Match"),precondition:void 0,menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,R.localize)(1278,"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),(0,is.registerEditorAction)(class extends iM{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:(0,R.localize2)(1279,"Move Last Selection To Next Find Match"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.focus,primary:(0,S.KeyChord)(S.KeyMod.CtrlCmd|S.KeyCode.KeyK,S.KeyMod.CtrlCmd|S.KeyCode.KeyD),weight:P.KeybindingWeight.EditorContrib}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),(0,is.registerEditorAction)(class extends iM{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:(0,R.localize2)(1280,"Move Last Selection To Previous Find Match"),precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),(0,is.registerEditorAction)(class extends iM{constructor(){super({id:"editor.action.selectHighlights",label:(0,R.localize2)(1281,"Select All Occurrences of Find Match"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.focus,primary:S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.KeyL,weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"3_multi",title:(0,R.localize)(1282,"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),(0,is.registerEditorAction)(class extends iM{constructor(){super({id:"editor.action.changeAll",label:(0,R.localize2)(1283,"Change All Occurrences"),precondition:X.ContextKeyExpr.and(M.EditorContextKeys.writable,M.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.CtrlCmd|S.KeyCode.F2,weight:P.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),(0,is.registerEditorAction)(iI),(0,is.registerEditorAction)(ix),(0,is.registerEditorAction)(iP),(0,is.registerEditorAction)(iO),e.s(["MultiCursorSelectionController",()=>iA],329381);var iF=e.i(760837),iK=e.i(292473),iW=e.i(323235),iz=e.i(785310),iV=e.i(836387),iB=e.i(933530);function iH(e){return e&&!!e.data}function iU(e){return e&&Array.isArray(e.edits)}class iG{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function iq(e,t){return e.has(t)}async function i$(e,t,i,o,n){let r,s=(r=e.orderedGroups(t)).length>0?r[0]:[],a=await Promise.all(s.map(async e=>{let r,s=null;try{r=await e.provideDocumentSemanticTokens(t,e===i?o:null,n)}catch(e){s=e,r=null}return r&&(iH(r)||iU(r))||(r=null),new iG(e,r,s)}));for(let e of a){if(e.error)throw e.error;if(e.tokens)return e}return a.length>0?a[0]:null}class ij{constructor(e,t){this.provider=e,this.tokens=t}}function iQ(e,t){return e.has(t)}function iY(e,t){let i=e.orderedGroups(t);return i.length>0?i[0]:[]}async function iZ(e,t,i,o){let n=iY(e,t),r=await Promise.all(n.map(async e=>{let n;try{n=await e.provideDocumentRangeSemanticTokens(t,i,o)}catch(e){(0,e9.onUnexpectedExternalError)(e),n=null}return n&&iH(n)||(n=null),new ij(e,n)}));for(let e of r)if(e.tokens)return e;return r.length>0?r[0]:null}iz.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(e,...t)=>{let i,[o]=t;(0,ts.assertType)(o instanceof iK.URI);let n=e.get(iW.IModelService).getModel(o);if(!n)return;let{documentSemanticTokensProvider:r}=e.get(ii.ILanguageFeaturesService),s=(i=r.orderedGroups(n)).length>0?i[0]:null;return s?s[0].getLegend():e.get(iV.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",o)}),iz.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(e,...t)=>{let[i]=t;(0,ts.assertType)(i instanceof iK.URI);let o=e.get(iW.IModelService).getModel(i);if(!o)return;let{documentSemanticTokensProvider:n}=e.get(ii.ILanguageFeaturesService);if(!iq(n,o))return e.get(iV.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",i,o.getFullModelRange());let r=await i$(n,o,null,null,iF.CancellationToken.None);if(!r)return;let{provider:s,tokens:a}=r;if(!a||!iH(a))return;let l=(0,iB.encodeSemanticTokensDto)({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l}),iz.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(e,...t)=>{let[i,o]=t;(0,ts.assertType)(i instanceof iK.URI);let n=e.get(iW.IModelService).getModel(i);if(!n)return;let{documentRangeSemanticTokensProvider:r}=e.get(ii.ILanguageFeaturesService),s=iY(r,n);if(0===s.length)return;if(1===s.length)return s[0].getLegend();if(!o||!k.Range.isIRange(o))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();let a=await iZ(r,n,k.Range.lift(o),iF.CancellationToken.None);if(a)return a.provider.getLegend()}),iz.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(e,...t)=>{let[i,o]=t;(0,ts.assertType)(i instanceof iK.URI),(0,ts.assertType)(k.Range.isIRange(o));let n=e.get(iW.IModelService).getModel(i);if(!n)return;let{documentRangeSemanticTokensProvider:r}=e.get(ii.ILanguageFeaturesService),s=await iZ(r,n,k.Range.lift(o),iF.CancellationToken.None);if(s&&s.tokens)return(0,iB.encodeSemanticTokensDto)({id:0,type:"full",data:s.tokens.data})}),e.s(["getDocumentRangeSemanticTokens",()=>iZ,"getDocumentSemanticTokens",()=>i$,"hasDocumentRangeSemanticTokensProvider",()=>iQ,"hasDocumentSemanticTokensProvider",()=>iq,"isSemanticTokens",()=>iH,"isSemanticTokensEdits",()=>iU],259206);var iX=w,iJ=e.i(158367),i0=e.i(977681),i1=e.i(619223),i2=e.i(555690),i3=e.i(225696),i5=e.i(623096);let i4=class extends iX.Disposable{static{m=this}static{this.ID="editor.contrib.viewportSemanticTokens"}static get(e){return e.getContribution(m.ID)}constructor(e,t,i,o,n,r){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._provider=r.documentRangeSemanticTokensProvider,this._debounceInformation=n.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new b.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const s=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{s()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),s()})),this._register(this._editor.onDidChangeModelContent(e=>{this._cancelAll(),s()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),s()})),this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(iJ.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),s())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),s()})),s()}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!(0,iJ.isSemanticColoringEnabled)(e,this._themeService,this._configurationService)||!iQ(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}let t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(t=>this._requestRange(e,t)))}_requestRange(e,t){let i=e.getVersionId(),o=(0,b.createCancelablePromise)(i=>Promise.resolve(iZ(this._provider,e,t,i))),n=new i3.StopWatch(!1);return o.then(o=>{if(this._debounceInformation.update(e,n.elapsed()),!o||!o.tokens||e.isDisposed()||e.getVersionId()!==i)return;let{provider:r,tokens:s}=o,a=this._semanticTokensStylingService.getStyling(r);e.tokenization.setPartialSemanticTokens(t,(0,i0.toMultilineTokens2)(s,a,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};i4=m=(0,em.__decorate)([(0,em.__param)(1,i5.ISemanticTokensStylingService),(0,em.__param)(2,tU.IThemeService),(0,em.__param)(3,i1.IConfigurationService),(0,em.__param)(4,i2.ILanguageFeatureDebounceService),(0,em.__param)(5,ii.ILanguageFeaturesService)],i4),(0,I.registerEditorContribution)(i4.ID,i4,I.EditorContributionInstantiation.AfterFirstRender),e.s(["ViewportSemanticTokensContribution",()=>i4],860906);var i6=e.i(68858),i8=I,i9=e.i(84515);class i7{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){let i=[];for(let o of t){let t=[];i.push(t),this.selectSubwords&&this._addInWordRanges(t,e,o),this._addWordRanges(t,e,o),this._addWhitespaceLine(t,e,o),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){let o=t.getWordAtPosition(i);if(!o)return;let{word:n,startColumn:r}=o,s=i.column-r,a=s,l=s,d=0;for(;a>=0;a--){let e=n.charCodeAt(a);if(a!==s&&(e===eD.CharCode.Underline||e===eD.CharCode.Dash)||(0,ef.isLowerAsciiLetter)(e)&&(0,ef.isUpperAsciiLetter)(d))break;d=e}for(a+=1;l<n.length;l++){let e=n.charCodeAt(l);if((0,ef.isUpperAsciiLetter)(e)&&(0,ef.isLowerAsciiLetter)(d)||e===eD.CharCode.Underline||e===eD.CharCode.Dash)break;d=e}a<l&&e.push({range:new k.Range(i.lineNumber,r+a,i.lineNumber,r+l)})}_addWordRanges(e,t,i){let o=t.getWordAtPosition(i);o&&e.push({range:new k.Range(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new k.Range(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}class oe{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;let i=new oe(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let ot=class{static{_=this}static{this.ID="editor.contrib.smartSelectController"}static get(e){return e.getContribution(_.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){this._selectionListener?.dispose()}async run(e){if(!this._editor.hasModel())return;let t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||await oo(this._languageFeaturesService.selectionRangeProvider,i,t.map(e=>e.getPosition()),this._editor.getOption(x.EditorOption.smartSelect),iF.CancellationToken.None).then(e=>{if((0,i6.isNonEmptyArray)(e)&&e.length===t.length&&this._editor.hasModel()&&(0,i6.equals)(this._editor.getSelections(),t,(e,t)=>e.equalsSelection(t))){for(let i=0;i<e.length;i++)e[i]=e[i].filter(e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition())),e[i].unshift(t[i]);this._state=e.map(e=>new oe(0,e)),this._selectionListener?.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{this._ignoreSelection||(this._selectionListener?.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(t=>t.mov(e));let o=this._state.map(e=>A.Selection.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}}};ot=_=(0,em.__decorate)([(0,em.__param)(1,ii.ILanguageFeaturesService)],ot);class oi extends i8.EditorAction{constructor(e,t){super(t),this._forward=e}async run(e,t){let i=ot.get(t);i&&await i.run(this._forward)}}async function oo(e,t,i,o,n){let r=e.all(t).concat(new i7(o.selectSubwords));1===r.length&&r.unshift(new i9.BracketSelectionRangeProvider);let s=[],a=[];for(let e of r)s.push(Promise.resolve(e.provideSelectionRanges(t,i,n)).then(e=>{if((0,i6.isNonEmptyArray)(e)&&e.length===i.length)for(let t=0;t<i.length;t++)for(let o of(a[t]||(a[t]=[]),e[t]))k.Range.isIRange(o.range)&&k.Range.containsPosition(o.range,i[t])&&a[t].push(k.Range.lift(o.range))},e9.onUnexpectedExternalError));return await Promise.all(s),a.map(e=>{let i;if(0===e.length)return[];e.sort((e,t)=>D.Position.isBefore(e.getStartPosition(),t.getStartPosition())?1:D.Position.isBefore(t.getStartPosition(),e.getStartPosition())?-1:D.Position.isBefore(e.getEndPosition(),t.getEndPosition())?-1:1*!!D.Position.isBefore(t.getEndPosition(),e.getEndPosition()));let n=[];for(let t of e)(!i||k.Range.containsRange(t,i)&&!k.Range.equalsRange(t,i))&&(n.push(t),i=t);if(!o.selectLeadingAndTrailingWhitespace)return n;let r=[n[0]];for(let e=1;e<n.length;e++){let i=n[e-1],o=n[e];if(o.startLineNumber!==i.startLineNumber||o.endLineNumber!==i.endLineNumber){let e=new k.Range(i.startLineNumber,t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,t.getLineLastNonWhitespaceColumn(i.endLineNumber));e.containsRange(i)&&!e.equalsRange(i)&&o.containsRange(e)&&!o.equalsRange(e)&&r.push(e);let n=new k.Range(i.startLineNumber,1,i.endLineNumber,t.getLineMaxColumn(i.endLineNumber));n.containsRange(i)&&!n.equalsRange(e)&&o.containsRange(n)&&!o.equalsRange(n)&&r.push(n)}r.push(o)}return r})}iz.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,i8.registerEditorContribution)(ot.ID,ot,i8.EditorContributionInstantiation.Lazy),(0,i8.registerEditorAction)(class extends oi{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:(0,R.localize2)(1367,"Expand Selection"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.Shift|S.KeyMod.Alt|S.KeyCode.RightArrow,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.WinCtrl|S.KeyMod.Shift|S.KeyCode.RightArrow,secondary:[S.KeyMod.WinCtrl|S.KeyMod.Shift|S.KeyCode.RightArrow]},weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"1_basic",title:(0,R.localize)(1368,"&&Expand Selection"),order:2}})}}),(0,i8.registerEditorAction)(class extends oi{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:(0,R.localize2)(1369,"Shrink Selection"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.Shift|S.KeyMod.Alt|S.KeyCode.LeftArrow,mac:{primary:S.KeyMod.CtrlCmd|S.KeyMod.WinCtrl|S.KeyMod.Shift|S.KeyCode.LeftArrow,secondary:[S.KeyMod.WinCtrl|S.KeyMod.Shift|S.KeyCode.LeftArrow]},weight:P.KeybindingWeight.EditorContrib},menuOpts:{menuId:N.MenuId.MenubarSelectionMenu,group:"1_basic",title:(0,R.localize)(1370,"&&Shrink Selection"),order:3}})}}),iz.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(e,...t){let[i,o]=t;(0,ts.assertType)(iK.URI.isUri(i));let n=e.get(ii.ILanguageFeaturesService).selectionRangeProvider,r=await e.get(t8.ITextModelService).createModelReference(i);try{return oo(n,r.object.textEditorModel,o,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},iF.CancellationToken.None)}finally{r.dispose()}}),e.s(["SmartSelectController",()=>ot],647564);var on=w,or=e.i(678417),os=e.i(749351);let oa="ignoreUnusualLineTerminators",ol=class extends on.Disposable{static{this.ID="editor.contrib.unusualLineTerminatorsDetector"}constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(x.EditorOption.unusualLineTerminators),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(x.EditorOption.unusualLineTerminators)&&(this._config=this._editor.getOption(x.EditorOption.unusualLineTerminators),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(e=>{e.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){var e,t;let i;if("off"===this._config||!this._editor.hasModel())return;let o=this._editor.getModel();if(o.mightContainUnusualLineTerminators()){if(!(!0===(e=this._codeEditorService,e.getModelProperty(o.uri,oa))||this._editor.getOption(x.EditorOption.readOnly))){if("auto"===this._config)return void o.removeUnusualLineTerminators(this._editor.getSelections());if(!this._isPresentingDialog){try{this._isPresentingDialog=!0,i=await this._dialogService.confirm({title:(0,R.localize)(1521,"Unusual Line Terminators"),message:(0,R.localize)(1522,"Detected unusual line terminators"),detail:(0,R.localize)(1523,"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,or.basename)(o.uri)),primaryButton:(0,R.localize)(1524,"&&Remove Unusual Line Terminators"),cancelButton:(0,R.localize)(1525,"Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed)return void(t=this._codeEditorService,t.setModelProperty(o.uri,oa,!0));o.removeUnusualLineTerminators(this._editor.getSelections())}}}}};ol=(0,em.__decorate)([(0,em.__param)(1,os.IDialogService),(0,em.__param)(2,ei.ICodeEditorService)],ol),(0,I.registerEditorContribution)(ol.ID,ol,I.EditorContributionInstantiation.AfterFirstRender),e.s(["UnusualLineTerminatorsDetector",()=>ol],547184);var od=w,oc=e.i(441900),ou=e.i(533412),oh=e.i(322549),op=I,og=e.i(542157),om=e.i(447722),o_=w;class of{constructor(){this.selector={language:"*"}}provideDocumentHighlights(e,t,i){let o=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});return o?e.isDisposed()?void 0:e.findMatches(o.word,!0,!1,!0,om.USUAL_WORD_SEPARATORS,!1).map(e=>({range:e.range,kind:il.DocumentHighlightKind.Text})):Promise.resolve([])}provideMultiDocumentHighlights(e,t,i,o){let n=new oc.ResourceMap,r=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});if(!r)return Promise.resolve(n);for(let t of[e,...i]){if(t.isDisposed())continue;let e=t.findMatches(r.word,!0,!1,!0,om.USUAL_WORD_SEPARATORS,!1).map(e=>({range:e.range,kind:il.DocumentHighlightKind.Text}));e&&n.set(t.uri,e)}return n}}let oy=class extends o_.Disposable{constructor(e){super(),this._register(e.documentHighlightProvider.register("*",new of)),this._register(e.multiDocumentHighlightProvider.register("*",new of))}};oy=(0,em.__decorate)([(0,em.__param)(0,ii.ILanguageFeaturesService)],oy);let ov=new X.RawContextKey("hasWordHighlights",!1);function oC(e,t,i,o){let n=e.ordered(t);return(0,b.first)(n.map(e=>()=>Promise.resolve(e.provideDocumentHighlights(t,i,o)).then(void 0,e9.onUnexpectedExternalError)),e=>null!=e).then(e=>{if(e){let i=new oc.ResourceMap;return i.set(t.uri,e),i}return new oc.ResourceMap})}class ob{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,b.createCancelablePromise)(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){let i=e.getWordAtPosition(t.getPosition());return i?new k.Range(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){let o=t.startLineNumber,n=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t),a=!!(this._wordRange&&this._wordRange.equalsRange(s));for(let e=0,t=i.length;!a&&e<t;e++){let t=i.getRange(e);t&&t.startLineNumber===o&&t.startColumn<=n&&t.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}}class oS extends ob{constructor(e,t,i,o){super(e,t,i),this._providers=o}_compute(e,t,i,o){return oC(this._providers,e,t.getPosition(),o).then(e=>e||new oc.ResourceMap)}}class ow extends ob{constructor(e,t,i,o,n){super(e,t,i),this._providers=o,this._otherModels=n}_compute(e,t,i,o){var n,r,s;let a;return(n=this._providers,r=t.getPosition(),s=this._otherModels,a=n.ordered(e),(0,b.first)(a.map(t=>()=>{let i=s.filter(e=>(0,L.shouldSynchronizeModel)(e)).filter(e=>(0,og.score)(t.selector,e.uri,e.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(t.provideMultiDocumentHighlights(e,r,i,o)).then(void 0,e9.onUnexpectedExternalError)}),e=>null!=e)).then(e=>e||new oc.ResourceMap)}}(0,op.registerModelAndPositionCommand)("_executeDocumentHighlights",async(e,t,i)=>{let o=e.get(ii.ILanguageFeaturesService),n=await oC(o.documentHighlightProvider,t,i,iF.CancellationToken.None);return n?.get(t.uri)});let oE=class{static{f=this}static{this.storedDecorationIDs=new oc.ResourceMap}static{this.query=null}constructor(e,t,i,o,n,r,s,a){this.toUnhook=new od.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new oc.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.runDelayer=this.toUnhook.add(new b.Delayer(50)),this.editor=e,this.providers=t,this.multiDocumentProviders=i,this.codeEditorService=r,this.textModelService=n,this.configurationService=s,this.logService=a,this._hasWordHighlights=ov.bindTo(o),this._ignorePositionChangeEvent=!1,this.occurrencesHighlightEnablement=this.editor.getOption(x.EditorOption.occurrencesHighlight),this.occurrencesHighlightDelay=this.configurationService.getValue("editor.occurrencesHighlightDelay"),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(e=>{this._ignorePositionChangeEvent||"off"!==this.occurrencesHighlightEnablement&&this.runDelayer.trigger(()=>{this._onPositionChanged(e)})})),this.toUnhook.add(e.onDidFocusEditorText(e=>{"off"!==this.occurrencesHighlightEnablement&&(this.workerRequest||this.runDelayer.trigger(()=>{this._run()}))})),this.toUnhook.add(e.onDidChangeModelContent(e=>{(0,ou.matchesScheme)(this.model.uri,"output")||this._stopAll()})),this.toUnhook.add(e.onDidChangeModel(e=>{!e.newModelUrl&&e.oldModelUrl?this._stopSingular():f.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration(e=>{let t=this.editor.getOption(x.EditorOption.occurrencesHighlight);if(this.occurrencesHighlightEnablement!==t)switch(this.occurrencesHighlightEnablement=t,t){case"off":this._stopAll();break;case"singleFile":this._stopAll(f.query?.modelInfo?.modelURI);break;case"multiFile":f.query&&this._run(!0);break;default:console.warn("Unknown occurrencesHighlight setting value:",t)}})),this.toUnhook.add(this.configurationService.onDidChangeConfiguration(e=>{if(e.affectsConfiguration("editor.occurrencesHighlightDelay")){let e=s.getValue("editor.occurrencesHighlightDelay");this.occurrencesHighlightDelay!==e&&(this.occurrencesHighlightDelay=e)}})),this.toUnhook.add(e.onDidBlurEditorWidget(()=>{let e=this.codeEditorService.getFocusedCodeEditor();e?e.getModel()?.uri.scheme===ou.Schemas.vscodeNotebookCell&&this.editor.getModel()?.uri.scheme!==ou.Schemas.vscodeNotebookCell&&this._stopAll():this._stopAll()})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,f.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){"off"!==this.occurrencesHighlightEnablement&&(this.runDelayer.cancel(),this._run())}trigger(){this.runDelayer.cancel(),this._run(!1,!0)}stop(){"off"!==this.occurrencesHighlightEnablement&&this._stopAll()}_getSortedHighlights(){return this.decorations.getRanges().sort(k.Range.compareRangesUsingStarts)}moveNext(){let e=this._getSortedHighlights(),t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);let o=this._getWord();if(o){let n=this.editor.getModel().getLineContent(i.startLineNumber);(0,e3.alert)(`${n}, ${t+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);let o=this._getWord();if(o){let n=this.editor.getModel().getLineContent(i.startLineNumber);(0,e3.alert)(`${n}, ${t+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;let e=f.storedDecorationIDs.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),f.storedDecorationIDs.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(e){let t=this.codeEditorService.listCodeEditors(),i=[];for(let o of t){if(!o.hasModel()||(0,or.isEqual)(o.getModel().uri,e))continue;let t=f.storedDecorationIDs.get(o.getModel().uri);if(!t)continue;o.removeDecorations(t),i.push(o.getModel().uri);let n=oI.get(o);n?.wordHighlighter&&n.wordHighlighter.decorations.length>0&&(n.wordHighlighter.decorations.clear(),n.wordHighlighter.workerRequest=null,n.wordHighlighter._hasWordHighlights.set(!1))}for(let e of i)f.storedDecorationIDs.delete(e)}_stopSingular(){this._removeSingleDecorations(),this.editor.hasTextFocus()&&(this.editor.getModel()?.uri.scheme!==ou.Schemas.vscodeNotebookCell&&f.query?.modelInfo?.modelURI.scheme!==ou.Schemas.vscodeNotebookCell?(f.query=null,this._run()):f.query?.modelInfo&&(f.query.modelInfo=null)),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(e){this._removeAllDecorations(e),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){"off"===this.occurrencesHighlightEnablement||e.reason!==ew.CursorChangeReason.Explicit&&this.editor.getModel()?.uri.scheme!==ou.Schemas.vscodeNotebookCell?this._stopAll():this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:i})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===ou.Schemas.vscodeNotebookCell){let t=[];for(let i of this.codeEditorService.listCodeEditors()){let o=i.getModel();o&&o!==e&&o.uri.scheme===ou.Schemas.vscodeNotebookCell&&t.push(o)}return t}let t=[],i=this.codeEditorService.listCodeEditors();for(let o of i){if(!(0,eY.isDiffEditor)(o))continue;let i=o.getModel();i&&e===i.modified&&t.push(i.modified)}if(t.length)return t;if("singleFile"===this.occurrencesHighlightEnablement)return[];for(let o of i){let i=o.getModel();i&&i!==e&&t.push(i)}return t}async _run(e,t){if(this.editor.hasTextFocus()){let e=this.editor.getSelection();if(!e||e.startLineNumber!==e.endLineNumber){f.query=null,this._stopAll();return}let t=e.startColumn,i=e.endColumn,o=this._getWord();if(!o||o.startColumn>t||o.endColumn<i){f.query=null,this._stopAll();return}f.query={modelInfo:{modelURI:this.model.uri,selection:e}}}else if(!f.query)return void this._stopAll();if(this.lastCursorPositionChangeTime=new Date().getTime(),(0,or.isEqual)(this.editor.getModel().uri,f.query.modelInfo?.modelURI)){if(!e){for(let e of this.decorations.getRanges())if(e.containsPosition(this.editor.getPosition()))return}this._stopAll(e?this.model.uri:void 0);let t=++this.workerRequestTokenId;this.workerRequestCompleted=!1;let i=this.getOtherModelsToHighlight(this.editor.getModel());if(!f.query||!f.query.modelInfo)return;let o=await this.textModelService.createModelReference(f.query.modelInfo.modelURI);try{this.workerRequest=this.computeWithModel(o.object.textEditorModel,f.query.modelInfo.selection,i),this.workerRequest?.result.then(e=>{t===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=e||[],this._beginRenderDecorations())},e9.onUnexpectedError)}catch(e){this.logService.error("Unexpected error during occurrence request. Log: ",e)}finally{o.dispose()}}else if(this.model.uri.scheme===ou.Schemas.vscodeNotebookCell){let e=++this.workerRequestTokenId;if(this.workerRequestCompleted=!1,!f.query||!f.query.modelInfo)return;let i=await this.textModelService.createModelReference(f.query.modelInfo.modelURI);try{this.workerRequest=this.computeWithModel(i.object.textEditorModel,f.query.modelInfo.selection,[this.model]),this.workerRequest?.result.then(i=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=i||[],this._beginRenderDecorations(t))},e9.onUnexpectedError)}catch(e){this.logService.error("Unexpected error during occurrence request. Log: ",e)}finally{i.dispose()}}}computeWithModel(e,t,i){var o,n;return i.length?(o=this.multiDocumentProviders,new ow(e,t,this.editor.getOption(x.EditorOption.wordSeparators),o,i)):(n=this.providers,new oS(e,t,this.editor.getOption(x.EditorOption.wordSeparators),n))}_beginRenderDecorations(e){let t=new Date().getTime(),i=this.lastCursorPositionChangeTime+(e?0:this.occurrencesHighlightDelay);t>=i?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},i-t)}renderDecorations(){for(let t of(this.renderDecorationsTimer=-1,this.codeEditorService.listCodeEditors())){let i=oI.get(t);if(!i)continue;let o=[],n=t.getModel()?.uri;if(n&&this.workerRequestValue.has(n)){let r=f.storedDecorationIDs.get(n),s=this.workerRequestValue.get(n);if(s){for(let t of s)if(t.range){var e;o.push({range:t.range,options:(e=t.kind)===il.DocumentHighlightKind.Write?ig:e===il.DocumentHighlightKind.Text?im:iv})}}let a=[];t.changeDecorations(e=>{a=e.deltaDecorations(r??[],o)}),f.storedDecorationIDs=f.storedDecorationIDs.set(n,a),o.length>0&&(i.wordHighlighter?.decorations.set(o),i.wordHighlighter?._hasWordHighlights.set(!0))}}this.workerRequest=null}dispose(){this._stopSingular(),this.toUnhook.dispose()}};oE=f=(0,em.__decorate)([(0,em.__param)(4,t8.ITextModelService),(0,em.__param)(5,ei.ICodeEditorService),(0,em.__param)(6,i1.IConfigurationService),(0,em.__param)(7,oh.ILogService)],oE);let oI=class extends od.Disposable{static{y=this}static{this.ID="editor.contrib.wordHighlighter"}static get(e){return e.getContribution(y.ID)}constructor(e,t,i,o,n,r,s){super(),this._wordHighlighter=null;const a=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&e.getModel().uri.scheme!==ou.Schemas.accessibleView&&(this._wordHighlighter=new oE(e,i.documentHighlightProvider,i.multiDocumentHighlightProvider,t,n,o,r,s))};this._register(e.onDidChangeModel(e=>{this._wordHighlighter&&(e.newModelUrl||e.oldModelUrl?.scheme===ou.Schemas.vscodeNotebookCell||this.wordHighlighter?.stop(),this._wordHighlighter.dispose(),this._wordHighlighter=null),a()})),a()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){this._wordHighlighter?.moveNext()}moveBack(){this._wordHighlighter?.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}stopHighlighting(){this._wordHighlighter?.stop()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};oI=y=(0,em.__decorate)([(0,em.__param)(1,tK.IContextKeyService),(0,em.__param)(2,ii.ILanguageFeaturesService),(0,em.__param)(3,ei.ICodeEditorService),(0,em.__param)(4,t8.ITextModelService),(0,em.__param)(5,i1.IConfigurationService),(0,em.__param)(6,oh.ILogService)],oI);class ox extends op.EditorAction{constructor(e,t){super(t),this._isNext=e}run(e,t){let i=oI.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class oD extends op.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:(0,R.localize2)(1537,"Trigger Symbol Highlight"),precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:0,weight:P.KeybindingWeight.EditorContrib}})}run(e,t,i){let o=oI.get(t);o&&o.restoreViewState(!0)}}(0,op.registerEditorContribution)(oI.ID,oI,op.EditorContributionInstantiation.Eager),(0,op.registerEditorAction)(class extends ox{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:(0,R.localize2)(1535,"Go to Next Symbol Highlight"),precondition:ov,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyCode.F7,weight:P.KeybindingWeight.EditorContrib}})}}),(0,op.registerEditorAction)(class extends ox{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:(0,R.localize2)(1536,"Go to Previous Symbol Highlight"),precondition:ov,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyMod.Shift|S.KeyCode.F7,weight:P.KeybindingWeight.EditorContrib}})}}),(0,op.registerEditorAction)(oD),i(oy),e.s(["WordHighlighterContribution",()=>oI],267026),e.s(["ASK_QUICK_QUESTION_ACTION_ID",()=>"workbench.action.quickchat.toggle","CHAT_OPEN_ACTION_ID",()=>"workbench.action.chat.open"],609746);var ok=e.i(972920),oA=e.i(815486);class oM{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t,i){let o=new w.DisposableStore;e.canAcceptInBackground=!!this.options?.canAcceptInBackground,e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let n=o.add(new w.MutableDisposable);return n.value=this.doProvide(e,t,i),o.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(e,t)})),o}doProvide(e,t,i){let o=new w.DisposableStore,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){let r={editor:n},s=(0,eY.getCodeEditor)(n);if(s){let e=n.saveViewState()??void 0;o.add(s.onDidChangeCursorPosition(()=>{e=n.saveViewState()??void 0})),r.restoreViewState=()=>{e&&n===this.activeTextEditorControl&&n.restoreViewState(e)},o.add((0,ok.createSingleCallFunction)(t.onCancellationRequested)(()=>r.restoreViewState?.()))}o.add((0,w.toDisposable)(()=>this.clearDecorations(n))),o.add(this.provideWithTextEditor(r,e,t,i))}else o.add(this.provideWithoutTextEditor(e,t));return o}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range,oA.TextEditorSelectionSource.JUMP),e.revealRangeInCenter(t.range,eo.ScrollType.Smooth),t.preserveFocus||e.focus();let i=e.getModel();i&&"getLineContent"in i&&(0,e3.status)(`${i.getLineContent(t.range.startLineNumber)}`)}getModel(e){return(0,eY.isDiffEditor)(e)?e.getModel()?.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{let i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);let o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,V.themeColorFromId)(ev.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[n,r]=e.deltaDecorations(i,o);this.rangeHighlightDecorationId={rangeHighlightId:n,overviewRulerDecorationId:r}})}clearDecorations(e){let t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class oL extends oM{static{this.PREFIX=":"}constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){let t=(0,R.localize)(1311,"Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,w.Disposable.None}provideWithTextEditor(e,t,i){let o=e.editor,n=new w.DisposableStore;n.add(t.onDidAccept(i=>{let[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(o,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}}));let r=()=>{let e=this.parsePosition(o,t.value.trim().substr(oL.PREFIX.length)),i=this.getPickLabel(o,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(o,e.lineNumber))return void this.clearDecorations(o);let n=this.toRange(e.lineNumber,e.column);o.revealRangeInCenter(n,eo.ScrollType.Smooth),this.addDecorations(o,n)};r(),n.add(t.onDidChangeValue(()=>r()));let s=(0,eY.getCodeEditor)(o);return s&&s.getOptions().get(x.EditorOption.lineNumbers).renderType===x.RenderLineNumbersType.Relative&&(s.updateOptions({lineNumbers:"on"}),n.add((0,w.toDisposable)(()=>s.updateOptions({lineNumbers:"relative"})))),n}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){let i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),o=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:o+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,R.localize)(1312,"Go to line {0} and character {1}.",t,i):(0,R.localize)(1313,"Go to line {0}.",t);let o=e.getPosition()||{lineNumber:1,column:1},n=this.lineCount(e);return n>1?(0,R.localize)(1314,"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",o.lineNumber,o.column,n):(0,R.localize)(1315,"Current Line: {0}, Character: {1}. Type a line number to navigate to.",o.lineNumber,o.column)}isValidLineNumber(e,t){return!!t&&"number"==typeof t&&t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;let o=this.getModel(e);if(!o)return!1;let n={lineNumber:t,column:i};return o.validatePosition(n).equals(n)}lineCount(e){return this.getModel(e)?.getLineCount()??0}}e.s(["AbstractGotoLineQuickAccessProvider",()=>oL],977574);var oT=e.i(370572),oR=e.i(810602),oN=e.i(569038),oP=e.i(462142),oO=e.i(170934),oF=e.i(543103);let oK=class extends oM{static{v=this}static{this.PREFIX="@"}static{this.SCOPE_PREFIX=":"}static{this.PREFIX_BY_CATEGORY=`${this.PREFIX}${this.SCOPE_PREFIX}`}constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,R.localize)(1316,"To go to a symbol, first open a text editor with symbol information.")),w.Disposable.None}provideWithTextEditor(e,t,i,o){let n=e.editor,r=this.getModel(n);return r?this._languageFeaturesService.documentSymbolProvider.has(r)?this.doProvideWithEditorSymbols(e,r,t,i,o):this.doProvideWithoutEditorSymbols(e,r,t,i):w.Disposable.None}doProvideWithoutEditorSymbols(e,t,i,o){let n=new w.DisposableStore;return this.provideLabelPick(i,(0,R.localize)(1317,"The active text editor does not provide symbol information.")),(async()=>{await this.waitForLanguageSymbolRegistry(t,n)&&!o.isCancellationRequested&&n.add(this.doProvideWithEditorSymbols(e,t,i,o))})(),n}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:il.SymbolKind.String}],e.ariaLabel=t}async waitForLanguageSymbolRegistry(e,t){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;let i=new b.DeferredPromise,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),i.complete(!0))}));return t.add((0,w.toDisposable)(()=>i.complete(!1))),i.p}doProvideWithEditorSymbols(e,t,i,o,n){let r,s=e.editor,a=new w.DisposableStore;a.add(i.onDidAccept(t=>{let[o]=i.selectedItems;o&&o.range&&(this.gotoLocation(e,{range:o.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),n?.handleAccept?.(o,t.inBackground),t.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));let l=this.getDocumentSymbols(t,o),d=async e=>{r?.dispose(!0),i.busy=!1,r=new iF.CancellationTokenSource(o),i.busy=!0;try{let n=(0,oO.prepareQuery)(i.value.substr(v.PREFIX.length).trim()),s=await this.doGetSymbolPicks(l,n,void 0,r.token,t);if(o.isCancellationRequested)return;if(s.length>0){if(i.items=s,e&&0===n.original.length){let t=(0,eC.findLast)(s,t=>!!("separator"!==t.type&&t.range&&k.Range.containsPosition(t.range.decoration,e)));t&&(i.activeItems=[t])}}else n.original.length>0?this.provideLabelPick(i,(0,R.localize)(1318,"No matching editor symbols")):this.provideLabelPick(i,(0,R.localize)(1319,"No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}};return a.add(i.onDidChangeValue(()=>d(void 0))),d(s.getSelection()?.getPosition()),a.add(i.onDidChangeActive(()=>{let[e]=i.activeItems;e&&e.range&&(s.revealRangeInCenter(e.range.selection,eo.ScrollType.Smooth),this.addDecorations(s,e.range.decoration))})),a}async doGetSymbolPicks(e,t,i,o,n){let r,s,a,l=await e;if(o.isCancellationRequested)return[];let d=0===t.original.indexOf(v.SCOPE_PREFIX),c=+!!d;t.values&&t.values.length>1?(r=(0,oO.pieceToQuery)(t.values[0]),s=(0,oO.pieceToQuery)(t.values.slice(1))):r=t;let u=this.options?.openSideBySideDirection?.();u&&(a=[{iconClass:"right"===u?tn.ThemeIcon.asClassName(e8.Codicon.splitHorizontal):tn.ThemeIcon.asClassName(e8.Codicon.splitVertical),tooltip:"right"===u?(0,R.localize)(1320,"Open to the Side"):(0,R.localize)(1321,"Open to the Bottom")}]);let h=[];for(let e=0;e<l.length;e++){let o,d,u,p,g=l[e],m=(0,ef.trim)(g.name),_=`$(${il.SymbolKinds.toIcon(g.kind).id}) ${m}`,f=_.length-m.length,y=g.containerName;if(i?.extraContainerLabel&&(y=y?`${i.extraContainerLabel}  ${y}`:i.extraContainerLabel),t.original.length>c){let e=!1;if(r!==t&&([o,d]=(0,oO.scoreFuzzy2)(_,{...t,values:void 0},c,f),"number"==typeof o&&(e=!0)),"number"!=typeof o&&([o,d]=(0,oO.scoreFuzzy2)(_,r,c,f),"number"!=typeof o))continue;if(!e&&s){if(y&&s.original.length>0&&([u,p]=(0,oO.scoreFuzzy2)(y,s)),"number"!=typeof u)continue;"number"==typeof o&&(o+=u)}}let v=g.tags&&g.tags.indexOf(il.SymbolTag.Deprecated)>=0;h.push({index:e,kind:g.kind,score:o,label:_,ariaLabel:(0,il.getAriaLabelForSymbol)(g.name,g.kind),description:y,highlights:v?void 0:{label:d,description:p},range:{selection:k.Range.collapseToStart(g.selectionRange),decoration:g.range},uri:n.uri,symbolName:m,strikethrough:v,buttons:a})}let p=h.sort((e,t)=>d?this.compareByKindAndScore(e,t):this.compareByScore(e,t)),g=[];if(d){let e,t,i=0;function m(){t&&"number"==typeof e&&i>0&&(t.label=(0,ef.format)(oz[e]||oW,i))}for(let o of p)e!==o.kind?(m(),e=o.kind,i=1,t={type:"separator"},g.push(t)):i++,g.push(o);m()}else p.length>0&&(g=[{label:(0,R.localize)(1322,"symbols ({0})",h.length),type:"separator"},...p]);return g}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return -1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return -1;else if(e.score<t.score)return 1}return e.index<t.index?-1:+(e.index>t.index)}compareByKindAndScore(e,t){let i=oz[e.kind]||oW,o=oz[t.kind]||oW,n=i.localeCompare(o);return 0===n?this.compareByScore(e,t):n}async getDocumentSymbols(e,t){let i=await this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}};oK=v=(0,em.__decorate)([(0,em.__param)(0,ii.ILanguageFeaturesService),(0,em.__param)(1,oF.IOutlineModelService)],oK);let oW=(0,R.localize)(1323,"properties ({0})"),oz={[il.SymbolKind.Method]:(0,R.localize)(1324,"methods ({0})"),[il.SymbolKind.Function]:(0,R.localize)(1325,"functions ({0})"),[il.SymbolKind.Constructor]:(0,R.localize)(1326,"constructors ({0})"),[il.SymbolKind.Variable]:(0,R.localize)(1327,"variables ({0})"),[il.SymbolKind.Class]:(0,R.localize)(1328,"classes ({0})"),[il.SymbolKind.Struct]:(0,R.localize)(1329,"structs ({0})"),[il.SymbolKind.Event]:(0,R.localize)(1330,"events ({0})"),[il.SymbolKind.Operator]:(0,R.localize)(1331,"operators ({0})"),[il.SymbolKind.Interface]:(0,R.localize)(1332,"interfaces ({0})"),[il.SymbolKind.Namespace]:(0,R.localize)(1333,"namespaces ({0})"),[il.SymbolKind.Package]:(0,R.localize)(1334,"packages ({0})"),[il.SymbolKind.TypeParameter]:(0,R.localize)(1335,"type parameters ({0})"),[il.SymbolKind.Module]:(0,R.localize)(1336,"modules ({0})"),[il.SymbolKind.Property]:(0,R.localize)(1323,"properties ({0})"),[il.SymbolKind.Enum]:(0,R.localize)(1337,"enumerations ({0})"),[il.SymbolKind.EnumMember]:(0,R.localize)(1338,"enumeration members ({0})"),[il.SymbolKind.String]:(0,R.localize)(1339,"strings ({0})"),[il.SymbolKind.File]:(0,R.localize)(1340,"files ({0})"),[il.SymbolKind.Array]:(0,R.localize)(1341,"arrays ({0})"),[il.SymbolKind.Number]:(0,R.localize)(1342,"numbers ({0})"),[il.SymbolKind.Boolean]:(0,R.localize)(1343,"booleans ({0})"),[il.SymbolKind.Object]:(0,R.localize)(1344,"objects ({0})"),[il.SymbolKind.Key]:(0,R.localize)(1345,"keys ({0})"),[il.SymbolKind.Field]:(0,R.localize)(1346,"fields ({0})"),[il.SymbolKind.Constant]:(0,R.localize)(1347,"constants ({0})")};var oV=N,oB=e.i(951806),oH=e.i(460412),oU=e.i(308733),oG=e.i(380755),oq=e.i(135517),o$=e.i(705266);let oj=class extends oK{static{C=this}constructor(e,t,i,o,n,r){super(o,r,{openSideBySideDirection:()=>this.configuration.openSideBySideDirection}),this.editorService=e,this.editorGroupService=t,this.configurationService=i,this.outlineService=n,this.onDidActiveTextEditorControlChange=this.editorService.onDidActiveEditorChange}get configuration(){let e=this.configurationService.getValue().workbench?.editor;return{openEditorPinned:!e?.enablePreviewFromQuickOpen||!e?.enablePreview,openSideBySideDirection:e?.openSideBySideDirection}}get activeTextEditorControl(){if(!(0,eY.isCompositeEditor)(this.editorService.activeEditorPane?.getControl()))return this.editorService.activeTextEditorControl}gotoLocation(e,t){if((t.keyMods.alt||this.configuration.openEditorPinned&&t.keyMods.ctrlCmd||t.forceSideBySide)&&this.editorService.activeEditor){e.restoreViewState?.();let i={selection:t.range,pinned:t.keyMods.ctrlCmd||this.configuration.openEditorPinned,preserveFocus:t.preserveFocus};this.editorGroupService.sideGroup.openEditor(this.editorService.activeEditor,i)}else super.gotoLocation(e,t)}static{this.SYMBOL_PICKS_TIMEOUT=8e3}async getSymbolPicks(e,t,i,o,n){return!await Promise.race([this.waitForLanguageSymbolRegistry(e,o),(0,b.timeout)(C.SYMBOL_PICKS_TIMEOUT)])||n.isCancellationRequested?[]:this.doGetSymbolPicks(this.getDocumentSymbols(e,n),(0,oO.prepareQuery)(t),i,n,e)}provideWithoutTextEditor(e){return this.canPickWithOutlineService()?this.doGetOutlinePicks(e):super.provideWithoutTextEditor(e)}canPickWithOutlineService(){return!!this.editorService.activeEditorPane&&this.outlineService.canCreateOutline(this.editorService.activeEditorPane)}doGetOutlinePicks(e){let t=this.editorService.activeEditorPane;if(!t)return w.Disposable.None;let i=new iF.CancellationTokenSource,o=new w.DisposableStore;return o.add((0,w.toDisposable)(()=>i.dispose(!0))),e.busy=!0,this.outlineService.createOutline(t,oH.OutlineTarget.QuickPick,i.token).then(t=>{if(!t)return;if(i.token.isCancellationRequested)return void t.dispose();o.add(t);let n=t.captureViewState();o.add((0,w.toDisposable)(()=>{0===e.selectedItems.length&&n.dispose()}));let r=t.config.quickPickDataSource.getQuickPickElements(),s=r.map((e,t)=>({kind:il.SymbolKind.File,index:t,score:0,label:e.label,description:e.description,ariaLabel:e.ariaLabel,iconClasses:e.iconClasses}));o.add(e.onDidAccept(()=>{e.hide();let[i]=e.selectedItems;i&&r[i.index]&&t.reveal(r[i.index].element,{},!1,!1)}));let a=()=>{let t=s.filter(t=>{if("@"===e.value)return t.score=0,t.highlights=void 0,!0;let i=e.value.substring(oK.PREFIX.length).trim(),o=(0,o$.parseLabelWithIcons)(t.label),n=(0,oB.fuzzyScore)(i,i.toLowerCase(),0,o.text,o.text.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return!!n&&(t.score=n[1],t.highlights={label:(0,o$.matchesFuzzyIconAware)(i,o)??void 0},!0)});if(0===t.length){let t=(0,R.localize)(4717,"No matching entries");e.items=[{label:t,index:-1,kind:il.SymbolKind.String}],e.ariaLabel=t}else e.items=t};a(),o.add(e.onDidChangeValue(a));let l=new w.MutableDisposable;o.add(l),o.add(e.onDidChangeActive(()=>{let[i]=e.activeItems;i&&r[i.index]?l.value=t.preview(r[i.index].element):l.clear()}))}).catch(t=>{(0,e9.onUnexpectedError)(t),e.hide()}).finally(()=>{e.busy=!1}),o}};oj=C=(0,em.__decorate)([(0,em.__param)(0,oR.IEditorService),(0,em.__param)(1,oG.IEditorGroupsService),(0,em.__param)(2,i1.IConfigurationService),(0,em.__param)(3,ii.ILanguageFeaturesService),(0,em.__param)(4,oU.IOutlineService),(0,em.__param)(5,oF.IOutlineModelService)],oj);class oQ extends oV.Action2{static{this.ID="workbench.action.gotoSymbol"}constructor(){super({id:oQ.ID,title:{...(0,R.localize2)(4718,"Go to Symbol in Editor..."),mnemonicTitle:(0,R.localize)(4719,"Go to &&Symbol in Editor...")},f1:!0,keybinding:{when:X.ContextKeyExpr.and(oq.accessibleViewIsShown.negate(),oq.accessibilityHelpIsShown.negate()),weight:P.KeybindingWeight.WorkbenchContrib,primary:S.KeyMod.CtrlCmd|S.KeyMod.Shift|S.KeyCode.KeyO},menu:[{id:oV.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:1}]})}run(e){e.get(tB.IQuickInputService).quickAccess.show(oj.PREFIX,{itemActivation:oT.ItemActivation.NONE})}}(0,oV.registerAction2)(oQ),oN.Registry.as(oP.Extensions.Quickaccess).registerQuickAccessProvider({ctor:oj,prefix:oK.PREFIX,contextKey:"inFileSymbolsPicker",placeholder:(0,R.localize)(4720,"Type the name of a symbol to go to."),helpEntries:[{description:(0,R.localize)(4721,"Go to Symbol in Editor"),prefix:oK.PREFIX,commandId:oQ.ID,commandCenterOrder:40},{description:(0,R.localize)(4722,"Go to Symbol in Editor by Category"),prefix:oK.PREFIX_BY_CATEGORY}]}),e.s(["GotoSymbolQuickAccessProvider",()=>oj],814793)},239686,539502,e=>{"use strict";var t,i;(i=t||(t={}))[i.SHORT=0]="SHORT",i[i.MEDIUM=1]="MEDIUM",i[i.LONG=2]="LONG",e.s(["Verbosity",()=>t],239686),e.i(304729),e.i(847307);class o{constructor(e,t){this.descriptorFn=e,this.stylesFn=t}getDescription(){return this.descriptorFn(null)}getColors(e){return this.stylesFn?.(e)}}class n extends o{constructor(e,t){super(t,void 0),this.number=e,this.number=e}getDescription(){return this.descriptorFn(this.number)}}class r extends o{constructor(e,t,i){super(t,i),this.icon=e}}class s extends o{constructor(e){super(e,void 0)}}e.s(["IconBadge",()=>r,"NumberBadge",()=>n,"ProgressBadge",()=>s],539502)},803271,e=>{"use strict";var t=e.i(790059);function i(e,i,o){let a,l,d,c,u,h;{for(u=(c=i.offset)+i.length,d=c;d>0&&!s(e,d-1);)d--;let t=u;for(;t<e.length&&!s(e,t);)t++;a=function(e,t){let i=0,o=0,n=t.tabSize||4;for(;i<e.length;){let t=e.charAt(i);if(" "===t)o++;else if("	"===t)o+=n;else break;i++}return Math.floor(o/n)}(l=e.substring(d,t),o)}let p=r(o,e),g=!1,m=0;h=o.insertSpaces?n(" ",o.tabSize||4):"	";let _=(0,t.createScanner)(l,!1),f=!1;function y(){return p+n(h,a+m)}function v(){let e=_.scan();for(g=!1;e===t.SyntaxKind.Trivia||e===t.SyntaxKind.LineBreakTrivia;)g=g||e===t.SyntaxKind.LineBreakTrivia,e=_.scan();return f=e===t.SyntaxKind.Unknown||_.getTokenError()!==t.ScanError.None,e}let C=[];function b(t,i,o){!f&&i<u&&o>c&&e.substring(i,o)!==t&&C.push({offset:i,length:o-i,content:t})}let S=v();if(S!==t.SyntaxKind.EOF){let e=_.getTokenOffset()+d;b(n(h,a),d,e)}for(;S!==t.SyntaxKind.EOF;){let e=_.getTokenOffset()+_.getTokenLength()+d,i=v(),o="";for(;!g&&(i===t.SyntaxKind.LineCommentTrivia||i===t.SyntaxKind.BlockCommentTrivia);)b(" ",e,_.getTokenOffset()+d),e=_.getTokenOffset()+_.getTokenLength()+d,o=i===t.SyntaxKind.LineCommentTrivia?y():"",i=v();if(i===t.SyntaxKind.CloseBraceToken)S!==t.SyntaxKind.OpenBraceToken&&(m--,o=y());else if(i===t.SyntaxKind.CloseBracketToken)S!==t.SyntaxKind.OpenBracketToken&&(m--,o=y());else{switch(S){case t.SyntaxKind.OpenBracketToken:case t.SyntaxKind.OpenBraceToken:m++,o=y();break;case t.SyntaxKind.CommaToken:case t.SyntaxKind.LineCommentTrivia:o=y();break;case t.SyntaxKind.BlockCommentTrivia:o=g?y():" ";break;case t.SyntaxKind.ColonToken:o=" ";break;case t.SyntaxKind.StringLiteral:if(i===t.SyntaxKind.ColonToken){o="";break}case t.SyntaxKind.NullKeyword:case t.SyntaxKind.TrueKeyword:case t.SyntaxKind.FalseKeyword:case t.SyntaxKind.NumericLiteral:case t.SyntaxKind.CloseBraceToken:case t.SyntaxKind.CloseBracketToken:i===t.SyntaxKind.LineCommentTrivia||i===t.SyntaxKind.BlockCommentTrivia?o=" ":i!==t.SyntaxKind.CommaToken&&i!==t.SyntaxKind.EOF&&(f=!0);break;case t.SyntaxKind.Unknown:f=!0}g&&(i===t.SyntaxKind.LineCommentTrivia||i===t.SyntaxKind.BlockCommentTrivia)&&(o=y())}b(o,e,_.getTokenOffset()+d),S=i}return C}function o(e,t){let i=JSON.stringify(e,void 0,t.insertSpaces?t.tabSize||4:"	");return void 0!==t.eol?i.replace(/\r\n|\r|\n/g,t.eol):i}function n(e,t){let i="";for(let o=0;o<t;o++)i+=e;return i}function r(e,t){for(let e=0;e<t.length;e++){let i=t.charAt(e);if("\r"===i){if(e+1<t.length&&"\n"===t.charAt(e+1))return"\r\n";return"\r"}if("\n"===i)return"\n"}return e&&e.eol||"\n"}function s(e,t){return -1!=="\r\n".indexOf(e.charAt(t))}e.s(["format",()=>i,"getEOL",()=>r,"isEOL",()=>s,"toFormattedString",()=>o])},504473,e=>{"use strict";var t=e.i(790059),i=e.i(803271);function o(e,t,i){return n(e,t,void 0,i)}function n(e,i,o,n,s){let a,l,d=i.slice(),c=(0,t.parseTree)(e,[]);for(;d.length>0;)if(l=d.pop(),void 0===(a=(0,t.findNodeAtLocation)(c,d))&&void 0!==o)o="string"==typeof l?{[l]:o}:[o];else break;if(a)if("object"===a.type&&"string"==typeof l&&Array.isArray(a.children)){let i=(0,t.findNodeAtLocation)(a,[l]);if(void 0!==i)if(void 0!==o)return r(e,{offset:i.offset,length:i.length,content:JSON.stringify(o)},n);else{let t;if(!i.parent)throw Error("Malformed AST");let o=a.children.indexOf(i.parent),s=i.parent.offset+i.parent.length;if(o>0){let e=a.children[o-1];t=e.offset+e.length}else t=a.offset+1,a.children.length>1&&(s=a.children[1].offset);return r(e,{offset:t,length:s-t,content:""},n)}{let t;if(void 0===o)return[];let i=`${JSON.stringify(l)}: ${JSON.stringify(o)}`,s=a.children.length;if(s>0){let e=a.children[s-1];t={offset:e.offset+e.length,length:0,content:","+i}}else t=0===a.children.length?{offset:a.offset+1,length:0,content:i}:{offset:a.offset+1,length:0,content:i+","};return r(e,t,n)}}else if("array"===a.type&&"number"==typeof l&&Array.isArray(a.children))if(void 0!==o){let t,i=`${JSON.stringify(o)}`;if(0===a.children.length||0===l)t={offset:a.offset+1,length:0,content:0===a.children.length?i:i+","};else{let e=-1===l||l>a.children.length?a.children.length:l,o=a.children[e-1];t={offset:o.offset+o.length,length:0,content:","+i}}return r(e,t,n)}else{let t,i=l,o=a.children[i];if(1===a.children.length)t={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===i){let e=a.children[i-1],o=e.offset+e.length;t={offset:o,length:a.offset+a.length-2-o,content:""}}else t={offset:o.offset,length:a.children[i+1].offset-o.offset,content:""};return r(e,t,n)}else throw Error(`Can not add ${"number"!=typeof l?"index":"property"} to parent of type ${a.type}`);return void 0===o?[]:r(e,{offset:c?c.offset:0,length:c?c.length:0,content:JSON.stringify(o)},n)}function r(e,t,o){let n=s(e,t),r=t.offset,a=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;r>0&&!(0,i.isEOL)(n,r-1);)r--;for(;a<n.length&&!(0,i.isEOL)(n,a);)a++}let l=(0,i.format)(n,{offset:r,length:a-r},o);for(let e=l.length-1;e>=0;e--){let t=l[e];n=s(n,t),r=Math.min(r,t.offset),a=Math.max(a,t.offset+t.length)+(t.content.length-t.length)}let d=e.length-(n.length-a)-r;return[{offset:r,length:d,content:n.substring(r,a)}]}function s(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function a(e,t){let i=t.slice(0).sort((e,t)=>{let i=e.offset-t.offset;return 0===i?e.length-t.length:i}),o=e.length;for(let t=i.length-1;t>=0;t--){let n=i[t];if(n.offset+n.length<=o)e=s(e,n);else throw Error("Overlapping edit");o=n.offset}return e}e.s(["applyEdits",()=>a,"removeProperty",()=>o,"setProperty",()=>n,"withFormatting",()=>r])},4121,e=>{"use strict";var t=e.i(618284),i=e.i(790059),o=e.i(504473),n=e.i(977857),r=e.i(533412),s=e.i(912097),a=e.i(509592),l=e.i(678417),d=e.i(292473),c=e.i(492683),u=e.i(281034);function h(e){return e.hasOwnProperty("workspace")}function p(e){return e.hasOwnProperty("folderUri")}function g(e){return e.hasOwnProperty("fileUri")}function m(e){return _(e)||f(e)}function _(e){return"string"==typeof e?.path&&(!e.name||"string"==typeof e.name)}function f(e){return"string"==typeof e?.uri&&(!e.name||"string"==typeof e.name)}function y(e,t,i,o,n){if(e.scheme!==o.scheme)return{name:i,uri:e.toString(!0)};let s=t?void 0:n.relativePath(o,e);if(void 0!==s)0===s.length?s=".":a.isWindows&&(s=v(s));else if(e.scheme===r.Schemas.file)s=e.fsPath,a.isWindows&&(s=v(s));else{if(!n.isEqualAuthority(e.authority,o.authority))return{name:i,uri:e.toString(!0)};s=e.path}return{name:i,path:s}}function v(e){return e=(0,n.normalizeDriveLetter)(e),(0,t.isUNC)(e)||(e=(0,t.toSlashes)(e)),e}function C(e,t,i){let o=[],n=new Set,r=i.dirname(t);for(let t of e){let e;if(_(t))t.path&&(e=i.resolvePath(r,t.path));else if(f(t))try{(e=d.URI.parse(t.uri)).path[0]!==s.posix.sep&&(e=e.with({path:s.posix.sep+e.path}))}catch(e){console.warn(e)}if(e){let r=i.getComparisonKey(e);if(!n.has(r)){n.add(r);let s=t.name||i.basenameOrAuthority(e);o.push(new u.WorkspaceFolder({uri:e,name:s,index:o.length},t))}}}return o}function b(e,t,n,r,u){let h=function(e,t){let o=(0,i.parse)(t);if(o&&Array.isArray(o.folders))o.folders=o.folders.filter(e=>m(e));else throw Error(`${e} looks like an invalid workspace file.`);return o}(t,e),p=u.dirname(t),g=u.dirname(r),f=[];for(let e of h.folders){let t,i=_(e)?u.resolvePath(p,e.path):d.URI.parse(e.uri);t=!n&&(!_(e)||(0,s.isAbsolute)(e.path)),f.push(y(i,t,e.name,g,u))}let v={insertSpaces:!1,tabSize:4,eol:a.isLinux||a.isMacintosh?"\n":"\r\n"},C=(0,o.setProperty)(e,["folders"],f,v),b=(0,o.applyEdits)(e,C);return(0,l.isEqualAuthority)(h.remoteAuthority,(0,c.getRemoteAuthority)(r))&&(b=(0,o.applyEdits)(b,(0,o.removeProperty)(b,["remoteAuthority"],v))),b}function S(e,t){let i={workspaces:[],files:[]};return e&&Array.isArray(e.entries)&&function(e,i){for(let o=0;o<e.length;o++)try{i(e[o],o)}catch(i){t.warn(`Error restoring recent entry ${JSON.stringify(e[o])}: ${i.toString()}. Skip entry.`)}}(e.entries,e=>{let t=e.label,o=e.remoteAuthority;e.workspace&&"object"==typeof e.workspace&&"string"==typeof e.workspace.id&&"string"==typeof e.workspace.configPath?i.workspaces.push({label:t,remoteAuthority:o,workspace:{id:e.workspace.id,configPath:d.URI.parse(e.workspace.configPath)}}):"string"==typeof e.folderUri?i.workspaces.push({label:t,remoteAuthority:o,folderUri:d.URI.parse(e.folderUri)}):"string"==typeof e.fileUri&&i.files.push({label:t,remoteAuthority:o,fileUri:d.URI.parse(e.fileUri)})}),i}function w(e){let t={entries:[]};for(let i of e.workspaces)p(i)?t.entries.push({folderUri:i.folderUri.toString(),label:i.label,remoteAuthority:i.remoteAuthority}):t.entries.push({workspace:{id:i.workspace.id,configPath:i.workspace.configPath.toString()},label:i.label,remoteAuthority:i.remoteAuthority});for(let i of e.files)t.entries.push({fileUri:i.fileUri.toString(),label:i.label,remoteAuthority:i.remoteAuthority});return t}e.s(["getStoredWorkspaceFolder",()=>y,"isRecentFile",()=>g,"isRecentFolder",()=>p,"isRecentWorkspace",()=>h,"isStoredWorkspaceFolder",()=>m,"restoreRecentlyOpened",()=>S,"rewriteWorkspaceFileForNewLocation",()=>b,"toStoreData",()=>w,"toWorkspaceFolders",()=>C])},203956,e=>{"use strict";var t=e.i(383962),i=e.i(749351),o=e.i(8114),n=e.i(332217),r=e.i(257945),s=e.i(664575),a=e.i(265216),l=e.i(564485),d=e.i(268850),c=e.i(623885),u=e.i(239686),h=e.i(649849),p=e.i(352700),g=e.i(323235),m=e.i(657170),_=e.i(4121),f=e.i(534888),y=e.i(275667),v=e.i(971921),C=e.i(977857),b=e.i(509592),S=e.i(166253),w=e.i(430771),E=e.i(976204),I=e.i(441900),x=e.i(304729),D=e.i(610620),k=e.i(785310),A=e.i(619223);function M(e){return e&&e.hasOwnProperty("folderUri")}var L=e.i(141212);let T="inRecentFilesPicker";class R extends o.Action2{constructor(e){super(e),this.removeFromRecentlyOpened={iconClass:D.ThemeIcon.asClassName(x.Codicon.removeClose),tooltip:(0,t.localize)(2641,"Remove from Recently Opened")},this.dirtyRecentlyOpenedFolder={iconClass:"dirty-workspace "+D.ThemeIcon.asClassName(x.Codicon.closeDirty),tooltip:(0,t.localize)(2642,"Folder With Unsaved Files"),alwaysVisible:!0},this.dirtyRecentlyOpenedWorkspace={...this.dirtyRecentlyOpenedFolder,tooltip:(0,t.localize)(2643,"Workspace With Unsaved Files")}}async run(e){let o,n=e.get(f.IWorkspacesService),r=e.get(d.IQuickInputService),s=e.get(c.IWorkspaceContextService),a=e.get(h.ILabelService),l=e.get(p.IKeybindingService),u=e.get(g.IModelService),y=e.get(m.ILanguageService),v=e.get(E.IHostService),C=e.get(i.IDialogService),S=await n.getRecentlyOpened(),w=await n.getDirtyWorkspaces(),x=!1,D=new I.ResourceMap,k=new I.ResourceMap;for(let e of w)M(e)?D.set(e.folderUri,!0):(k.set(e.workspace.configPath,e.workspace),x=!0);let A=new I.ResourceMap,L=new I.ResourceMap;for(let e of S.workspaces)(0,_.isRecentFolder)(e)?A.set(e.folderUri,!0):(L.set(e.workspace.configPath,e.workspace),x=!0);let R=[];for(let e of S.workspaces){let t=(0,_.isRecentFolder)(e)?D.has(e.folderUri):k.has(e.workspace.configPath);R.push(this.toQuickPick(u,y,a,e,t))}for(let e of w)if(M(e)&&!A.has(e.folderUri))R.push(this.toQuickPick(u,y,a,e,!0));else e&&e.hasOwnProperty("workspace")&&!L.has(e.workspace.configPath)&&R.push(this.toQuickPick(u,y,a,e,!0));let N=S.files.map(e=>this.toQuickPick(u,y,a,e,!1)),P=S.workspaces[0],O=P&&s.isCurrentWorkspace((0,_.isRecentWorkspace)(P)?P.workspace:P.folderUri),F=[{type:"separator",label:x?(0,t.localize)(2644,"folders & workspaces"):(0,t.localize)(2645,"folders")},...R,{type:"separator",label:(0,t.localize)(2646,"files")},...N],K=await r.pick(F,{contextKey:T,activeItem:[...R,...N][+!!O],placeHolder:b.isMacintosh?(0,t.localize)(2647,"Select to open (hold Cmd-key to force new window or Option-key for same window)"):(0,t.localize)(2648,"Select to open (hold Ctrl-key to force new window or Alt-key for same window)"),matchOnDescription:!0,onKeyMods:e=>o=e,quickNavigate:this.isQuickNavigate()?{keybindings:l.lookupKeybindings(this.desc.id)}:void 0,hideInput:this.isQuickNavigate(),onDidTriggerItemButton:async e=>{if(e.button===this.removeFromRecentlyOpened)await n.removeRecentlyOpened([e.item.resource]),e.removeItem();else if(e.button===this.dirtyRecentlyOpenedFolder||e.button===this.dirtyRecentlyOpenedWorkspace){let i=e.button===this.dirtyRecentlyOpenedWorkspace,{confirmed:o}=await C.confirm({title:i?(0,t.localize)(2649,"Workspace with Unsaved Files"):(0,t.localize)(2650,"Folder with Unsaved Files"),message:i?(0,t.localize)(2651,"Do you want to open the workspace to review the unsaved files?"):(0,t.localize)(2652,"Do you want to open the folder to review the unsaved files?"),detail:i?(0,t.localize)(2653,"Workspaces with unsaved files cannot be removed until all unsaved files have been saved or reverted."):(0,t.localize)(2654,"Folders with unsaved files cannot be removed until all unsaved files have been saved or reverted.")});o&&(v.openWindow([e.item.openable],{remoteAuthority:e.item.remoteAuthority||null}),r.cancel())}}});if(K)return v.openWindow([K.openable],{forceNewWindow:o?.ctrlCmd,forceReuseWindow:o?.alt,remoteAuthority:K.remoteAuthority||null})}toQuickPick(e,i,o,n,r){let s,a,l,d,c=!1;(0,_.isRecentFolder)(n)?(d=n.folderUri,a=(0,y.getIconClasses)(e,i,d,v.FileKind.FOLDER),s={folderUri:d},l=n.label||o.getWorkspaceLabel(d,{verbose:u.Verbosity.LONG})):(0,_.isRecentWorkspace)(n)?(d=n.workspace.configPath,a=(0,y.getIconClasses)(e,i,d,v.FileKind.ROOT_FOLDER),s={workspaceUri:d},l=n.label||o.getWorkspaceLabel(n.workspace,{verbose:u.Verbosity.LONG}),c=!0):(d=n.fileUri,a=(0,y.getIconClasses)(e,i,d,v.FileKind.FILE),s={fileUri:d},l=n.label||o.getUriLabel(d));let{name:h,parentPath:p}=(0,C.splitRecentLabel)(l);return{iconClasses:a,label:h,ariaLabel:r?c?(0,t.localize)(2655,"{0}, workspace with unsaved changes",h):(0,t.localize)(2656,"{0}, folder with unsaved changes",h):h,description:p,buttons:r?[c?this.dirtyRecentlyOpenedWorkspace:this.dirtyRecentlyOpenedFolder]:[this.removeFromRecentlyOpened],openable:s,resource:d,remoteAuthority:n.remoteAuthority}}}class N extends R{static{this.ID="workbench.action.openRecent"}constructor(){super({id:N.ID,title:{...(0,t.localize2)(2657,"Open Recent..."),mnemonicTitle:(0,t.localize)(2658,"&&More...")},category:a.Categories.File,f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib,primary:n.KeyMod.CtrlCmd|n.KeyCode.KeyR,mac:{primary:n.KeyMod.WinCtrl|n.KeyCode.KeyR}},menu:{id:o.MenuId.MenubarRecentMenu,group:"y_more",order:1}})}isQuickNavigate(){return!1}}class P extends o.Action2{constructor(){super({id:"workbench.action.toggleFullScreen",title:{...(0,t.localize2)(2660,"Toggle Full Screen"),mnemonicTitle:(0,t.localize)(2661,"&&Full Screen")},category:a.Categories.View,f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib,primary:n.KeyCode.F11,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.WinCtrl|n.KeyCode.KeyF}},precondition:s.IsIOSContext.toNegated(),toggled:r.IsMainWindowFullscreenContext,menu:[{id:o.MenuId.MenubarAppearanceMenu,group:"1_toggle_view",order:1}]})}run(e){return e.get(E.IHostService).toggleFullScreen((0,L.getActiveWindow)())}}class O extends o.Action2{static{this.ID="workbench.action.reloadWindow"}constructor(){super({id:O.ID,title:(0,t.localize2)(2662,"Reload Window"),category:a.Categories.Developer,f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib+50,when:s.IsDevelopmentContext,primary:n.KeyMod.CtrlCmd|n.KeyCode.KeyR}})}async run(e){return e.get(E.IHostService).reload()}}class F extends o.Action2{constructor(){super({id:"workbench.action.showAboutDialog",title:{...(0,t.localize2)(2663,"About"),mnemonicTitle:(0,t.localize)(2664,"&&About")},category:a.Categories.Help,f1:!0,menu:{id:o.MenuId.MenubarHelpMenu,group:"z_about",order:1,when:s.IsMacNativeContext.toNegated()}})}run(e){return e.get(i.IDialogService).about()}}class K extends o.Action2{constructor(){super({id:"workbench.action.newWindow",title:{...(0,t.localize2)(2665,"New Window"),mnemonicTitle:(0,t.localize)(2666,"New &&Window")},f1:!0,keybinding:{weight:l.KeybindingWeight.WorkbenchContrib,primary:b.isWeb?b.isWindows?(0,n.KeyChord)(n.KeyMod.CtrlCmd|n.KeyCode.KeyK,n.KeyMod.Shift|n.KeyCode.KeyN):n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.KeyN:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyN,secondary:b.isWeb?[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyN]:void 0},menu:{id:o.MenuId.MenubarFileMenu,group:"1_new",order:3}})}run(e){return e.get(E.IHostService).openWindow({remoteAuthority:null})}}class W extends o.Action2{constructor(){super({id:"workbench.action.blur",title:(0,t.localize2)(2667,"Remove keyboard focus from focused element")})}run(){let e=(0,L.getActiveElement)();(0,L.isHTMLElement)(e)&&e.blur()}}(0,o.registerAction2)(K),(0,o.registerAction2)(P),(0,o.registerAction2)(class extends R{constructor(){super({id:"workbench.action.quickOpenRecent",title:(0,t.localize2)(2659,"Quick Open Recent..."),category:a.Categories.File,f1:!1})}isQuickNavigate(){return!0}}),(0,o.registerAction2)(N),(0,o.registerAction2)(O),(0,o.registerAction2)(F),(0,o.registerAction2)(W);let z=S.ContextKeyExpr.and(w.inQuickPickContext,S.ContextKeyExpr.has(T)),V="workbench.action.quickOpenNavigateNextInRecentFilesPicker";l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:V,weight:l.KeybindingWeight.WorkbenchContrib+50,handler:(0,w.getQuickNavigateHandler)(V,!0),when:z,primary:n.KeyMod.CtrlCmd|n.KeyCode.KeyR,mac:{primary:n.KeyMod.WinCtrl|n.KeyCode.KeyR}});let B="workbench.action.quickOpenNavigatePreviousInRecentFilesPicker";l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:B,weight:l.KeybindingWeight.WorkbenchContrib+50,handler:(0,w.getQuickNavigateHandler)(B,!1),when:z,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyR,mac:{primary:n.KeyMod.WinCtrl|n.KeyMod.Shift|n.KeyCode.KeyR}}),k.CommandsRegistry.registerCommand("workbench.action.toggleConfirmBeforeClose",e=>{let t=e.get(A.IConfigurationService),i=t.inspect("window.confirmBeforeClose").userValue;return t.updateValue("window.confirmBeforeClose","never"===i?"keyboardOnly":"never")}),o.MenuRegistry.appendMenuItem(o.MenuId.MenubarFileMenu,{group:"z_ConfirmClose",command:{id:"workbench.action.toggleConfirmBeforeClose",title:(0,t.localize)(2668,"Confirm Before Close"),toggled:S.ContextKeyExpr.notEquals("config.window.confirmBeforeClose","never")},order:1,when:s.IsWebContext}),o.MenuRegistry.appendMenuItem(o.MenuId.MenubarFileMenu,{title:(0,t.localize)(2669,"Open &&Recent"),submenu:o.MenuId.MenubarRecentMenu,group:"2_open",order:4}),e.s(["OpenRecentAction",()=>N],203956)},531462,96373,717179,709442,887418,584056,123460,547687,116748,6658,534970,235610,565176,550118,556065,294372,514663,306033,496709,101797,873505,115838,719249,299201,808456,517323,890154,71634,295347,468387,287231,886197,891680,217508,583763,39192,381853,471590,486988,697340,332786,481200,112692,734201,391722,729588,518655,402720,231010,257912,231018,946935,305634,347714,405035,355788,480332,427944,491701,410416,460663,877999,266264,242696,533523,e=>{"use strict";let t,i,o,n;var r,s,a,l,d,c,u,h,p,g,m,_,f,y,v,C,b,S,w,E,I,x,D,k,A,M,L,T,R,N,P,O,F,K,W,z,V,B,H,U,G,q,$,j,Q,Y=e.i(308165),Z=e.i(436120),X=e.i(64803),J=e.i(383962),ee=e.i(569038),et=e.i(312582),ei=e.i(206605),eo=e.i(582006),en=e.i(297334),er=e.i(976233),es=e.i(619223);let ea=class extends Z.Disposable{static{m=this}static{this.configName="editor.defaultFoldingRangeProvider"}static{this.extensionIds=[]}static{this.extensionItemLabels=[]}static{this.extensionDescriptions=[]}constructor(e,t){super(),this._extensionService=e,this._configurationService=t,this._store.add(this._extensionService.onDidChangeExtensions(this._updateConfigValues,this)),this._store.add(X.FoldingController.setFoldingRangeProviderSelector(this._selectFoldingRangeProvider.bind(this))),this._updateConfigValues()}async _updateConfigValues(){await this._extensionService.whenInstalledExtensionsRegistered(),m.extensionIds.length=0,m.extensionItemLabels.length=0,m.extensionDescriptions.length=0,m.extensionIds.push(null),m.extensionItemLabels.push((0,J.localize)(6727,"All")),m.extensionDescriptions.push((0,J.localize)(6728,"All active folding range providers"));let e=[],t=[];for(let i of this._extensionService.extensions)(i.main||i.browser)&&(i.categories?.find(e=>"Programming Languages"===e)?e.push(i):t.push(i));let i=(e,t)=>e.name.localeCompare(t.name);for(let t of e.sort(i))m.extensionIds.push(t.identifier.value),m.extensionItemLabels.push(t.displayName??""),m.extensionDescriptions.push(t.description??"");for(let e of t.sort(i))m.extensionIds.push(e.identifier.value),m.extensionItemLabels.push(e.displayName??""),m.extensionDescriptions.push(e.description??"")}_selectFoldingRangeProvider(e,t){let i=this._configurationService.getValue(m.configName,{overrideIdentifier:t.getLanguageId()});if(i)return e.filter(e=>e.id===i)}};ea=m=(0,Y.__decorate)([(0,Y.__param)(0,er.IExtensionService),(0,Y.__param)(1,es.IConfigurationService)],ea),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({...eo.editorConfigurationBaseNode,properties:{[ea.configName]:{description:(0,J.localize)(6729,"Defines a default folding range provider that takes precedence over all other folding range providers. Must be the identifier of an extension contributing a folding range provider."),type:["string","null"],default:null,enum:ea.extensionIds,enumItemLabels:ea.extensionItemLabels,markdownEnumDescriptions:ea.extensionDescriptions}}}),ee.Registry.as(et.Extensions.Workbench).registerWorkbenchContribution(ea,en.LifecyclePhase.Restored),e.s([],531462);var el=e.i(141212),ed=e.i(760837),ec=e.i(332217),eu=e.i(710252),eh=e.i(716526),ep=e.i(266548),eg=e.i(776718),em=e.i(8114),e_=e.i(450569),ef=e.i(886202),ey=e.i(166253),ev=e.i(756970),eC=e.i(693655),eb=e.i(564485),eS=e.i(375905);let ew=class{static{_=this}static{this.IsReading=new ey.RawContextKey("isReadingLineWithInlayHints",!1,{type:"boolean",description:(0,J.localize)(6754,"Whether the current line and its inlay hints are currently focused")})}static{this.ID="editor.contrib.InlayHintsAccessibility"}static get(e){return e.getContribution(_.ID)??void 0}constructor(e,t,i,o){this._editor=e,this._accessibilitySignalService=i,this._instaService=o,this._sessionDispoosables=new Z.DisposableStore,this._ariaElement=document.createElement("span"),this._ariaElement.style.position="fixed",this._ariaElement.className="inlayhint-accessibility-element",this._ariaElement.tabIndex=0,this._ariaElement.setAttribute("aria-description",(0,J.localize)(6755,"Code with Inlay Hint Information")),this._ctxIsReading=_.IsReading.bindTo(t)}dispose(){this._sessionDispoosables.dispose(),this._ctxIsReading.reset(),this._ariaElement.remove()}_reset(){(0,el.clearNode)(this._ariaElement),this._sessionDispoosables.clear(),this._ctxIsReading.reset()}async _read(e,t){if(this._sessionDispoosables.clear(),this._ariaElement.isConnected||this._editor.getDomNode()?.appendChild(this._ariaElement),!this._editor.hasModel()||!this._ariaElement.isConnected)return void this._ctxIsReading.set(!1);let i=new ed.CancellationTokenSource;for(let e of(this._sessionDispoosables.add(i),t))await e.resolve(i.token);if(i.token.isCancellationRequested)return;let o=this._editor.getModel(),n=[],r=0,s=!1;for(let i of t){let t=o.getValueInRange({startLineNumber:e,startColumn:r+1,endLineNumber:e,endColumn:i.hint.position.column});if(t.length>0&&(n.push(t),r=i.hint.position.column-1),r>750){n.push(""),s=!0;break}let a=document.createElement("em"),{label:l}=i.hint;if("string"==typeof l)a.innerText=l;else for(let e of l)if(e.command){let t=this._instaService.createInstance(eS.Link,a,{href:(0,ep.asCommandLink)(e.command),label:e.label,title:e.command.title},void 0);this._sessionDispoosables.add(t)}else a.innerText+=e.label;n.push(a)}s||n.push(o.getValueInRange({startLineNumber:e,startColumn:r+1,endLineNumber:e,endColumn:Number.MAX_SAFE_INTEGER})),(0,el.reset)(this._ariaElement,...n),this._ariaElement.focus(),this._ctxIsReading.set(!0),this._sessionDispoosables.add((0,el.addDisposableListener)(this._ariaElement,"focusout",()=>{this._reset()}))}startInlayHintsReading(){if(!this._editor.hasModel())return;let e=this._editor.getPosition().lineNumber,t=eg.InlayHintsController.get(this._editor)?.getInlayHintsForLine(e);t&&0!==t.length?this._read(e,t):this._accessibilitySignalService.playSignal(e_.AccessibilitySignal.noInlayHints)}stopInlayHintsReading(){this._reset(),this._editor.focus()}};ew=_=(0,Y.__decorate)([(0,Y.__param)(1,ev.IContextKeyService),(0,Y.__param)(2,ef.IAccessibilitySignalService),(0,Y.__param)(3,eC.IInstantiationService)],ew),(0,em.registerAction2)(class extends eu.EditorAction2{constructor(){super({id:"inlayHints.startReadingLineWithHint",title:(0,J.localize2)(6756,"Read Line With Inline Hints"),precondition:eh.EditorContextKeys.hasInlayHintsProvider,f1:!0})}runEditorCommand(e,t){let i=ew.get(t);i?.startInlayHintsReading()}}),(0,em.registerAction2)(class extends eu.EditorAction2{constructor(){super({id:"inlayHints.stopReadingLineWithHint",title:(0,J.localize2)(6757,"Stop Inlay Hints Reading"),precondition:ew.IsReading,f1:!0,keybinding:{weight:eb.KeybindingWeight.EditorContrib,primary:ec.KeyCode.Escape}})}runEditorCommand(e,t){let i=ew.get(t);i?.stopInlayHintsReading()}}),(0,eu.registerEditorContribution)(ew.ID,ew,eu.EditorContributionInstantiation.Lazy),e.s([],96373);var eE=e.i(145384),eI=e.i(262799),ex=Z,eD=e.i(544421),ek=e.i(314536),eA=e.i(974804),eM=e.i(352700);let eL=e=>({type:"string",enum:["always","explicit","never",!0,!1],enumDescriptions:[(0,J.localize)(4660,"Triggers Code Actions on explicit saves and auto saves triggered by window or focus changes."),(0,J.localize)(4661,"Triggers Code Actions only when explicitly saved"),(0,J.localize)(4662,"Never triggers Code Actions on save"),(0,J.localize)(4663,'Triggers Code Actions only when explicitly saved. This value will be deprecated in favor of "explicit".'),(0,J.localize)(4664,'Never triggers Code Actions on save. This value will be deprecated in favor of "never".')],default:"explicit",description:e}),eT=e=>({type:["string","boolean"],enum:["explicit","never",!0,!1],enumDescriptions:[(0,J.localize)(4665,"Triggers Code Actions only when explicitly saved."),(0,J.localize)(4666,"Never triggers Code Actions on save."),(0,J.localize)(4667,'Triggers Code Actions only when explicitly saved. This value will be deprecated in favor of "explicit".'),(0,J.localize)(4668,'Triggers Code Actions only when explicitly saved. This value will be deprecated in favor of "never".')],default:"explicit",description:e}),eR={oneOf:[{type:"object",additionalProperties:{type:"string"}},{type:"array",items:{type:"string"}}],markdownDescription:(0,J.localize)(4669,'Run Code Actions for the editor on save. Code Actions must be specified and the editor must not be shutting down. When {0} is set to `afterDelay`, Code Actions will only be run when the file is saved explicitly. Example: `"source.organizeImports": "explicit" `',"`#files.autoSave#`"),type:["object","array"],additionalProperties:{type:"string",enum:["always","explicit","never",!0,!1]},default:{},scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE},eN=Object.freeze({...eo.editorConfigurationBaseNode,properties:{"editor.codeActionsOnSave":eR}}),eP={oneOf:[{type:"object",additionalProperties:{type:"string"}},{type:"array",items:{type:"string"}}],markdownDescription:(0,J.localize)(4670,'Run a series of Code Actions for a notebook on save. Code Actions must be specified and the editor must not be shutting down. When {0} is set to `afterDelay`, Code Actions will only be run when the file is saved explicitly. Example: `"notebook.source.organizeImports": "explicit"`',"`#files.autoSave#`"),type:"object",additionalProperties:{type:["string","boolean"],enum:["explicit","never",!0,!1]},default:{}},eO=Object.freeze({...eo.editorConfigurationBaseNode,properties:{"notebook.codeActionsOnSave":eP}}),eF=class extends ex.Disposable{constructor(e,t){super(),this.languageFeatures=t,this._onDidChangeSchemaContributions=this._register(new eE.Emitter),this._allProvidedCodeActionKinds=[],this._register(eE.Event.runAndSubscribe(eE.Event.debounce(t.codeActionProvider.onDidChange,()=>{},1e3),()=>{this._allProvidedCodeActionKinds=this.getAllProvidedCodeActionKinds(),this.updateConfigurationSchema(this._allProvidedCodeActionKinds),this._onDidChangeSchemaContributions.fire()})),e.registerSchemaContribution({getSchemaAdditions:()=>this.getKeybindingSchemaAdditions(),onDidChange:this._onDidChangeSchemaContributions.event})}getAllProvidedCodeActionKinds(){let e=new Map;for(let t of this.languageFeatures.codeActionProvider.allNoModel())for(let i of t.providedCodeActionKinds??[])e.set(i,new eI.HierarchicalKind(i));return Array.from(e.values())}updateConfigurationSchema(e){let t={...eR.properties},i={...eP.properties};for(let o of e)eA.CodeActionKind.Source.contains(o)&&!t[o.value]&&(t[o.value]=eL((0,J.localize)(4671,"Controls whether '{0}' actions should be run on file save.",o.value)),i[o.value]=eT((0,J.localize)(4671,"Controls whether '{0}' actions should be run on file save.",o.value)));eR.properties=t,eP.properties=i,ee.Registry.as(ei.Extensions.Configuration).notifyConfigurationSchemaUpdated(eN)}getKeybindingSchemaAdditions(){let e=(e,t)=>({if:{required:["command"],properties:{command:{const:e}}},then:{properties:{args:{required:["kind"],properties:{kind:{anyOf:[{enum:Array.from(t)},{type:"string"}]}}}}}}),t=e=>{let t=new Set;for(let i of this._allProvidedCodeActionKinds)e.contains(i)&&t.add(i.value);return Array.from(t)};return[e(ek.codeActionCommandId,t(eI.HierarchicalKind.Empty)),e(ek.refactorCommandId,t(eA.CodeActionKind.Refactor)),e(ek.sourceActionCommandId,t(eA.CodeActionKind.Source))]}};eF=(0,Y.__decorate)([(0,Y.__param)(0,eM.IKeybindingService),(0,Y.__param)(1,eD.ILanguageFeaturesService)],eF),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration(eN),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration(eO),ee.Registry.as(et.Extensions.Workbench).registerWorkbenchContribution(eF,en.LifecyclePhase.Eventually),e.s([],717179);var eK=Z,eW=e.i(268850);let ez=class extends eK.Disposable{constructor(e,t){super(),this._table=e,this._quickInputService=t}async show(){let e=[];this._table.getColumnLabels().forEach((t,i)=>{t&&e.push({label:t,index:i})});let t=await this._quickInputService.pick(e,{placeHolder:(0,J.localize)(6973,"Select the column to resize, type to filter.")});if(!t)return;let i=await this._quickInputService.input({placeHolder:(0,J.localize)(6974,"i.e. 20, 60, 100..."),prompt:(0,J.localize)(6975,"Please enter a width in percentage for the '{0}' column.",t.label),validateInput:e=>this._validateColumnResizeValue(e)}),o=i?Number.parseInt(i):void 0;o&&this._table.resizeColumn(t.index,o)}async _validateColumnResizeValue(e){let t=Number.parseInt(e);return e&&!Number.isInteger(t)?(0,J.localize)(6976,"Please enter an integer."):t<0||t>100?(0,J.localize)(6977,"Please enter a number greater than 0 and less than or equal to 100."):null}};ez=(0,Y.__decorate)([(0,Y.__param)(1,eW.IQuickInputService)],ez);var eV=e.i(738059),eB=e.i(89460),eH=e.i(753988),eU=em;class eG extends eU.Action2{constructor(){super({id:"list.resizeColumn",title:{value:(0,J.localize)(6971,"Resize Column"),original:"Resize Column"},category:{value:(0,J.localize)(6972,"List"),original:"List"},precondition:eB.WorkbenchListFocusContextKey,f1:!0})}async run(e){let t=e.get(eH.IListService),i=e.get(eC.IInstantiationService),o=t.lastFocusedList;o instanceof eV.Table&&await i.createInstance(ez,o).show()}}let eq=class{static{this.ID="workbench.contrib.listContext"}constructor(e){e.createKey("listSupportsTypeNavigation",!0),e.createKey("listSupportsKeyboardNavigation",!0)}};eq=(0,Y.__decorate)([(0,Y.__param)(0,ev.IContextKeyService)],eq),(0,et.registerWorkbenchContribution2)(eq.ID,eq,et.WorkbenchPhase.BlockStartup),(0,em.registerAction2)(eG),e.s([],709442);var e$=e.i(394839),ej=Z,eQ=e.i(247921),eY=e.i(565323);let eZ=class extends ej.Disposable{static{this.ID="workbench.contrib.editorFeaturesInstantiator"}constructor(e,t){super(),this._instantiationService=t,this._instantiated=!1,this._register(e.onWillCreateCodeEditor(()=>this._instantiate())),this._register(e.onWillCreateDiffEditor(()=>this._instantiate())),(e.listCodeEditors().length>0||e.listDiffEditors().length>0)&&this._instantiate()}_instantiate(){if(!this._instantiated)for(let e of(this._instantiated=!0,(0,eY.getEditorFeatures)()))try{let t=this._instantiationService.createInstance(e);"function"==typeof t.dispose&&this._register(t)}catch(e){(0,e$.onUnexpectedError)(e)}}};eZ=(0,Y.__decorate)([(0,Y.__param)(0,eQ.ICodeEditorService),(0,Y.__param)(1,eC.IInstantiationService)],eZ),(0,et.registerWorkbenchContribution2)(eZ.ID,eZ,et.WorkbenchPhase.BlockRestore),e.s([],887418);var eX=Z,eJ=e.i(545731),e0=e.i(97201);let e1=class extends eX.Disposable{constructor(e,t){super();const i=t=>e.activeContainer.classList.toggle("context-menu-visible",t);this._register(t.onDidShowContextMenu(()=>i(!0))),this._register(t.onDidHideContextMenu(()=>i(!1)))}};e1=(0,Y.__decorate)([(0,Y.__param)(0,e0.ILayoutService),(0,Y.__param)(1,eJ.IContextMenuService)],e1),ee.Registry.as(et.Extensions.Workbench).registerWorkbenchContribution(e1,en.LifecyclePhase.Eventually),e.s([],584056);var e2=e.i(490582),e3=e.i(785310);e3.CommandsRegistry.registerCommand("_executeMappedEditsProvider",async(e,t,i,o)=>{let n=e.get(e2.ITextModelService),r=e.get(eD.ILanguageFeaturesService),s=await n.createModelReference(t),a=null;try{let e=r.mappedEditsProvider.ordered(s.object.textEditorModel);if(e.length>0){let t=e[0],n=new ed.CancellationTokenSource;a=await t.provideMappedEdits(s.object.textEditorModel,i,o,n.token)}}finally{s.dispose()}return a}),e.s([],123460);var e5=e.i(955130),e4=e.i(430252),e6=Z,e8=e.i(509592),e9=e.i(68174),e7=e.i(761584),te=e.i(893905);let tt=class extends e6.Disposable{static{this.ID="workbench.contrib.textInputActionsProvider"}constructor(e,t,i){super(),this.layoutService=e,this.contextMenuService=t,this.clipboardService=i,this.textInputActions=new te.Lazy(()=>this.createActions()),this.registerListeners()}createActions(){return[new e5.Action("undo",(0,J.localize)(2635,"Undo"),void 0,!0,async()=>(0,el.getActiveDocument)().execCommand("undo")),new e5.Action("redo",(0,J.localize)(2636,"Redo"),void 0,!0,async()=>(0,el.getActiveDocument)().execCommand("redo")),new e5.Separator,new e5.Action("editor.action.clipboardCutAction",(0,J.localize)(2637,"Cut"),void 0,!0,async()=>(0,el.getActiveDocument)().execCommand("cut")),new e5.Action("editor.action.clipboardCopyAction",(0,J.localize)(2638,"Copy"),void 0,!0,async()=>(0,el.getActiveDocument)().execCommand("copy")),new e5.Action("editor.action.clipboardPasteAction",(0,J.localize)(2639,"Paste"),void 0,!0,async e=>{if(e8.isNative)(0,el.getActiveDocument)().execCommand("paste");else{let t=await this.clipboardService.readText();if((0,el.isHTMLTextAreaElement)(e)||(0,el.isHTMLInputElement)(e)){let i=e.selectionStart||0,o=e.selectionEnd||0;e.value=`${e.value.substring(0,i)}${t}${e.value.substring(o,e.value.length)}`,e.selectionStart=i+t.length,e.selectionEnd=e.selectionStart,e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}}}),new e5.Separator,new e5.Action("editor.action.selectAll",(0,J.localize)(2640,"Select All"),void 0,!0,async()=>(0,el.getActiveDocument)().execCommand("selectAll"))]}registerListeners(){this._register(eE.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:e,disposables:t})=>{t.add((0,el.addDisposableListener)(e,"contextmenu",t=>this.onContextMenu((0,el.getWindow)(e),t)))},{container:this.layoutService.mainContainer,disposables:this._store}))}onContextMenu(e,t){if(t.defaultPrevented)return;let i=t.target;if(!(0,el.isHTMLElement)(i)||"input"!==i.nodeName.toLowerCase()&&"textarea"!==i.nodeName.toLowerCase())return;el.EventHelper.stop(t,!0);let o=new e7.StandardMouseEvent(e,t);this.contextMenuService.showContextMenu({getAnchor:()=>o,getActions:()=>this.textInputActions.value,getActionsContext:()=>i})}};tt=(0,Y.__decorate)([(0,Y.__param)(0,e4.IWorkbenchLayoutService),(0,Y.__param)(1,eJ.IContextMenuService),(0,Y.__param)(2,e9.IClipboardService)],tt),(0,et.registerWorkbenchContribution2)(tt.ID,tt,et.WorkbenchPhase.BlockRestore),e.s([],547687);var ti=e.i(521549);(0,ti.default)('.monaco-workbench .quick-input-list .quick-input-list-entry.has-actions:hover .quick-input-list-entry-action-bar .action-label.dirty-workspace:before{content:var(--vscode-icon-x-content);font-family:var(--vscode-icon-x-font-family)}.monaco-workbench .screencast-mouse{border-radius:50%;border-style:solid;border-width:2px;content:" ";display:none;pointer-events:none;position:absolute;z-index:100000}.monaco-workbench .screencast-keyboard{background-color:rgba(0,0,0,.5);color:#eee;left:0;line-height:1.75em;overflow:hidden;pointer-events:none;position:absolute;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:100%;z-index:100000}.monaco-workbench:not(.reduce-motion) .screencast-keyboard{transition:opacity .3s ease-out}.monaco-workbench .screencast-keyboard:empty{opacity:0}.monaco-workbench .screencast-keyboard>.key{background-color:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,80%,.4);border-radius:5px;box-shadow:inset 0 -3px 0 hsla(0,0%,73%,.4);margin-right:6px;padding:0 8px}.monaco-workbench .screencast-keyboard>.title{font-weight:600}',{});var to=e.i(722934),tn=e.i(286230),tr=e.i(347997),ts=e.i(245517),ta=e.i(395806),tl=em,td=e.i(413174),tc=e.i(780379),tu=e.i(882798),th=e.i(322549),tp=e.i(67064),tg=e.i(265216),tm=e.i(111214),t_=e.i(725578),tf=e.i(749351),ty=e.i(812541),tv=e.i(71786),tC=e.i(971921),tb=e.i(652624),tS=e.i(810602),tw=e.i(963920),tE=e.i(313587);class tI extends tl.Action2{constructor(){super({id:"workbench.action.inspectContextKeys",title:(0,J.localize2)(2465,"Inspect Context Keys"),category:tg.Categories.Developer,f1:!0})}run(e){let t=e.get(ev.IContextKeyService),i=new Z.DisposableStore,o=(0,tr.createStyleSheet)(void 0,void 0,i);(0,tr.createCSSRule)("*","cursor: crosshair !important;",o);let n=document.createElement("div"),r=(0,el.getActiveDocument)();r.body.appendChild(n),i.add((0,Z.toDisposable)(()=>n.remove())),n.style.position="absolute",n.style.pointerEvents="none",n.style.backgroundColor="rgba(255, 0, 0, 0.5)",n.style.zIndex="1000";let s=i.add(new to.DomEmitter(r,"mousemove",!0));i.add(s.event(e=>{let t=e.target,i=(0,el.getDomNodePagePosition)(t);n.style.top=`${i.top}px`,n.style.left=`${i.left}px`,n.style.width=`${i.width}px`,n.style.height=`${i.height}px`}));let a=i.add(new to.DomEmitter(r,"mousedown",!0));eE.Event.once(a.event)(e=>{e.preventDefault(),e.stopPropagation()},null,i);let l=i.add(new to.DomEmitter(r,"mouseup",!0));eE.Event.once(l.event)(e=>{e.preventDefault(),e.stopPropagation(),console.log(t.getContext(e.target).collectAllValues()),(0,Z.dispose)(i)},null,i)}}class tx extends tl.Action2{constructor(){super({id:"workbench.action.toggleScreencastMode",title:(0,J.localize2)(2466,"Toggle Screencast Mode"),category:tg.Categories.Developer,f1:!0})}run(e){let t,i,o;if(tx.disposable){tx.disposable.dispose(),tx.disposable=void 0;return}let n=e.get(e0.ILayoutService),r=e.get(es.IConfigurationService),s=e.get(eM.IKeybindingService),a=new Z.DisposableStore,l=n.activeContainer,d=(0,el.append)(l,(0,el.$)(".screencast-mouse"));a.add((0,Z.toDisposable)(()=>d.remove()));let c=(0,el.append)(l,(0,el.$)(".screencast-keyboard"));a.add((0,Z.toDisposable)(()=>c.remove()));let u=a.add(new eE.Emitter),h=a.add(new eE.Emitter),p=a.add(new eE.Emitter);function g(e,t){t.add(t.add(new to.DomEmitter(e,"mousedown",!0)).event(e=>u.fire(e))),t.add(t.add(new to.DomEmitter(e,"mouseup",!0)).event(e=>h.fire(e))),t.add(t.add(new to.DomEmitter(e,"mousemove",!0)).event(e=>p.fire(e)))}for(let{window:e,disposables:t}of(0,el.getWindows)())g(n.getContainer(e),t);a.add((0,el.onDidRegisterWindow)(({window:e,disposables:t})=>g(n.getContainer(e),t))),a.add(n.onDidChangeActiveContainer(()=>{n.activeContainer.appendChild(d),n.activeContainer.appendChild(c)}));let m=()=>{d.style.borderColor=tn.Color.fromHex(r.getValue("screencastMode.mouseIndicatorColor")).toString()},_=()=>{t=(0,tu.clamp)(r.getValue("screencastMode.mouseIndicatorSize")||20,20,100),d.style.height=`${t}px`,d.style.width=`${t}px`};m(),_(),a.add(u.event(e=>{d.style.top=`${e.clientY-t/2}px`,d.style.left=`${e.clientX-t/2}px`,d.style.display="block",d.style.transform="scale(1)",d.style.transition="transform 0.1s";let i=p.event(e=>{d.style.top=`${e.clientY-t/2}px`,d.style.left=`${e.clientX-t/2}px`,d.style.transform="scale(0.8)"});eE.Event.once(h.event)(()=>{d.style.display="none",i.dispose()})}));let f=()=>{c.style.fontSize=`${(0,tu.clamp)(r.getValue("screencastMode.fontSize")||56,20,100)}px`},y=()=>{c.style.bottom=`${(0,tu.clamp)(r.getValue("screencastMode.verticalOffset")||0,0,90)}%`},v=()=>{i=(0,tu.clamp)(r.getValue("screencastMode.keyboardOverlayTimeout")||800,500,5e3)};f(),y(),v(),a.add(r.onDidChangeConfiguration(e=>{e.affectsConfiguration("screencastMode.verticalOffset")&&y(),e.affectsConfiguration("screencastMode.fontSize")&&f(),e.affectsConfiguration("screencastMode.keyboardOverlayTimeout")&&v(),e.affectsConfiguration("screencastMode.mouseIndicatorColor")&&m(),e.affectsConfiguration("screencastMode.mouseIndicatorSize")&&_()}));let C=a.add(new eE.Emitter),b=a.add(new eE.Emitter),S=a.add(new eE.Emitter),w=a.add(new eE.Emitter);function E(e,t){t.add(t.add(new to.DomEmitter(e,"keydown",!0)).event(e=>C.fire(e))),t.add(t.add(new to.DomEmitter(e,"compositionstart",!0)).event(e=>b.fire(e))),t.add(t.add(new to.DomEmitter(e,"compositionupdate",!0)).event(e=>S.fire(e))),t.add(t.add(new to.DomEmitter(e,"compositionend",!0)).event(e=>w.fire(e)))}for(let{window:e,disposables:t}of(0,el.getWindows)())E(e,t);a.add((0,el.onDidRegisterWindow)(({window:e,disposables:t})=>E(e,t)));let I=0,x=!1,D=new ta.RunOnceScheduler(()=>{c.textContent="",o=void 0,I=0},i);a.add(b.event(e=>{x=!0})),a.add(S.event(e=>{e.data&&x?(I>20&&(c.innerText="",I=0),(o=o??(0,el.append)(c,(0,el.$)("span.key"))).textContent=e.data):x&&(c.innerText="",(0,el.append)(c,(0,el.$)("span.key",{},"Backspace"))),D.schedule()})),a.add(w.event(e=>{o=void 0,I++})),a.add(C.event(e=>{if("Process"===e.key||/[\uac00-\ud787\u3131-\u314e\u314f-\u3163\u3041-\u3094\u30a1-\u30f4\u30fc\u3005\u3006\u3024\u4e00-\u9fa5]/u.test(e.key)){"Backspace"===e.code||e.code.includes("Key")?x=!0:(o=void 0,x=!1),D.schedule();return}if(e.isComposing)return;let t=r.getValue("screencastMode.keyboardOptions"),i=new ts.StandardKeyboardEvent(e),n=s.softDispatch(i,i.target);if(n.kind===t_.ResultKind.KbFound&&n.commandId&&!(t.showSingleEditorCursorMoves??!0)&&["cursorLeft","cursorRight","cursorUp","cursorDown"].includes(n.commandId))return;(i.ctrlKey||i.altKey||i.metaKey||i.shiftKey||I>20||i.keyCode===ec.KeyCode.Backspace||i.keyCode===ec.KeyCode.Escape||i.keyCode===ec.KeyCode.UpArrow||i.keyCode===ec.KeyCode.DownArrow||i.keyCode===ec.KeyCode.LeftArrow||i.keyCode===ec.KeyCode.RightArrow)&&(c.innerText="",I=0);let a=s.resolveKeyboardEvent(i),l=this._isKbFound(n)&&n.commandId?this.getCommandDetails(n.commandId):void 0,d=l?.title,u=a.getLabel();if(l&&(t.showCommandGroups&&l.category&&(d=`${l.category}: ${d} `),this._isKbFound(n)&&n.commandId)){let e=s.lookupKeybindings(n.commandId).filter(e=>e.getLabel()?.endsWith(u??""));e.length>0&&(u=e[e.length-1].getLabel())}(t.showCommands??!0)&&d&&(0,el.append)(c,(0,el.$)("span.title",{},`${d} `)),((t.showKeys??!0)||(t.showKeybindings??!0)&&this._isKbFound(n))&&(u=u?.replace("UpArrow","")?.replace("DownArrow","")?.replace("LeftArrow","")?.replace("RightArrow",""),(0,el.append)(c,(0,el.$)("span.key",{},u??""))),I++,D.schedule()})),tx.disposable=a}_isKbFound(e){return e.kind===t_.ResultKind.KbFound}getCommandDetails(e){let t=tl.MenuRegistry.getCommand(e);if(t)return{title:"string"==typeof t.title?t.title:t.title.value,category:t.category?"string"==typeof t.category?t.category:t.category.value:void 0};let i=e3.CommandsRegistry.getCommand(e);if(i&&i.metadata?.description)return{title:"string"==typeof i.metadata.description?i.metadata.description:i.metadata.description.value}}}class tD extends tl.Action2{constructor(){super({id:"workbench.action.logStorage",title:(0,J.localize2)(2467,"Log Storage Database Contents"),category:tg.Categories.Developer,f1:!0})}run(e){let t=e.get(tc.IStorageService),i=e.get(tf.IDialogService);t.log(),i.info((0,J.localize)(2468,"The storage database contents have been logged to the developer tools."),(0,J.localize)(2469,"Open developer tools from the menu and select the Console tab."))}}class tk extends tl.Action2{constructor(){super({id:"workbench.action.logWorkingCopies",title:(0,J.localize2)(2470,"Log Working Copies"),category:tg.Categories.Developer,f1:!0})}async run(e){let t=e.get(tp.IWorkingCopyService),i=e.get(tm.IWorkingCopyBackupService),o=e.get(th.ILogService),n=e.get(ty.IOutputService),r=await i.getBackups(),s=["","[Working Copies]",...t.workingCopies.length>0?t.workingCopies.map(e=>`${e.isDirty()?" ":""}${e.resource.toString(!0)} (typeId: ${e.typeId||"<no typeId>"})`):["<none>"],"","[Backups]",...r.length>0?r.map(e=>`${e.resource.toString(!0)} (typeId: ${e.typeId||"<no typeId>"})`):["<none>"]];o.info(s.join("\n")),n.showChannel(tv.windowLogId,!0)}}class tA extends tl.Action2{static{this.SIZE_THRESHOLD=16384}constructor(){super({id:"workbench.action.removeLargeStorageDatabaseEntries",title:(0,J.localize2)(2471,"Remove Large Storage Database Entries..."),category:tg.Categories.Developer,f1:!0})}async run(e){let t=e.get(tc.IStorageService),i=e.get(eW.IQuickInputService),o=e.get(tb.IUserDataProfileService),n=e.get(tf.IDialogService),r=e.get(tE.IEnvironmentService),s=[];for(let e of[td.StorageScope.APPLICATION,td.StorageScope.PROFILE,td.StorageScope.WORKSPACE])if(e!==td.StorageScope.PROFILE||!o.currentProfile.isDefault)for(let i of[td.StorageTarget.MACHINE,td.StorageTarget.USER])for(let o of t.keys(e,i)){let n=t.get(o,e);n&&(!r.isBuilt||n.length>tA.SIZE_THRESHOLD)&&s.push({key:o,scope:e,target:i,size:n.length,label:o,description:tC.ByteSize.formatSize(n.length),detail:(0,J.localize)(2472,"Scope: {0}, Target: {1}",e===td.StorageScope.APPLICATION?(0,J.localize)(2473,"Global"):e===td.StorageScope.PROFILE?(0,J.localize)(2474,"Profile"):(0,J.localize)(2475,"Workspace"),i===td.StorageTarget.MACHINE?(0,J.localize)(2476,"Machine"):(0,J.localize)(2477,"User"))})}s.sort((e,t)=>t.size-e.size);let a=await new Promise(e=>{let t=new Z.DisposableStore,o=t.add(i.createQuickPick());o.items=s,o.canSelectMany=!0,o.ok=!1,o.customButton=!0,o.hideCheckAll=!0,o.customLabel=(0,J.localize)(2478,"Remove"),o.placeholder=(0,J.localize)(2479,"Select large entries to remove from storage"),0===s.length&&(o.description=(0,J.localize)(2480,"There are no large storage entries to remove.")),o.show(),t.add(o.onDidCustom(()=>{e(o.selectedItems),o.hide()})),t.add(o.onDidHide(()=>t.dispose()))});if(0===a.length)return;let{confirmed:l}=await n.confirm({type:"warning",message:(0,J.localize)(2481,"Do you want to remove the selected storage entries from the database?"),detail:(0,J.localize)(2482,"{0}\n\nThis action is irreversible and may result in data loss!",a.map(e=>e.label).join("\n")),primaryButton:(0,J.localize)(2483,"&&Remove")});if(!l)return;let d=new Set;for(let e of a)t.remove(e.key,e.scope),d.add(e.scope);for(let e of d)await t.optimize(e)}}let tM=new Set,tL=new ey.RawContextKey("dirtyWorkingCopies","stopped");class tT extends tl.Action2{constructor(){super({id:"workbench.action.startTrackDisposables",title:(0,J.localize2)(2484,"Start Tracking Disposables"),category:tg.Categories.Developer,f1:!0,precondition:ey.ContextKeyExpr.and(tL.isEqualTo("pending").negate(),tL.isEqualTo("started").negate())})}run(e){tL.bindTo(e.get(ev.IContextKeyService)).set("started"),tM.clear(),t=new Z.DisposableTracker,(0,Z.setDisposableTracker)(t)}}class tR extends tl.Action2{constructor(){super({id:"workbench.action.snapshotTrackedDisposables",title:(0,J.localize2)(2485,"Snapshot Tracked Disposables"),category:tg.Categories.Developer,f1:!0,precondition:tL.isEqualTo("started")})}run(e){tL.bindTo(e.get(ev.IContextKeyService)).set("pending"),tM=new Set(t?.computeLeakingDisposables(1e3)?.leaks.map(e=>e.value))}}class tN extends tl.Action2{constructor(){super({id:"workbench.action.stopTrackDisposables",title:(0,J.localize2)(2486,"Stop Tracking Disposables"),category:tg.Categories.Developer,f1:!0,precondition:tL.isEqualTo("pending")})}run(e){let i=e.get(tS.IEditorService);if(tL.bindTo(e.get(ev.IContextKeyService)).set("stopped"),t){let e=new Set;for(let i of new Set(t.computeLeakingDisposables(1e3)?.leaks)??[])tM.has(i.value)&&e.add(i);let o=t.computeLeakingDisposables(1e3,Array.from(e));o&&i.openEditor({resource:void 0,contents:o.details})}(0,Z.setDisposableTracker)(null),t=void 0,tM.clear()}}(0,tl.registerAction2)(tI),(0,tl.registerAction2)(tx),(0,tl.registerAction2)(tD),(0,tl.registerAction2)(tk),(0,tl.registerAction2)(tA),tw.default.commit||((0,tl.registerAction2)(tT),(0,tl.registerAction2)(tR),(0,tl.registerAction2)(tN)),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({id:"screencastMode",order:9,title:(0,J.localize)(2487,"Screencast Mode"),type:"object",properties:{"screencastMode.verticalOffset":{type:"number",default:20,minimum:0,maximum:90,description:(0,J.localize)(2488,"Controls the vertical offset of the screencast mode overlay from the bottom as a percentage of the workbench height.")},"screencastMode.fontSize":{type:"number",default:56,minimum:20,maximum:100,description:(0,J.localize)(2489,"Controls the font size (in pixels) of the screencast mode keyboard.")},"screencastMode.keyboardOptions":{type:"object",description:(0,J.localize)(2490,"Options for customizing the keyboard overlay in screencast mode."),properties:{showKeys:{type:"boolean",default:!0,description:(0,J.localize)(2491,"Show raw keys.")},showKeybindings:{type:"boolean",default:!0,description:(0,J.localize)(2492,"Show keyboard shortcuts.")},showCommands:{type:"boolean",default:!0,description:(0,J.localize)(2493,"Show command names.")},showCommandGroups:{type:"boolean",default:!1,description:(0,J.localize)(2494,"Show command group names, when commands are also shown.")},showSingleEditorCursorMoves:{type:"boolean",default:!0,description:(0,J.localize)(2495,"Show single editor cursor move commands.")}},default:{showKeys:!0,showKeybindings:!0,showCommands:!0,showCommandGroups:!1,showSingleEditorCursorMoves:!0},additionalProperties:!1},"screencastMode.keyboardOverlayTimeout":{type:"number",default:800,minimum:500,maximum:5e3,description:(0,J.localize)(2496,"Controls how long (in milliseconds) the keyboard overlay is shown in screencast mode.")},"screencastMode.mouseIndicatorColor":{type:"string",format:"color-hex",default:"#FF0000",description:(0,J.localize)(2497,"Controls the color in hex (#RGB, #RGBA, #RRGGBB or #RRGGBBAA) of the mouse indicator in screencast mode.")},"screencastMode.mouseIndicatorSize":{type:"number",default:20,minimum:20,maximum:100,description:(0,J.localize)(2498,"Controls the size (in pixels) of the mouse indicator in screencast mode.")}}}),e.s([],116748);var tP=e.i(304729),tO=e.i(869177);for(let t of(e.i(724146),(0,em.registerAction2)(tO.ToggleCollapseUnchangedRegions),(0,em.registerAction2)(tO.ToggleShowMovedCodeBlocks),(0,em.registerAction2)(tO.ToggleUseInlineViewWhenSpaceIsLimited),em.MenuRegistry.appendMenuItem(em.MenuId.EditorTitle,{command:{id:new tO.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,J.localize)(183,"Use Inline View When Space Is Limited"),toggled:ey.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:ey.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:ey.ContextKeyExpr.and(eh.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,ey.ContextKeyExpr.has("isInDiffEditor"))}),em.MenuRegistry.appendMenuItem(em.MenuId.EditorTitle,{command:{id:new tO.ToggleShowMovedCodeBlocks().desc.id,title:(0,J.localize)(184,"Show Moved Code Blocks"),icon:tP.Codicon.move,toggled:ey.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:ey.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:ey.ContextKeyExpr.has("isInDiffEditor")}),(0,em.registerAction2)(tO.RevertHunkOrSelection),[{icon:tP.Codicon.arrowRight,key:eh.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:tP.Codicon.discard,key:eh.EditorContextKeys.diffEditorInlineMode}]))em.MenuRegistry.appendMenuItem(em.MenuId.DiffEditorHunkToolbar,{command:{id:new tO.RevertHunkOrSelection().desc.id,title:(0,J.localize)(185,"Revert Block"),icon:t.icon},when:ey.ContextKeyExpr.and(eh.EditorContextKeys.diffEditorModifiedWritable,t.key),order:5,group:"primary"}),em.MenuRegistry.appendMenuItem(em.MenuId.DiffEditorSelectionToolbar,{command:{id:new tO.RevertHunkOrSelection().desc.id,title:(0,J.localize)(186,"Revert Selection"),icon:t.icon},when:ey.ContextKeyExpr.and(eh.EditorContextKeys.diffEditorModifiedWritable,t.key),order:5,group:"primary"});(0,em.registerAction2)(tO.SwitchSide),(0,em.registerAction2)(tO.ExitCompareMove),(0,em.registerAction2)(tO.CollapseAllUnchangedRegions),(0,em.registerAction2)(tO.ShowAllUnchangedRegions),em.MenuRegistry.appendMenuItem(em.MenuId.EditorTitle,{command:{id:tO.AccessibleDiffViewerNext.id,title:(0,J.localize)(187,"Open Accessible Diff Viewer"),precondition:ey.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:ey.ContextKeyExpr.and(eh.EditorContextKeys.accessibleDiffViewerVisible.negate(),ey.ContextKeyExpr.has("isInDiffEditor"))}),e3.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",tO.AccessibleDiffViewerNext.id),(0,em.registerAction2)(tO.AccessibleDiffViewerNext),e3.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",tO.AccessibleDiffViewerPrev.id),(0,em.registerAction2)(tO.AccessibleDiffViewerPrev),e.s([],6658);var tF=e.i(211023),tK=e.i(628463);(0,ti.default)(".monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}",{});var tW=eu,tz=e.i(91418),tV=e.i(13310);let tB=new ey.RawContextKey("selectionAnchorSet",!1),tH=class{static{f=this}static{this.ID="editor.contrib.selectionAnchorController"}static get(e){return e.getContribution(f.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=tB.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(tz.Selection.fromPositions(e,e),{description:"selection-anchor",stickiness:tV.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,hoverMessage:new tK.MarkdownString().appendText((0,J.localize)(821,"Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,tF.alert)((0,J.localize)(822,"Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let t=this.editor.getPosition();this.editor.setSelection(tz.Selection.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){let e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};tH=f=(0,Y.__decorate)([(0,Y.__param)(1,ev.IContextKeyService)],tH);class tU extends tW.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,J.localize2)(823,"Set Selection Anchor"),precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyB),weight:eb.KeybindingWeight.EditorContrib}})}async run(e,t){tH.get(t)?.setSelectionAnchor()}}class tG extends tW.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,J.localize2)(824,"Go to Selection Anchor"),precondition:tB})}async run(e,t){tH.get(t)?.goToSelectionAnchor()}}class tq extends tW.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,J.localize2)(825,"Select from Anchor to Cursor"),precondition:tB,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK),weight:eb.KeybindingWeight.EditorContrib}})}async run(e,t){tH.get(t)?.selectFromAnchorToCursor()}}class t$ extends tW.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,J.localize2)(826,"Cancel Selection Anchor"),precondition:tB,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyCode.Escape,weight:eb.KeybindingWeight.EditorContrib}})}async run(e,t){tH.get(t)?.cancelSelectionAnchor()}}(0,tW.registerEditorContribution)(tH.ID,tH,tW.EditorContributionInstantiation.Lazy),(0,tW.registerEditorAction)(tU),(0,tW.registerEditorAction)(tG),(0,tW.registerEditorAction)(tq),(0,tW.registerEditorAction)(t$),e.s([],534970);var tj=eu,tQ=e.i(475424);class tY{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,o=this._selection.startColumn,n=this._selection.endColumn;if((!this._isMovingLeft||1!==o)&&(this._isMovingLeft||n!==e.getLineMaxColumn(i)))if(this._isMovingLeft){let r=new tQ.Range(i,o-1,i,o),s=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new tQ.Range(i,n,i,n),s)}else{let r=new tQ.Range(i,n,i,n+1),s=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new tQ.Range(i,o,i,o),s)}}computeCursorState(e,t){return this._isMovingLeft?new tz.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new tz.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class tZ extends tj.EditorAction{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let i=[];for(let e of t.getSelections())i.push(new tY(e,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}(0,tj.registerEditorAction)(class extends tZ{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:(0,J.localize2)(833,"Move Selected Text Left"),precondition:eh.EditorContextKeys.writable})}}),(0,tj.registerEditorAction)(class extends tZ{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:(0,J.localize2)(834,"Move Selected Text Right"),precondition:eh.EditorContextKeys.writable})}}),e.s([],235610);var tX=eu,tJ=e.i(515888),t0=e.i(135984);class t1 extends tX.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:(0,J.localize2)(835,"Transpose Letters"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyCode.KeyT},weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),o=[];for(let e of t.getSelections()){if(!e.isEmpty())continue;let t=e.startLineNumber,n=e.startColumn,r=i.getLineMaxColumn(t);if(1===t&&(1===n||2===n&&2===r))continue;let s=n===r?e.getPosition():t0.MoveOperations.rightPosition(i,e.getPosition().lineNumber,e.getPosition().column),a=t0.MoveOperations.leftPosition(i,s),l=t0.MoveOperations.leftPosition(i,a),d=i.getValueInRange(tQ.Range.fromPositions(l,a)),c=i.getValueInRange(tQ.Range.fromPositions(a,s)),u=tQ.Range.fromPositions(l,s);o.push(new tJ.ReplaceCommand(u,c+d))}o.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop())}}(0,tX.registerEditorAction)(t1),e.s([],565176);var t2=e.i(448493),t3=eu,t5=e.i(557176),t4=e.i(69586);function t6(e){return ey.ContextKeyExpr.regex(t4.SUPPORTED_CODE_ACTIONS.keys()[0],RegExp("(\\s|^)"+(0,t2.escapeRegExpCharacters)(e.value)+"\\b"))}let t8={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:(0,J.localize)(846,"Kind of the code action to run.")},apply:{type:"string",description:(0,J.localize)(847,"Controls when the returned actions are applied."),default:eA.CodeActionAutoApply.IfSingle,enum:[eA.CodeActionAutoApply.First,eA.CodeActionAutoApply.IfSingle,eA.CodeActionAutoApply.Never],enumDescriptions:[(0,J.localize)(848,"Always apply the first returned code action."),(0,J.localize)(849,"Apply the first returned code action if it is the only one."),(0,J.localize)(850,"Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:(0,J.localize)(851,"Controls if only preferred code actions should be returned.")}}};function t9(e,t,i,o,n=eA.CodeActionTriggerSource.Default){if(e.hasModel()){let r=t5.CodeActionController.get(e);r?.manualTriggerAtCurrentPosition(t,n,i,o)}}class t7 extends t3.EditorAction{constructor(){super({id:ek.quickFixCommandId,label:(0,J.localize2)(852,"Quick Fix..."),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Period,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){return t9(t,(0,J.localize)(853,"No code actions available"),void 0,void 0,eA.CodeActionTriggerSource.QuickFix)}}class ie extends t3.EditorCommand{constructor(){super({id:ek.codeActionCommandId,precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:t8}]}})}runEditorCommand(e,t,i){let o=eA.CodeActionCommandArgs.fromUser(i,{kind:eI.HierarchicalKind.Empty,apply:eA.CodeActionAutoApply.IfSingle});return t9(t,"string"==typeof i?.kind?o.preferred?(0,J.localize)(854,"No preferred code actions for '{0}' available",i.kind):(0,J.localize)(855,"No code actions for '{0}' available",i.kind):o.preferred?(0,J.localize)(856,"No preferred code actions available"):(0,J.localize)(857,"No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}class it extends t3.EditorAction{constructor(){super({id:ek.refactorCommandId,label:(0,J.localize2)(858,"Refactor..."),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.KeyR,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Shift|ec.KeyCode.KeyR},weight:eb.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:2,when:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,t6(eA.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:t8}]}})}run(e,t,i){let o=eA.CodeActionCommandArgs.fromUser(i,{kind:eA.CodeActionKind.Refactor,apply:eA.CodeActionAutoApply.Never});return t9(t,"string"==typeof i?.kind?o.preferred?(0,J.localize)(859,"No preferred refactorings for '{0}' available",i.kind):(0,J.localize)(860,"No refactorings for '{0}' available",i.kind):o.preferred?(0,J.localize)(861,"No preferred refactorings available"):(0,J.localize)(862,"No refactorings available"),{include:eA.CodeActionKind.Refactor.contains(o.kind)?o.kind:eI.HierarchicalKind.None,onlyIncludePreferredActions:o.preferred},o.apply,eA.CodeActionTriggerSource.Refactor)}}class ii extends t3.EditorAction{constructor(){super({id:ek.sourceActionCommandId,label:(0,J.localize2)(863,"Source Action..."),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,t6(eA.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:t8}]}})}run(e,t,i){let o=eA.CodeActionCommandArgs.fromUser(i,{kind:eA.CodeActionKind.Source,apply:eA.CodeActionAutoApply.Never});return t9(t,"string"==typeof i?.kind?o.preferred?(0,J.localize)(864,"No preferred source actions for '{0}' available",i.kind):(0,J.localize)(865,"No source actions for '{0}' available",i.kind):o.preferred?(0,J.localize)(866,"No preferred source actions available"):(0,J.localize)(867,"No source actions available"),{include:eA.CodeActionKind.Source.contains(o.kind)?o.kind:eI.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply,eA.CodeActionTriggerSource.SourceAction)}}class io extends t3.EditorAction{constructor(){super({id:ek.organizeImportsCommandId,label:(0,J.localize2)(868,"Organize Imports"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,t6(eA.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.Shift|ec.KeyMod.Alt|ec.KeyCode.KeyO,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(869,"Organize imports in the current file. Also called 'Optimize Imports' by some tools")}})}run(e,t){return t9(t,(0,J.localize)(870,"No organize imports action available"),{include:eA.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},eA.CodeActionAutoApply.IfSingle,eA.CodeActionTriggerSource.OrganizeImports)}}class ir extends t3.EditorAction{constructor(){super({id:ek.fixAllCommandId,label:(0,J.localize2)(871,"Fix All"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,t6(eA.CodeActionKind.SourceFixAll))})}run(e,t){return t9(t,(0,J.localize)(872,"No fix all action available"),{include:eA.CodeActionKind.SourceFixAll,includeSourceActions:!0},eA.CodeActionAutoApply.IfSingle,eA.CodeActionTriggerSource.FixAll)}}class is extends t3.EditorAction{constructor(){super({id:ek.autoFixCommandId,label:(0,J.localize2)(873,"Auto Fix..."),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,t6(eA.CodeActionKind.QuickFix)),kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.Period,mac:{primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Alt|ec.KeyCode.Period},weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){return t9(t,(0,J.localize)(874,"No auto fixes available"),{include:eA.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},eA.CodeActionAutoApply.IfSingle,eA.CodeActionTriggerSource.AutoFix)}}var ia=e.i(23948);(0,eu.registerEditorContribution)(t5.CodeActionController.ID,t5.CodeActionController,eu.EditorContributionInstantiation.Eventually),(0,eu.registerEditorContribution)(ia.LightBulbWidget.ID,ia.LightBulbWidget,eu.EditorContributionInstantiation.Lazy),(0,eu.registerEditorAction)(t7),(0,eu.registerEditorAction)(it),(0,eu.registerEditorAction)(ii),(0,eu.registerEditorAction)(io),(0,eu.registerEditorAction)(is),(0,eu.registerEditorAction)(ir),(0,eu.registerEditorCommand)(new ie),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({...eo.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE,description:(0,J.localize)(875,"Enable/disable showing group headers in the Code Action menu."),default:!0}}}),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({...eo.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE,description:(0,J.localize)(876,"Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({...eo.editorConfigurationBaseNode,properties:{"editor.codeActions.triggerOnFocusChange":{type:"boolean",scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE,markdownDescription:(0,J.localize)(877,"Enable triggering {0} when {1} is set to {2}. Code Actions must be set to {3} to be triggered for window and focus changes.","`#editor.codeActionsOnSave#`","`#files.autoSave#`","`afterDelay`","`always`"),default:!1}}}),e.s([],550118);var il=e.i(116185),id=e.i(309187),ic=eu,iu=e.i(918299),ih=e.i(839435),ip=e.i(292473),ig=e.i(323235);class im{constructor(){this.lenses=[],this._disposables=new Z.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){for(let i of(this._disposables.add(e),e.lenses))this.lenses.push({symbol:i,provider:t})}}async function i_(e,t,i){let o=e.ordered(t),n=new Map,r=new im,s=o.map(async(e,o)=>{n.set(e,o);try{let o=await Promise.resolve(e.provideCodeLenses(t,i));o&&r.add(o,e)}catch(e){(0,e$.onUnexpectedExternalError)(e)}});return await Promise.all(s),r.lenses=r.lenses.sort((e,t)=>{if(e.symbol.range.startLineNumber<t.symbol.range.startLineNumber)return -1;if(e.symbol.range.startLineNumber>t.symbol.range.startLineNumber)return 1;if(n.get(e.provider)<n.get(t.provider))return -1;if(n.get(e.provider)>n.get(t.provider))return 1;if(e.symbol.range.startColumn<t.symbol.range.startColumn)return -1;else if(e.symbol.range.startColumn>t.symbol.range.startColumn)return 1;else return 0}),r}e3.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(e,...t){let[i,o]=t;(0,ih.assertType)(ip.URI.isUri(i)),(0,ih.assertType)("number"==typeof o||!o);let{codeLensProvider:n}=e.get(eD.ILanguageFeaturesService),r=e.get(ig.IModelService).getModel(i);if(!r)throw(0,e$.illegalArgument)();let s=[],a=new Z.DisposableStore;return i_(n,r,ed.CancellationToken.None).then(e=>{a.add(e);let t=[];for(let i of e.lenses)null==o||i.symbol.command?s.push(i.symbol):o-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(r,i.symbol,ed.CancellationToken.None)).then(e=>s.push(e||i.symbol)));return Promise.all(t)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});var iy=e.i(441900),iv=e.i(777700),iC=e.i(6423);let ib=(0,eC.createDecorator)("ICodeLensCache");class iS{constructor(e,t){this.lineCount=e,this.data=t}}let iw=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw Error("not supported")}},this._cache=new iy.LRUCache(20,.75),(0,el.runWhenWindowIdle)(iC.mainWindow,()=>e.remove("codelens/cache",td.StorageScope.WORKSPACE));const t="codelens/cache2",i=e.get(t,td.StorageScope.WORKSPACE,"{}");this._deserialize(i);const o=eE.Event.filter(e.onWillSaveState,e=>e.reason===td.WillSaveStateReason.SHUTDOWN);eE.Event.once(o)(i=>{e.store(t,this._serialize(),td.StorageScope.WORKSPACE,td.StorageTarget.MACHINE)})}put(e,t){let i=t.lenses.map(e=>({range:e.symbol.range,command:e.symbol.command&&{id:"",title:e.symbol.command?.title}})),o=new im;o.add({lenses:i,dispose:()=>{}},this._fakeProvider);let n=new iS(e.getLineCount(),o);this._cache.set(e.uri.toString(),n)}get(e){let t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){let e=Object.create(null);for(let[t,i]of this._cache){let o=new Set;for(let e of i.data.lenses)o.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...o.values()]}}return JSON.stringify(e)}_deserialize(e){try{let t=JSON.parse(e);for(let e in t){let i=t[e],o=[];for(let e of i.lines)o.push({range:new tQ.Range(e,1,e,11)});let n=new im;n.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(e,new iS(i.lineCount,n))}}catch{}}};iw=(0,Y.__decorate)([(0,Y.__param)(0,tc.IStorageService)],iw),(0,iv.registerSingleton)(ib,iw,iv.InstantiationType.Delayed);var iE=e.i(957708),iI=e.i(756600);(0,ti.default)(".monaco-editor .codelens-decoration{font-feature-settings:var(--vscode-editorCodeLens-fontFeatureSettings);color:var(--vscode-editorCodeLens-foreground);display:inline-block;font-family:var(--vscode-editorCodeLens-fontFamily),var(--vscode-editorCodeLens-fontFamilyDefault);font-size:var(--vscode-editorCodeLens-fontSize);line-height:var(--vscode-editorCodeLens-lineHeight);overflow:hidden;padding-right:calc(var(--vscode-editorCodeLens-fontSize)*.5);text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;vertical-align:sub;white-space:nowrap}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration>a:hover,.monaco-editor .codelens-decoration>a:hover .codicon{color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .codelens-decoration .codicon{color:currentColor!important;color:var(--vscode-editorCodeLens-foreground);font-size:var(--vscode-editorCodeLens-fontSize);line-height:var(--vscode-editorCodeLens-lineHeight);vertical-align:middle}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}",{});var ix=e.i(341541);class iD{constructor(e,t,i){this.afterColumn=iI.Constants.MAX_SAFE_SMALL_INTEGER,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class ik{static{this._idPool=0}constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${ik._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();let i=[],o=!1;for(let t=0;t<e.length;t++){let n=e[t];if(n&&(o=!0,n.command)){let o=(0,iE.renderLabelWithIcons)(n.command.title.trim());if(n.command.id){let e=`c${ik._idPool++}`;i.push((0,el.$)("a",{id:e,title:n.command.tooltip,role:"button"},...o)),this._commands.set(e,n.command)}else i.push((0,el.$)("span",{title:n.command.tooltip},...o));t+1<e.length&&i.push((0,el.$)("span",void 0,"|"))}}o?((0,el.reset)(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):(0,el.reset)(this._domNode,(0,el.$)("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[id.ContentWidgetPositionPreference.ABOVE]}}getPosition(){return this._widgetPosition||null}}class iA{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let e=0,i=t.length;e<i;e++)this._addDecorationsCallbacks[e](t[e])}}let iM=ix.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class iL{constructor(e,t,i,o,n,r){let s;this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];const a=[];this._data.forEach((e,t)=>{e.symbol.command&&a.push(e.symbol),i.addDecoration({range:e.symbol.range,options:iM},e=>this._decorationIds[t]=e),s=s?tQ.Range.plusRange(s,e.symbol.range):tQ.Range.lift(e.symbol.range)}),this._viewZone=new iD(s.startLineNumber-1,n,r),this._viewZoneId=o.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new ik(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{let i=this._editor.getModel().getDecorationRange(e),o=this._data[t].symbol;return!!(i&&tQ.Range.isEmpty(o.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((e,i)=>{t.addDecoration({range:e.symbol.range,options:iM},e=>this._decorationIds[i]=e)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){let i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){let i=e[t];if(i){let{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){return this._contentWidget?.getCommand(e)}getLineNumber(){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}var iT=e.i(836387),iR=e.i(633921),iN=e.i(555690);let iP=class{static{this.ID="css.editor.codeLens"}constructor(e,t,i,o,n,r){this._editor=e,this._languageFeaturesService=t,this._commandService=o,this._notificationService=n,this._codeLensCache=r,this._disposables=new Z.DisposableStore,this._localToDispose=new Z.DisposableStore,this._lenses=[],this._oldCodeLensModels=new Z.DisposableStore,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new ta.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(iu.EditorOption.fontInfo)||e.hasChanged(iu.EditorOption.codeLensFontSize)||e.hasChanged(iu.EditorOption.codeLensFontFamily))&&this._updateLensStyle(),e.hasChanged(iu.EditorOption.codeLens)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),this._currentCodeLensModel?.dispose()}_getLayoutInfo(){let e=Math.max(1.3,this._editor.getOption(iu.EditorOption.lineHeight)/this._editor.getOption(iu.EditorOption.fontSize)),t=this._editor.getOption(iu.EditorOption.codeLensFontSize);return(!t||t<5)&&(t=.9*this._editor.getOption(iu.EditorOption.fontSize)|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){let{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(iu.EditorOption.codeLensFontFamily),o=this._editor.getOption(iu.EditorOption.fontInfo),{style:n}=this._editor.getContainerDomNode();n.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),n.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),n.setProperty("--vscode-editorCodeLens-fontFeatureSettings",o.fontFeatureSettings),i&&(n.setProperty("--vscode-editorCodeLens-fontFamily",i),n.setProperty("--vscode-editorCodeLens-fontFamilyDefault",iu.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(t=>{for(let i of this._lenses)i.updateHeight(e,t)})}_localDispose(){this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=void 0,this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),this._currentCodeLensModel?.dispose()}_onModelChange(){this._localDispose();let e=this._editor.getModel();if(!e||!this._editor.getOption(iu.EditorOption.codeLens)||e.isTooLargeForTokenization())return;let t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&(0,ta.disposableTimeout)(()=>{t===this._codeLensCache.get(e)&&(this._codeLensCache.delete(e),this._onModelChange())},3e4,this._localToDispose);return}for(let t of this._languageFeaturesService.codeLensProvider.all(e))if("function"==typeof t.onDidChange){let e=t.onDidChange(()=>i.schedule());this._localToDispose.add(e)}let i=new ta.RunOnceScheduler(()=>{let t=Date.now();this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=(0,ta.createCancelablePromise)(t=>i_(this._languageFeaturesService.codeLensProvider,e,t)),this._getCodeLensModelPromise.then(o=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=o,this._codeLensCache.put(e,o),i.delay=this._provideCodeLensDebounce.update(e,Date.now()-t),this._renderCodeLensSymbols(o),this._resolveCodeLensesInViewportSoon()},e$.onUnexpectedError)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add((0,Z.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let i=[],o=-1;this._lenses.forEach(e=>{e.isValid()&&o!==e.getLineNumber()?(e.update(t),o=e.getLineNumber()):i.push(e)});let n=new iA;i.forEach(e=>{e.dispose(n,t),this._lenses.splice(this._lenses.indexOf(e),1)}),n.commit(e)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,Z.toDisposable)(()=>{if(this._editor.getModel()){let e=il.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{this._disposeAllLenses(e,t)})}),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(e=>{if(e.target.type!==id.MouseTargetType.CONTENT_WIDGET)return;let t=e.target.element;if(t?.tagName==="SPAN"&&(t=t.parentElement),t?.tagName==="A")for(let e of this._lenses){let i=e.getCommand(t);if(i){this._commandService.executeCommand(i.id,...i.arguments||[]).catch(e=>this._notificationService.error(e));break}}})),i.schedule()}_disposeAllLenses(e,t){let i=new iA;for(let e of this._lenses)e.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){let t;if(!this._editor.hasModel())return;let i=this._editor.getModel().getLineCount(),o=[];for(let n of e.lenses){let e=n.symbol.range.startLineNumber;e<1||e>i||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(n):(t=[n],o.push(t)))}if(!o.length&&!this._lenses.length)return;let n=il.StableEditorScrollState.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let i=new iA,n=0,s=0;for(;s<o.length&&n<this._lenses.length;){let e=o[s][0].symbol.range.startLineNumber,a=this._lenses[n].getLineNumber();a<e?(this._lenses[n].dispose(i,t),this._lenses.splice(n,1)):a===e?(this._lenses[n].updateCodeLensSymbols(o[s],i),s++,n++):(this._lenses.splice(n,0,new iL(o[s],this._editor,i,t,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),n++,s++)}for(;n<this._lenses.length;)this._lenses[n].dispose(i,t),this._lenses.splice(n,1);for(;s<o.length;)this._lenses.push(new iL(o[s],this._editor,i,t,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),s++;i.commit(e)})}),n.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0;let e=this._editor.getModel();if(!e)return;let t=[],i=[];if(this._lenses.forEach(o=>{let n=o.computeIfNecessary(e);n&&(t.push(n),i.push(o))}),0===t.length)return;let o=Date.now(),n=(0,ta.createCancelablePromise)(o=>Promise.all(t.map((t,n)=>{let r=Array(t.length);return Promise.all(t.map((t,i)=>t.symbol.command||"function"!=typeof t.provider.resolveCodeLens?(r[i]=t.symbol,Promise.resolve(void 0)):Promise.resolve(t.provider.resolveCodeLens(e,t.symbol,o)).then(e=>{r[i]=e},e$.onUnexpectedExternalError))).then(()=>{o.isCancellationRequested||i[n].isDisposed()||i[n].updateCommands(r)})})));this._resolveCodeLensesPromise=n,this._resolveCodeLensesPromise.then(()=>{let t=this._resolveCodeLensesDebounce.update(e,Date.now()-o);this._resolveCodeLensesScheduler.delay=t,this._currentCodeLensModel&&this._codeLensCache.put(e,this._currentCodeLensModel),this._oldCodeLensModels.clear(),n===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},e=>{(0,e$.onUnexpectedError)(e),n===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,this._currentCodeLensModel?.isDisposed?void 0:this._currentCodeLensModel}};iP=(0,Y.__decorate)([(0,Y.__param)(1,eD.ILanguageFeaturesService),(0,Y.__param)(2,iN.ILanguageFeatureDebounceService),(0,Y.__param)(3,iT.ICommandService),(0,Y.__param)(4,iR.INotificationService),(0,Y.__param)(5,ib)],iP),(0,ic.registerEditorContribution)(iP.ID,iP,ic.EditorContributionInstantiation.AfterFirstRender),(0,ic.registerEditorAction)(class extends ic.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:eh.EditorContextKeys.hasCodeLensProvider,label:(0,J.localize2)(898,"Show CodeLens Commands For Current Line")})}async run(e,t){if(!t.hasModel())return;let i=e.get(eW.IQuickInputService),o=e.get(iT.ICommandService),n=e.get(iR.INotificationService),r=t.getSelection().positionLineNumber,s=t.getContribution(iP.ID);if(!s)return;let a=await s.getModel();if(!a)return;let l=[];for(let e of a.lenses)e.symbol.command&&e.symbol.range.startLineNumber===r&&l.push({label:e.symbol.command.title,command:e.symbol.command});if(0===l.length)return;let d=await i.pick(l,{canPickMany:!1,placeHolder:(0,J.localize)(899,"Select a command")});if(!d)return;let c=d.command;if(a.isDisposed){let e=await s.getModel(),t=e?.lenses.find(e=>e.symbol.range.startLineNumber===r&&e.symbol.command?.title===c.title);if(!t||!t.symbol.command)return;c=t.symbol.command}try{await o.executeCommand(c.id,...c.arguments||[])}catch(e){n.error(e)}}}),e.s(["CodeLensContribution",()=>iP],556065);var iO=e.i(79838),iF=e.i(965674),iK=e.i(243939),iW=e.i(158261),iz=e.i(620114),iV=e.i(11170),iB=eu;e.i(722658);var iH=Z,iU=e.i(583473),iG=e.i(279691),iq=e.i(272117),i$=e.i(421513),ij=e.i(804998);class iQ{constructor(e,t,i,o){this.owner=e,this.range=t,this.model=i,this.provider=o}static fromBaseColor(e,t){return new iQ(e,t.range,t.model,t.provider)}}let iY=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2,this._color=null}async createColorHover(e,t,i){if(!this._editor.hasModel()||!iK.ColorDetector.get(this._editor))return null;let o=await (0,iF.getColors)(i,this._editor.getModel(),ed.CancellationToken.None),n=null,r=null;for(let t of o){let i=t.colorInfo;tQ.Range.containsRange(i.range,e.range)&&(n=i,r=t.provider)}let s=n??e,a=r??t,l=!!n;return{colorHover:iQ.fromBaseColor(this,await (0,i$.createColorHover)(this._editor.getModel(),s,a)),foundInEditor:l}}async updateEditorModel(e){if(!this._editor.hasModel())return;let t=e.model,i=new tQ.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(await (0,i$.updateColorPresentations)(this._editor.getModel(),t,this._color,i,e),i=(0,i$.updateEditorModel)(this._editor,i,t))}renderHoverParts(e,t){if(0===t.length||!this._editor.hasModel())return;if(e.setMinimumDimensions){let t=this._editor.getOption(iu.EditorOption.lineHeight)+8;e.setMinimumDimensions(new el.Dimension(302,t))}let i=new Z.DisposableStore,o=t[0],n=this._editor.getModel(),r=o.model,s=i.add(new ij.ColorPickerWidget(e.fragment,r,this._editor.getOption(iu.EditorOption.pixelRatio),this._themeService,i$.ColorPickerWidgetType.Standalone)),a=new tQ.Range(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn),l=o.model.color;return this._color=l,(0,i$.updateColorPresentations)(n,r,l,a,o),i.add(r.onColorFlushed(e=>{this._color=e})),i.add(r.onDidChangeColor(e=>{(0,i$.updateColorPresentations)(n,r,e,a,o)})),i.add(this._editor.onDidChangeModelContent(t=>{e.hide(),this._editor.focus()})),{hoverPart:o,colorPicker:s,disposables:i}}};iY=(0,Y.__decorate)([(0,Y.__param)(1,iq.IThemeService)],iY);var iZ=e.i(357790);class iX{constructor(e,t){this.value=e,this.foundInEditor=t}}let iJ=class extends iH.Disposable{static{y=this}static{this.ID="editor.contrib.standaloneColorPickerWidget"}constructor(e,t,i,o,n,r,s,a){super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._keybindingService=n,this._languageFeaturesService=r,this._editorWorkerService=s,this._hoverService=a,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new eE.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=o.createInstance(iY,this._editor),this._position=this._editor._getViewModel()?.getPrimaryCursorState().modelState.position;const l=this._editor.getSelection(),d=l?{startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},c=this._register((0,el.trackFocus)(this._body));this._register(c.onDidBlur(e=>{this.hide()})),this._register(c.onDidFocus(e=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(e=>{let t=e.target.element?.classList;t&&t.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(e=>{this._render(e.value,e.foundInEditor)})),this._start(d),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return y.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;let e=this._editor.getOption(iu.EditorOption.hover).above;return{position:this._position,secondaryPosition:this._position,preference:e?[id.ContentWidgetPositionPreference.ABOVE,id.ContentWidgetPositionPreference.BELOW]:[id.ContentWidgetPositionPreference.BELOW,id.ContentWidgetPositionPreference.ABOVE],positionAffinity:tV.PositionAffinity.None}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(e){let t=await this._computeAsync(e);t&&this._onResult.fire(new iX(t.result,t.foundInEditor))}async _computeAsync(e){if(!this._editor.hasModel())return null;let t=await this._standaloneColorPickerParticipant.createColorHover({range:e,color:{red:0,green:0,blue:0,alpha:1}},new iW.DefaultDocumentColorProvider(this._editorWorkerService),this._languageFeaturesService.colorProvider);return t?{result:t.colorHover,foundInEditor:t.foundInEditor}:null}_render(e,t){let i=document.createDocumentFragment(),o=this._register(new iU.EditorHoverStatusBar(this._keybindingService,this._hoverService));this._colorHover=e;let n=this._standaloneColorPickerParticipant.renderHoverParts({fragment:i,statusBar:o,onContentsChanged:()=>{},hide:()=>this.hide()},[e]);if(!n)return;this._register(n.disposables);let r=n.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),r.layout();let s=r.body,a=s.saturationBox.domNode.clientWidth,l=s.domNode.clientWidth-a-22-8,d=r.body.enterButton;d?.onClicked(()=>{this.updateEditor(),this.hide()});let c=r.header;c.pickedColorNode.style.width=a+8+"px",c.originalColorNode.style.width=l+"px";let u=r.header.closeButton;u?.onClicked(()=>{this.hide()}),t&&(d&&(d.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};iJ=y=(0,Y.__decorate)([(0,Y.__param)(3,eC.IInstantiationService),(0,Y.__param)(4,eM.IKeybindingService),(0,Y.__param)(5,eD.ILanguageFeaturesService),(0,Y.__param)(6,iG.IEditorWorkerService),(0,Y.__param)(7,iZ.IHoverService)],iJ);var i0=Z;let i1=class extends i0.Disposable{static{v=this}static{this.ID="editor.contrib.standaloneColorPickerController"}constructor(e,t,i){super(),this._editor=e,this._instantiationService=i,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=eh.EditorContextKeys.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=eh.EditorContextKeys.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||this._standaloneColorPickerWidget?.focus():this._standaloneColorPickerWidget=this._instantiationService.createInstance(iJ,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused))}hide(){this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerWidget?.hide(),this._editor.focus()}insertColor(){this._standaloneColorPickerWidget?.updateEditor(),this.hide()}static get(e){return e.getContribution(v.ID)}};i1=v=(0,Y.__decorate)([(0,Y.__param)(1,ev.IContextKeyService),(0,Y.__param)(2,eC.IInstantiationService)],i1);class i2 extends iB.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,J.localize2)(903,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,J.localize)(904,"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:em.MenuId.CommandPalette}],metadata:{description:(0,J.localize2)(905,"Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(e,t){i1.get(t)?.showOrFocus()}}class i3 extends iB.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,J.localize2)(906,"Hide the Color Picker"),precondition:eh.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:ec.KeyCode.Escape,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(907,"Hide the standalone color picker.")}})}run(e,t){i1.get(t)?.hide()}}class i5 extends iB.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,J.localize2)(908,"Insert Color with Standalone Color Picker"),precondition:eh.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:ec.KeyCode.Enter,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(909,"Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(e,t){i1.get(t)?.insertColor()}}(0,eu.registerEditorAction)(i3),(0,eu.registerEditorAction)(i5),(0,em.registerAction2)(i2),(0,eu.registerEditorContribution)(iz.HoverColorPickerContribution.ID,iz.HoverColorPickerContribution,eu.EditorContributionInstantiation.BeforeFirstInteraction),(0,eu.registerEditorContribution)(i1.ID,i1,eu.EditorContributionInstantiation.AfterFirstRender),(0,eu.registerEditorContribution)(iK.ColorDetector.ID,iK.ColorDetector,eu.EditorContributionInstantiation.AfterFirstRender),(0,eY.registerEditorFeature)(iW.DefaultDocumentColorProviderFeature),iO.HoverParticipantRegistry.register(iV.HoverColorPickerParticipant),e3.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(e,...t){let[i]=t;if(!(i instanceof ip.URI))throw(0,e$.illegalArgument)();let{model:o,colorProviderRegistry:n,defaultColorDecoratorsEnablement:r}=(0,iF._setupColorCommand)(e,i);return(0,iF._findColorData)(new iF.ExtColorDataCollector,n,o,ed.CancellationToken.None,r)}),e3.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(e,...t){let[i,o]=t,{uri:n,range:r}=o;if(!(n instanceof ip.URI)||!Array.isArray(i)||4!==i.length||!tQ.Range.isIRange(r))throw(0,e$.illegalArgument)();let{model:s,colorProviderRegistry:a,defaultColorDecoratorsEnablement:l}=(0,iF._setupColorCommand)(e,n),[d,c,u,h]=i;return(0,iF._findColorData)(new iF.ColorPresentationsCollector({range:r,color:{red:d,green:c,blue:u,alpha:h}}),a,s,ed.CancellationToken.None,l)}),e.s([],294372);var i4=eu,i6=e.i(720274),i8=e.i(266931),i9=e.i(224961),i7=e.i(747053);class oe{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;let o=t.length;if(i+o>e.length)return!1;for(let n=0;n<o;n++){let o=e.charCodeAt(i+n),r=t.charCodeAt(n);if(o!==r&&(!(o>=i8.CharCode.A)||!(o<=i8.CharCode.Z)||o+32!==r)&&(!(r>=i8.CharCode.A)||!(r<=i8.CharCode.Z)||r+32!==o))return!1}return!0}_createOperationsForBlockComment(e,t,i,o,n,r){let s,a=e.startLineNumber,l=e.startColumn,d=e.endLineNumber,c=e.endColumn,u=n.getLineContent(a),h=n.getLineContent(d),p=u.lastIndexOf(t,l-1+t.length),g=h.indexOf(i,c-1-i.length);if(-1!==p&&-1!==g)if(a===d)u.substring(p+t.length,g).indexOf(i)>=0&&(p=-1,g=-1);else{let e=u.substring(p+t.length),o=h.substring(0,g);(e.indexOf(i)>=0||o.indexOf(i)>=0)&&(p=-1,g=-1)}for(let n of(-1!==p&&-1!==g?(o&&p+t.length<u.length&&u.charCodeAt(p+t.length)===i8.CharCode.Space&&(t+=" "),o&&g>0&&h.charCodeAt(g-1)===i8.CharCode.Space&&(i=" "+i,g-=1),s=oe._createRemoveBlockCommentOperations(new tQ.Range(a,p+t.length+1,d,g+1),t,i)):(s=oe._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===s.length?i:null),s))r.addTrackedEditOperation(n.range,n.text)}static _createRemoveBlockCommentOperations(e,t,i){let o=[];return tQ.Range.isEmpty(e)?o.push(i9.EditOperation.delete(new tQ.Range(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(o.push(i9.EditOperation.delete(new tQ.Range(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(i9.EditOperation.delete(new tQ.Range(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),o}static _createAddBlockCommentOperations(e,t,i,o){let n=[];return tQ.Range.isEmpty(e)?n.push(i9.EditOperation.replace(new tQ.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(n.push(i9.EditOperation.insert(new i7.Position(e.startLineNumber,e.startColumn),t+(o?" ":""))),n.push(i9.EditOperation.insert(new i7.Position(e.endLineNumber,e.endColumn),(o?" ":"")+i))),n}getEditOperations(e,t){let i=this._selection.startLineNumber,o=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);let n=e.getLanguageIdAtPosition(i,o),r=this.languageConfigurationService.getLanguageConfiguration(n).comments;r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){let i=t.getInverseEditOperations();if(2===i.length){let e=i[0],t=i[1];return new tz.Selection(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{let e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new tz.Selection(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}(r=C||(C={}))[r.Toggle=0]="Toggle",r[r.ForceAdd=1]="ForceAdd",r[r.ForceRemove=2]="ForceRemove";class ot{constructor(e,t,i,o,n,r,s){this.languageConfigurationService=e,this._selection=t,this._indentSize=i,this._type=o,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,i,o){e.tokenization.tokenizeIfCheap(t);let n=e.getLanguageIdAtPosition(t,1),r=o.getLanguageConfiguration(n).comments,s=r?r.lineCommentToken:null;if(!s)return null;let a=[];for(let e=0,o=i-t+1;e<o;e++)a[e]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a}static _analyzeLines(e,t,i,o,n,r,s,a){let l,d=!0;l=e===C.Toggle||e!==C.ForceAdd;for(let a=0,c=o.length;a<c;a++){let c=o[a],u=n+a;if(u===n&&s){c.ignore=!0;continue}let h=i.getLineContent(u),p=(0,t2.firstNonWhitespaceIndex)(h);if(-1===p){c.ignore=r,c.commentStrOffset=h.length;continue}if(d=!1,c.ignore=!1,c.commentStrOffset=p,l&&!oe._haystackHasNeedleAtOffset(h,c.commentStr,p)&&(e===C.Toggle?l=!1:e===C.ForceAdd||(c.ignore=!0)),l&&t){let e=p+c.commentStrLength;e<h.length&&h.charCodeAt(e)===i8.CharCode.Space&&(c.commentStrLength+=1)}}if(e===C.Toggle&&d){l=!1;for(let e=0,t=o.length;e<t;e++)o[e].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:o}}static _gatherPreflightData(e,t,i,o,n,r,s,a){let l=ot._gatherPreflightCommentStrings(i,o,n,a);return null===l?{supported:!1}:ot._analyzeLines(e,t,i,l,o,r,s,a)}_executeLineComments(e,t,i,o){let n;i.shouldRemoveComments?n=ot._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(ot._normalizeInsertionPoint(e,i.lines,o.startLineNumber,this._indentSize),n=this._createAddLineCommentsOperations(i.lines,o.startLineNumber));let r=new i7.Position(o.positionLineNumber,o.positionColumn);for(let i=0,o=n.length;i<o;i++)t.addEditOperation(n[i].range,n[i].text),tQ.Range.isEmpty(n[i].range)&&tQ.Range.getStartPosition(n[i].range).equals(r)&&e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(n[i].text||"").length);this._selectionId=t.trackSelection(o)}_attemptRemoveBlockComment(e,t,i,o){let n=t.startLineNumber,r=t.endLineNumber,s=o.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(n).lastIndexOf(i,s-1),l=e.getLineContent(r).indexOf(o,t.endColumn-1-i.length);return(-1!==a&&-1===l&&(l=e.getLineContent(n).indexOf(o,a+i.length),r=n),-1===a&&-1!==l&&(a=e.getLineContent(r).lastIndexOf(i,l),n=r),t.isEmpty()&&(-1===a||-1===l)&&-1!==(a=e.getLineContent(n).indexOf(i))&&(l=e.getLineContent(n).indexOf(o,a+i.length)),-1!==a&&e.getLineContent(n).charCodeAt(a+i.length)===i8.CharCode.Space&&(i+=" "),-1!==l&&e.getLineContent(r).charCodeAt(l-1)===i8.CharCode.Space&&(o=" "+o,l-=1),-1!==a&&-1!==l)?oe._createRemoveBlockCommentOperations(new tQ.Range(n,a+i.length+1,r,l+1),i,o):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);let o=e.getLanguageIdAtPosition(i.startLineNumber,1),n=this.languageConfigurationService.getLanguageConfiguration(o).comments;if(!n||!n.blockCommentStartToken||!n.blockCommentEndToken)return;let r=n.blockCommentStartToken,s=n.blockCommentEndToken,a=this._attemptRemoveBlockComment(e,i,r,s);if(!a){if(i.isEmpty()){let t=e.getLineContent(i.startLineNumber),o=(0,t2.firstNonWhitespaceIndex)(t);-1===o&&(o=t.length),a=oe._createAddBlockCommentOperations(new tQ.Range(i.startLineNumber,o+1,i.startLineNumber,t.length+1),r,s,this._insertSpace)}else a=oe._createAddBlockCommentOperations(new tQ.Range(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r,s,this._insertSpace);1===a.length&&(this._deltaColumn=r.length+1)}for(let e of(this._selectionId=t.trackSelection(i),a))t.addEditOperation(e.range,e.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new tQ.Range(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let o=ot._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(e,t,o,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new tz.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let o=0,n=e.length;o<n;o++){let n=e[o];n.ignore||i.push(i9.EditOperation.delete(new tQ.Range(t+o,n.commentStrOffset+1,t+o,n.commentStrOffset+n.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[],o=this._insertSpace?" ":"";for(let n=0,r=e.length;n<r;n++){let r=e[n];r.ignore||i.push(i9.EditOperation.insert(new i7.Position(t+n,r.commentStrOffset+1),r.commentStr+o))}return i}static nextVisibleColumn(e,t,i,o){return i?e+(t-e%t):e+o}static _normalizeInsertionPoint(e,t,i,o){let n,r,s=iI.Constants.MAX_SAFE_SMALL_INTEGER;for(let n=0,r=t.length;n<r;n++){if(t[n].ignore)continue;let r=e.getLineContent(i+n),a=0;for(let e=0,i=t[n].commentStrOffset;a<s&&e<i;e++)a=ot.nextVisibleColumn(a,o,r.charCodeAt(e)===i8.CharCode.Tab,1);a<s&&(s=a)}s=Math.floor(s/o)*o;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;let l=e.getLineContent(i+a),d=0;for(n=0,r=t[a].commentStrOffset;d<s&&n<r;n++)d=ot.nextVisibleColumn(d,o,l.charCodeAt(n)===i8.CharCode.Tab,1);d>s?t[a].commentStrOffset=n-1:t[a].commentStrOffset=n}}}class oi extends i4.EditorAction{constructor(e,t){super(t),this._type=e}run(e,t){let i=e.get(i6.ILanguageConfigurationService);if(!t.hasModel())return;let o=t.getModel(),n=[],r=o.getOptions(),s=t.getOption(iu.EditorOption.comments),a=t.getSelections().map((e,t)=>({selection:e,index:t,ignoreFirstLine:!1}));a.sort((e,t)=>tQ.Range.compareRangesUsingStarts(e.selection,t.selection));let l=a[0];for(let e=1;e<a.length;e++){let t=a[e];l.selection.endLineNumber===t.selection.startLineNumber&&(l.index<t.index?t.ignoreFirstLine=!0:(l.ignoreFirstLine=!0,l=t))}for(let e of a)n.push(new ot(i,e.selection,r.indentSize,this._type,s.insertSpace,s.ignoreEmptyLines,e.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class oo extends i4.EditorAction{constructor(){super({id:"editor.action.blockComment",label:(0,J.localize2)(914,"Toggle Block Comment"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.Shift|ec.KeyMod.Alt|ec.KeyCode.KeyA,linux:{primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.KeyA},weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarEditMenu,group:"5_insert",title:(0,J.localize)(915,"Toggle &&Block Comment"),order:2}})}run(e,t){let i=e.get(i6.ILanguageConfigurationService);if(!t.hasModel())return;let o=t.getOption(iu.EditorOption.comments),n=[];for(let e of t.getSelections())n.push(new oe(e,o.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}(0,i4.registerEditorAction)(class extends oi{constructor(){super(C.Toggle,{id:"editor.action.commentLine",label:(0,J.localize2)(910,"Toggle Line Comment"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Slash,weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarEditMenu,group:"5_insert",title:(0,J.localize)(911,"&&Toggle Line Comment"),order:1}})}}),(0,i4.registerEditorAction)(class extends oi{constructor(){super(C.ForceAdd,{id:"editor.action.addCommentLine",label:(0,J.localize2)(912,"Add Line Comment"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyC),weight:eb.KeybindingWeight.EditorContrib}})}}),(0,i4.registerEditorAction)(class extends oi{constructor(){super(C.ForceRemove,{id:"editor.action.removeCommentLine",label:(0,J.localize2)(913,"Remove Line Comment"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyU),weight:eb.KeybindingWeight.EditorContrib}})}}),(0,i4.registerEditorAction)(oo),e.s([],514663);var on=Z,or=eu;class os{constructor(e){this.selections=e}equals(e){let t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class oa{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class ol extends on.Disposable{static{this.ID="editor.contrib.cursorUndoRedoController"}static get(e){return e.getContribution(ol.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;let i=new os(t.oldSelections);!(this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i))&&(this._undoStack.push(new oa(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new oa(new os(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new oa(new os(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}class od extends or.EditorAction{constructor(){super({id:"cursorUndo",label:(0,J.localize2)(926,"Cursor Undo"),precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.KeyU,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t,i){ol.get(t)?.cursorUndo()}}class oc extends or.EditorAction{constructor(){super({id:"cursorRedo",label:(0,J.localize2)(927,"Cursor Redo"),precondition:void 0})}run(e,t,i){ol.get(t)?.cursorRedo()}}(0,or.registerEditorContribution)(ol.ID,ol,or.EditorContributionInstantiation.Eager),(0,or.registerEditorAction)(od),(0,or.registerEditorAction)(oc),e.s([],306033);var ou=Z;(0,ti.default)(".monaco-editor.hc-light .dnd-target,.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.hc-light.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.hc-light.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}",{});var oh=e.i(488131),op=e.i(236924);class og{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new tQ.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new tz.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new tz.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new tz.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new tz.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber===this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new tz.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function om(e){return e8.isMacintosh?e.altKey:e.ctrlKey}class o_ extends ou.Disposable{static{this.ID="editor.contrib.dragAndDrop"}static{this.TRIGGER_KEY_VALUE=e8.isMacintosh?ec.KeyCode.Alt:ec.KeyCode.Ctrl}static get(e){return e.getContribution(o_.ID)}constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!(!this._editor.getOption(iu.EditorOption.dragAndDrop)||this._editor.getOption(iu.EditorOption.columnSelection))&&(om(e)&&(this._modifierPressed=!0),this._mouseDown&&om(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!(!this._editor.getOption(iu.EditorOption.dragAndDrop)||this._editor.getOption(iu.EditorOption.columnSelection))&&(om(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===o_.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter(e=>t.position&&e.containsPosition(t.position));if(1!==e.length)return;this._dragSelection=e[0]}om(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new i7.Position(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){let{selectionStartLineNumber:o,selectionStartColumn:n}=e;i=[new tz.Selection(o,n,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(e=>e.containsPosition(t)?new tz.Selection(t.lineNumber,t.column,t.lineNumber,t.column):e);this._editor.setSelections(i||[],"mouse",oh.CursorChangeReason.Explicit)}else(!this._dragSelection.containsPosition(t)||(om(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o_.ID,new og(this._dragSelection,t,om(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}static{this._DECORATION_OPTIONS=ix.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"})}showAt(e){this._dndDecorationIds.set([{range:new tQ.Range(e.lineNumber,e.column,e.lineNumber,e.column),options:o_._DECORATION_OPTIONS}]),this._editor.revealPosition(e,op.ScrollType.Immediate)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===id.MouseTargetType.CONTENT_TEXT||e.type===id.MouseTargetType.CONTENT_EMPTY}_hitMargin(e){return e.type===id.MouseTargetType.GUTTER_GLYPH_MARGIN||e.type===id.MouseTargetType.GUTTER_LINE_NUMBERS||e.type===id.MouseTargetType.GUTTER_LINE_DECORATIONS}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}(0,eu.registerEditorContribution)(o_.ID,o_,eu.EditorContributionInstantiation.BeforeFirstInteraction),e.s([],496709);var of=eu,oy=e.i(176921),ov=e.i(166181);(0,of.registerEditorContribution)(oy.CopyPasteController.ID,oy.CopyPasteController,of.EditorContributionInstantiation.Eager),(0,eY.registerEditorFeature)(ov.DefaultPasteProvidersFeature),(0,of.registerEditorCommand)(new class extends of.EditorCommand{constructor(){super({id:oy.changePasteTypeCommandId,precondition:oy.pasteWidgetVisibleCtx,kbOpts:{weight:eb.KeybindingWeight.EditorContrib,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Period}})}runEditorCommand(e,t){return oy.CopyPasteController.get(t)?.changePasteType()}}),(0,of.registerEditorCommand)(new class extends of.EditorCommand{constructor(){super({id:"editor.hidePasteWidget",precondition:oy.pasteWidgetVisibleCtx,kbOpts:{weight:eb.KeybindingWeight.EditorContrib,primary:ec.KeyCode.Escape}})}runEditorCommand(e,t){oy.CopyPasteController.get(t)?.clearWidgets()}}),(0,of.registerEditorAction)(class e extends of.EditorAction{static{this.argsSchema={oneOf:[{type:"object",required:["kind"],properties:{kind:{type:"string",description:(0,J.localize)(928,"The kind of the paste edit to try pasting with.\nIf there are multiple edits for this kind, the editor will show a picker. If there are no edits of this kind, the editor will show an error message.")}}},{type:"object",required:["preferences"],properties:{preferences:{type:"array",description:(0,J.localize)(929,"List of preferred paste edit kind to try applying.\nThe first edit matching the preferences will be applied."),items:{type:"string"}}}}]}}constructor(){super({id:"editor.action.pasteAs",label:(0,J.localize2)(930,"Paste As..."),precondition:eh.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:e.argsSchema}]}})}run(e,t,i){let o;return i&&("kind"in i?o={only:new eI.HierarchicalKind(i.kind)}:"preferences"in i&&(o={preferences:i.preferences.map(e=>new eI.HierarchicalKind(e))})),oy.CopyPasteController.get(t)?.pasteAs(o)}}),(0,of.registerEditorAction)(class extends of.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:(0,J.localize2)(931,"Paste as Text"),precondition:eh.EditorContextKeys.writable})}run(e,t){return oy.CopyPasteController.get(t)?.pasteAs({providerId:ov.DefaultTextPasteOrDropEditProvider.id})}}),e.s([],101797);var oC=eu,ob=e.i(35123);(0,oC.registerEditorContribution)(ob.DropIntoEditorController.ID,ob.DropIntoEditorController,oC.EditorContributionInstantiation.BeforeFirstInteraction),(0,eY.registerEditorFeature)(ov.DefaultDropProvidersFeature),(0,oC.registerEditorCommand)(new class extends oC.EditorCommand{constructor(){super({id:ob.changeDropTypeCommandId,precondition:ob.dropWidgetVisibleCtx,kbOpts:{weight:eb.KeybindingWeight.EditorContrib,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Period}})}runEditorCommand(e,t,i){ob.DropIntoEditorController.get(t)?.changeDropType()}}),(0,oC.registerEditorCommand)(new class extends oC.EditorCommand{constructor(){super({id:"editor.hideDropWidget",precondition:ob.dropWidgetVisibleCtx,kbOpts:{weight:eb.KeybindingWeight.EditorContrib,primary:ec.KeyCode.Escape}})}runEditorCommand(e,t,i){ob.DropIntoEditorController.get(t)?.clearWidgets()}}),e.s([],873505);var oS=eu,ow=e.i(976345);class oE extends oS.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:(0,J.localize2)(1026,"Increase Editor Font Size"),precondition:void 0})}run(e,t){ow.EditorZoom.setZoomLevel(ow.EditorZoom.getZoomLevel()+1)}}class oI extends oS.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:(0,J.localize2)(1027,"Decrease Editor Font Size"),precondition:void 0})}run(e,t){ow.EditorZoom.setZoomLevel(ow.EditorZoom.getZoomLevel()-1)}}class ox extends oS.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:(0,J.localize2)(1028,"Reset Editor Font Size"),precondition:void 0})}run(e,t){ow.EditorZoom.setZoomLevel(0)}}(0,oS.registerEditorAction)(oE),(0,oS.registerEditorAction)(oI),(0,oS.registerEditorAction)(ox),e.s([],115838);var oD=e.i(68858),ok=eu,oA=e.i(43934),oM=e.i(240043),oL=e.i(147031),oT=e.i(446099),oR=e.i(982534);let oN=class{static{this.ID="editor.contrib.autoFormat"}constructor(e,t,i,o){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._accessibilitySignalService=o,this._disposables=new Z.DisposableStore,this._sessionDisposables=new Z.DisposableStore,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(e=>{e.hasChanged(iu.EditorOption.formatOnType)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(iu.EditorOption.formatOnType)||!this._editor.hasModel())return;let e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new oA.CharacterSet;for(let e of t.autoFormatTriggerCharacters)i.add(e.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(e=>{let t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let t=this._editor.getModel(),i=this._editor.getPosition(),o=new ed.CancellationTokenSource,n=this._editor.onDidChangeModelContent(e=>{if(e.isFlush){o.cancel(),n.dispose();return}for(let t=0,r=e.changes.length;t<r;t++)if(e.changes[t].range.endLineNumber<=i.lineNumber){o.cancel(),n.dispose();return}});(0,oM.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),o.token).then(e=>{!o.token.isCancellationRequested&&(0,oD.isNonEmptyArray)(e)&&(this._accessibilitySignalService.playSignal(e_.AccessibilitySignal.format,{userGesture:!1}),oL.FormattingEdit.execute(this._editor,e,!0))}).finally(()=>{n.dispose()})}};oN=(0,Y.__decorate)([(0,Y.__param)(1,eD.ILanguageFeaturesService),(0,Y.__param)(2,iG.IEditorWorkerService),(0,Y.__param)(3,ef.IAccessibilitySignalService)],oN);let oP=class{static{this.ID="editor.contrib.formatOnPaste"}constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new Z.DisposableStore,this._callOnModel=new Z.DisposableStore,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(iu.EditorOption.formatOnPaste)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(oM.formatDocumentRangesWithSelectedProvider,this.editor,e,oM.FormattingMode.Silent,oT.Progress.None,ed.CancellationToken.None,!1).catch(e$.onUnexpectedError)}};oP=(0,Y.__decorate)([(0,Y.__param)(1,eD.ILanguageFeaturesService),(0,Y.__param)(2,eC.IInstantiationService)],oP);class oO extends ok.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:(0,J.localize2)(1029,"Format Document"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.notInCompositeEditor,eh.EditorContextKeys.writable,eh.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.Shift|ec.KeyMod.Alt|ec.KeyCode.KeyF,linux:{primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.KeyI},weight:eb.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t){if(t.hasModel()){let i=e.get(eC.IInstantiationService),o=e.get(oR.IEditorProgressService);await o.showWhile(i.invokeFunction(oM.formatDocumentWithSelectedProvider,t,oM.FormattingMode.Explicit,oT.Progress.None,ed.CancellationToken.None,!0),250)}}}class oF extends ok.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:(0,J.localize2)(1030,"Format Selection"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyF),weight:eb.KeybindingWeight.EditorContrib},contextMenuOpts:{when:eh.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;let i=e.get(eC.IInstantiationService),o=t.getModel(),n=t.getSelections().map(e=>e.isEmpty()?new tQ.Range(e.startLineNumber,1,e.startLineNumber,o.getLineMaxColumn(e.startLineNumber)):e),r=e.get(oR.IEditorProgressService);await r.showWhile(i.invokeFunction(oM.formatDocumentRangesWithSelectedProvider,t,n,oM.FormattingMode.Explicit,oT.Progress.None,ed.CancellationToken.None,!0),250)}}(0,ok.registerEditorContribution)(oN.ID,oN,ok.EditorContributionInstantiation.BeforeFirstInteraction),(0,ok.registerEditorContribution)(oP.ID,oP,ok.EditorContributionInstantiation.BeforeFirstInteraction),(0,ok.registerEditorAction)(oO),(0,ok.registerEditorAction)(oF),e3.CommandsRegistry.registerCommand("editor.action.format",async e=>{let t=e.get(eQ.ICodeEditorService).getFocusedCodeEditor();if(!t||!t.hasModel())return;let i=e.get(iT.ICommandService);t.getSelection().isEmpty()?await i.executeCommand("editor.action.formatDocument"):await i.executeCommand("editor.action.formatSelection")}),e.s([],719249);var oK=e.i(543103);e3.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(e,...t){let[i]=t;(0,ih.assertType)(ip.URI.isUri(i));let o=e.get(oK.IOutlineModelService),n=e.get(e2.ITextModelService),r=await n.createModelReference(i);try{return(await o.getOrCreate(r.object.textEditorModel,ed.CancellationToken.None)).getTopLevelSymbols()}finally{r.dispose()}}),e.s([],299201);var oW=e.i(328124),oz=e.i(218516),oV=e.i(755296),oB=e.i(264111);e.i(368994);var oH=e.i(477958),oU=em,oG=eu,oq=e.i(392816),o$=e.i(576075),oj=e.i(326707),oQ=e.i(978829);e.i(39400);var oY=e.i(286894);class oZ extends oG.EditorAction{static{this.ID=o$.showNextInlineSuggestionActionId}constructor(){super({id:oZ.ID,label:(0,J.localize2)(1186,"Show Next Inline Suggestion"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,oj.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:ec.KeyMod.Alt|ec.KeyCode.BracketRight}})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);i?.model.get()?.next()}}class oX extends oG.EditorAction{static{this.ID=o$.showPreviousInlineSuggestionActionId}constructor(){super({id:oX.ID,label:(0,J.localize2)(1187,"Show Previous Inline Suggestion"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,oj.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:ec.KeyMod.Alt|ec.KeyCode.BracketLeft}})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);i?.model.get()?.previous()}}class oJ extends oG.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:(0,J.localize2)(1188,"Trigger Inline Suggestion"),precondition:eh.EditorContextKeys.writable})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);await (0,oV.asyncTransaction)(async e=>{await i?.model.get()?.triggerExplicitly(e),i?.playAccessibilitySignal(e)})}}class o0 extends oG.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.triggerInlineEditExplicit",label:(0,J.localize2)(1189,"Trigger Inline Edit"),precondition:eh.EditorContextKeys.writable})}async run(e,t){let i=e.get(iR.INotificationService),o=oQ.InlineCompletionsController.get(t);await o?.model.get()?.triggerExplicitly(void 0,!0),o?.model.get()?.inlineEditAvailable.get()||i.notify({severity:oY.default.Info,message:(0,J.localize)(1190,"No inline edit is available.")})}}class o1 extends oG.EditorCommand{constructor(){super({id:"editor.action.inlineSuggest.triggerInlineEdit",precondition:eh.EditorContextKeys.writable})}async runEditorCommand(e,t,i){let o=oQ.InlineCompletionsController.get(t);await o?.model.get()?.trigger(void 0,!0)}}class o2 extends oG.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:(0,J.localize2)(1191,"Accept Next Word Of Inline Suggestion"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,oj.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:eb.KeybindingWeight.EditorContrib+1,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.RightArrow,kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,oj.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:oU.MenuId.InlineSuggestionToolbar,title:(0,J.localize)(1192,"Accept Word"),group:"primary",order:2}]})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);await i?.model.get()?.acceptNextWord(i.editor)}}class o3 extends oG.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:(0,J.localize2)(1193,"Accept Next Line Of Inline Suggestion"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,oj.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:eb.KeybindingWeight.EditorContrib+1},menuOpts:[{menuId:oU.MenuId.InlineSuggestionToolbar,title:(0,J.localize)(1194,"Accept Line"),group:"secondary",order:2}]})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);await i?.model.get()?.acceptNextLine(i.editor)}}class o5 extends oG.EditorAction{constructor(){super({id:o$.inlineSuggestCommitId,label:(0,J.localize2)(1195,"Accept Inline Suggestion"),precondition:ey.ContextKeyExpr.or(oj.InlineCompletionContextKeys.inlineSuggestionVisible,oj.InlineCompletionContextKeys.inlineEditVisible),menuOpts:[{menuId:oU.MenuId.InlineSuggestionToolbar,title:(0,J.localize)(1196,"Accept"),group:"primary",order:2},{menuId:oU.MenuId.InlineEditsActions,title:(0,J.localize)(1196,"Accept"),group:"primary",order:2}],kbOpts:[{primary:ec.KeyCode.Tab,weight:200,kbExpr:ey.ContextKeyExpr.or(ey.ContextKeyExpr.and(oj.InlineCompletionContextKeys.inlineSuggestionVisible,eh.EditorContextKeys.tabMovesFocus.toNegated(),oq.Context.Visible.toNegated(),eh.EditorContextKeys.hoverFocused.toNegated(),oj.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize),ey.ContextKeyExpr.and(oj.InlineCompletionContextKeys.inlineEditVisible,eh.EditorContextKeys.tabMovesFocus.toNegated(),oq.Context.Visible.toNegated(),eh.EditorContextKeys.hoverFocused.toNegated(),oj.InlineCompletionContextKeys.tabShouldAcceptInlineEdit))}]})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);i&&(i.model.get()?.accept(i.editor),i.editor.focus())}}class o4 extends oG.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.jump",label:(0,J.localize2)(1197,"Jump to next inline edit"),precondition:oj.InlineCompletionContextKeys.inlineEditVisible,menuOpts:[{menuId:oU.MenuId.InlineEditsActions,title:(0,J.localize)(1198,"Jump"),group:"primary",order:1,when:oj.InlineCompletionContextKeys.cursorAtInlineEdit.toNegated()}],kbOpts:{primary:ec.KeyCode.Tab,weight:201,kbExpr:ey.ContextKeyExpr.and(oj.InlineCompletionContextKeys.inlineEditVisible,eh.EditorContextKeys.tabMovesFocus.toNegated(),oq.Context.Visible.toNegated(),eh.EditorContextKeys.hoverFocused.toNegated(),oj.InlineCompletionContextKeys.tabShouldJumpToInlineEdit)}})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);i&&i.jump()}}class o6 extends oG.EditorAction{static{this.ID="editor.action.inlineSuggest.hide"}constructor(){super({id:o6.ID,label:(0,J.localize2)(1199,"Hide Inline Suggestion"),precondition:ey.ContextKeyExpr.or(oj.InlineCompletionContextKeys.inlineSuggestionVisible,oj.InlineCompletionContextKeys.inlineEditVisible),kbOpts:{weight:100,primary:ec.KeyCode.Escape},menuOpts:[{menuId:oU.MenuId.InlineEditsActions,title:(0,J.localize)(1200,"Reject"),group:"primary",order:3}]})}async run(e,t){let i=oQ.InlineCompletionsController.get(t);(0,oV.transaction)(e=>{i?.model.get()?.stop("explicitCancel",e)})}}class o8 extends oU.Action2{static{this.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}constructor(){super({id:o8.ID,title:(0,J.localize)(1201,"Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:oU.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:ey.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(e){let t=e.get(es.IConfigurationService),i=t.getValue("editor.inlineSuggest.showToolbar");t.updateValue("editor.inlineSuggest.showToolbar","always"===i?"onHover":"always")}}class o9 extends oG.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.dev.extractRepro",label:(0,J.localize)(1202,"Developer: Extract Inline Suggest State"),alias:"Developer: Inline Suggest Extract Repro",precondition:oj.InlineCompletionContextKeys.inlineEditVisible})}async run(e,t){let i=e.get(e9.IClipboardService),o=oQ.InlineCompletionsController.get(t),n=o?.model.get();if(!n)return;let r=n.extractReproSample(),s=(0,t2.splitLines)(JSON.stringify({inlineCompletion:r.inlineCompletion},null,4)).map(e=>"// "+e).join("\n"),a=`${r.documentValue}

// <json>
${s}
// </json>
`;return await i.writeText(a),{reproCase:a}}}var o7=e.i(657170),ne=e.i(297102),nt=e.i(490588),ni=e.i(180997),no=e.i(373742),nn=e.i(261583);class nr{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===iO.HoverAnchorType.Range&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let ns=class{constructor(e,t,i,o,n,r){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=o,this._instantiationService=n,this._telemetryService=r,this.hoverOrdinal=4}suggestHoverAnchor(e){let t=oQ.InlineCompletionsController.get(this._editor);if(!t)return null;let i=e.target;if(i.type===id.MouseTargetType.CONTENT_VIEW_ZONE){let o=i.detail;if(t.shouldShowHoverAtViewZone(o.viewZoneId))return new iO.HoverForeignElementAnchor(1e3,this,tQ.Range.fromPositions(this._editor.getModel().validatePosition(o.positionBefore||o.position)),e.event.posx,e.event.posy,!1)}return i.type===id.MouseTargetType.CONTENT_EMPTY&&t.shouldShowHoverAt(i.range)||i.type===id.MouseTargetType.CONTENT_TEXT&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new iO.HoverForeignElementAnchor(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if("onHover"!==this._editor.getOption(iu.EditorOption.inlineSuggest).showToolbar)return[];let i=oQ.InlineCompletionsController.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new nr(this,e.range,i)]:[]}renderHoverParts(e,t){let i=new Z.DisposableStore,o=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(iu.EditorOption.screenReaderAnnounceInlineSuggestion)&&i.add(this.renderScreenReaderText(e,o));let n=o.controller.model.get(),r=this._instantiationService.createInstance(ne.InlineSuggestionHintsContentWidget,this._editor,!1,(0,oH.constObservable)(null),n.selectedInlineCompletionIndex,n.inlineCompletionsCount,n.activeCommands),s=r.getDomNode();return e.fragment.appendChild(s),n.triggerExplicitly(),i.add(r),new iO.RenderedHoverParts([{hoverPart:o,hoverElement:s,dispose(){i.dispose()}}])}getAccessibleContent(e){return(0,J.localize)(1214,"There are inline completions here")}renderScreenReaderText(e,t){let i=new Z.DisposableStore,o=el.$,n=o("div.hover-row.markdown-hover"),r=(0,el.append)(n,o("div.hover-contents",{"aria-live":"assertive"})),s=i.add(new nt.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService));return i.add((0,oB.autorun)(o=>{let n=t.controller.model.read(o)?.primaryGhostText.read(o);if(n){var a;let t,o,l=this._editor.getModel().getLineContent(n.lineNumber);a=n.renderForScreenReader(l),i.add(s.onDidRenderAsync(()=>{r.className="hover-contents code-hover-contents",e.onContentsChanged()})),t=(0,J.localize)(1215,"Suggestion:"),o=i.add(s.render(new tK.MarkdownString().appendText(t).appendCodeblock("text",a))),r.replaceChildren(o.element)}else(0,el.reset)(r)})),e.fragment.appendChild(n),i}};ns=(0,Y.__decorate)([(0,Y.__param)(1,o7.ILanguageService),(0,Y.__param)(2,no.IOpenerService),(0,Y.__param)(3,ni.IAccessibilityService),(0,Y.__param)(4,eC.IInstantiationService),(0,Y.__param)(5,nn.ITelemetryService)],ns);var na=e.i(14575),nl=Z;class nd extends nl.Disposable{constructor(e,t){super(),this._editor=e,this._model=t,this._onDidChangeContent=this._register(new eE.Emitter),this.onDidChangeContent=this._onDidChangeContent.event,this.id=na.AccessibleViewProviderId.InlineCompletions,this.verbositySettingKey="accessibility.verbosity.inlineCompletions",this.options={language:this._editor.getModel()?.getLanguageId()??void 0,type:na.AccessibleViewType.View}}provideContent(){let e=this._model.inlineCompletionState.get();if(!e)throw Error("Inline completion is visible but state is not available");let t=this._model.textModel.getLineContent(e.primaryGhostText.lineNumber),i=e.primaryGhostText.renderForScreenReader(t);if(!i)throw Error("Inline completion is visible but ghost text is not available");return t+i}provideNextContent(){this._model.next().then(()=>this._onDidChangeContent.fire())}providePreviousContent(){this._model.previous().then(()=>this._onDidChangeContent.fire())}onClose(){this._model.stop(),this._editor.focus()}}var nc=Z,nu=e.i(418964);let nh=class extends nc.Disposable{static{b=this}static{this.ID="editor.contrib.inlineEditsAdapter"}static{this.isFirst=!0}constructor(e,t){super(),this.instantiationService=t,b.isFirst&&(b.isFirst=!1,this.instantiationService.createInstance(np))}};nh=b=(0,Y.__decorate)([(0,Y.__param)(1,eC.IInstantiationService)],nh);let np=class extends nc.Disposable{constructor(e,t){super(),this._languageFeaturesService=e,this._commandService=t;const i=(0,oH.observableSignalFromEvent)("didChangeSignal",this._languageFeaturesService.inlineEditProvider.onDidChange);this._register((0,oB.autorunWithStore)((t,o)=>{i.read(t),o.add(this._languageFeaturesService.inlineCompletionsProvider.register("*",{async provideInlineCompletions(t,i,o,n){if(!o.includeInlineEdits)return;let r=e.inlineEditProvider.all(t),s=(await Promise.all(r.map(async e=>{let i=await e.provideInlineEdit(t,{triggerKind:nu.InlineEditTriggerKind.Automatic},n);if(i)return{result:i,provider:e}}))).filter(e=>!!e);return{edits:s,items:s.map(e=>({range:e.result.range,insertText:e.result.text,command:e.result.accepted,shownCommand:e.result.shown,isInlineEdit:!0,edit:e.result})),commands:s.flatMap(e=>e.result.commands??[])}},handleRejection:(e,t)=>{t.edit.rejected&&this._commandService.executeCommand(t.edit.rejected.id,...t.edit.rejected.arguments??[])},freeInlineCompletions(e){for(let t of e.edits)t.provider.freeInlineEdit(t.result)},toString:()=>"InlineEditsAdapter"}))}))}};np=(0,Y.__decorate)([(0,Y.__param)(0,eD.ILanguageFeaturesService),(0,Y.__param)(1,iT.ICommandService)],np),(0,eu.registerEditorContribution)(nh.ID,nh,eu.EditorContributionInstantiation.Eventually),(0,eu.registerEditorContribution)(oQ.InlineCompletionsController.ID,(0,oz.wrapInHotClass1)(oQ.InlineCompletionsController.hot),eu.EditorContributionInstantiation.Eventually),(0,eu.registerEditorAction)(oJ),(0,eu.registerEditorAction)(o0),(0,eu.registerEditorCommand)(new o1),(0,eu.registerEditorAction)(oZ),(0,eu.registerEditorAction)(oX),(0,eu.registerEditorAction)(o2),(0,eu.registerEditorAction)(o3),(0,eu.registerEditorAction)(o5),(0,eu.registerEditorAction)(o6),(0,eu.registerEditorAction)(o4),(0,em.registerAction2)(o8),(0,eu.registerEditorAction)(o9),iO.HoverParticipantRegistry.register(ns),oW.AccessibleViewRegistry.register(new class{constructor(){this.type=na.AccessibleViewType.View,this.priority=95,this.name="inline-completions",this.when=ey.ContextKeyExpr.and(oj.InlineCompletionContextKeys.inlineSuggestionVisible)}getProvider(e){let t=e.get(eQ.ICodeEditorService),i=t.getActiveCodeEditor()||t.getFocusedCodeEditor();if(!i)return;let o=oQ.InlineCompletionsController.get(i)?.model.get();if(o?.inlineCompletionState.get())return new nd(i,o)}}),e.s([],808456);var ng=eu,nm=e.i(450332),n_=e.i(708845),nf=e.i(131060);class ny{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let nv=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new eE.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new Z.DisposableStore,this._markers=[],this._nextIdx=-1,ip.URI.isUri(e)?this._resourceFilter=t=>t.toString()===e.toString():e&&(this._resourceFilter=e);const o=this._configService.getValue("problems.sortOrder"),n=(e,t)=>{let i=(0,t2.compare)(e.resource.toString(),t.resource.toString());return 0===i&&(i="position"===o?tQ.Range.compareRangesUsingStarts(e,t)||n_.MarkerSeverity.compare(e.severity,t.severity):n_.MarkerSeverity.compare(e.severity,t.severity)||tQ.Range.compareRangesUsingStarts(e,t)),i},r=()=>{this._markers=this._markerService.read({resource:ip.URI.isUri(e)?e:void 0,severities:n_.MarkerSeverity.Error|n_.MarkerSeverity.Warning|n_.MarkerSeverity.Info}),"function"==typeof e&&(this._markers=this._markers.filter(e=>this._resourceFilter(e.resource))),this._markers.sort(n)};r(),this._dispoables.add(t.onMarkerChanged(e=>{(!this._resourceFilter||e.some(e=>this._resourceFilter(e)))&&(r(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!!this._resourceFilter&&!!e&&this._resourceFilter(e)}get selected(){let e=this._markers[this._nextIdx];return e&&new ny(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let o=!1,n=this._markers.findIndex(t=>t.resource.toString()===e.uri.toString());n<0&&(n=(0,oD.binarySearch)(this._markers,{resource:e.uri},(e,t)=>(0,t2.compare)(e.resource.toString(),t.resource.toString())))<0&&(n=~n);for(let i=n;i<this._markers.length;i++){let n=tQ.Range.lift(this._markers[i]);if(n.isEmpty()){let t=e.getWordAtPosition(n.getStartPosition());t&&(n=new tQ.Range(n.startLineNumber,t.startColumn,n.startLineNumber,t.endColumn))}if(t&&(n.containsPosition(t)||t.isBeforeOrEqual(n.getStartPosition()))){this._nextIdx=i,o=!0;break}if(this._markers[i].resource.toString()!==e.uri.toString())break}o||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;let o=this._nextIdx;return -1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(e,t){let i=this._markers.findIndex(t=>t.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(tQ.Range.containsPosition(this._markers[i],t))return new ny(this._markers[i],i+1,this._markers.length)}}};nv=(0,Y.__decorate)([(0,Y.__param)(1,nf.IMarkerService),(0,Y.__param)(2,es.IConfigurationService)],nv);let nC=(0,eC.createDecorator)("IMarkerNavigationService"),nb=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new nm.LinkedList}registerProvider(e){let t=this._provider.unshift(e);return(0,Z.toDisposable)(()=>t())}getMarkerList(e){for(let t of this._provider){let i=t.getMarkerList(e);if(i)return i}return new nv(e,this._markerService,this._configService)}};nb=(0,Y.__decorate)([(0,Y.__param)(0,nf.IMarkerService),(0,Y.__param)(1,es.IConfigurationService)],nb),(0,iv.registerSingleton)(nC,nb,iv.InstantiationType.Delayed);var nS=e.i(815486),nw=e.i(358764),nE=e.i(338160),nI=e.i(678417),nx=e.i(51959);(0,ti.default)('.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;margin-right:4px;vertical-align:text-top}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{font-style:italic;opacity:.6}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{padding:8px 12px 0 20px;position:absolute;user-select:text;-webkit-user-select:text;white-space:pre}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{color:inherit;opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{border-bottom:1px solid transparent;color:var(--vscode-textLink-activeForeground);text-decoration:underline;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{color:var(--vscode-textLink-activeForeground);cursor:pointer}',{});var nD=e.i(489230),nk=e.i(323659),nA=e.i(137479),nM=e.i(649849),nL=e.i(591921),nT=e.i(945588),nR=e.i(786480);e.i(184765);var nN=e.i(537397),nP=e.i(765809),nO=e.i(491481);e.i(827678),e.i(789672);var nF=e.i(847307),nK=e.i(491120);e.i(165071);class nW{constructor(e,t,i,o,n){this._openerService=o,this._labelService=n,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Z.DisposableStore,this._editor=t;const r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add((0,el.addStandardDisposableListener)(this._relatedBlock,"click",e=>{e.preventDefault();let t=this._relatedDiagnostics.get(e.target);t&&i(t)})),this._scrollable=new nE.ScrollableElement(r,{horizontal:nx.ScrollbarVisibility.Auto,vertical:nx.ScrollbarVisibility.Auto,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(e=>{r.style.left=`-${e.scrollLeft}px`,r.style.top=`-${e.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,Z.dispose)(this._disposables)}update(e){let{source:t,message:i,relatedInformation:o,code:n}=e,r=(t?.length||0)+2;n&&("string"==typeof n?r+=n.length:r+=n.value.length);let s=(0,t2.splitLines)(i);for(let e of(this._lines=s.length,this._longestLineLength=0,s))this._longestLineLength=Math.max(e.length+r,this._longestLineLength);(0,el.clearNode)(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(let e of s)(a=document.createElement("div")).innerText=e,""===e&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||n){let e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){let i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(n)if("string"==typeof n){let t=document.createElement("span");t.innerText=`(${n})`,t.classList.add("code"),e.appendChild(t)}else this._codeLink=(0,el.$)("a.code-link"),this._codeLink.setAttribute("href",`${n.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(n.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()},(0,el.append)(this._codeLink,(0,el.$)("span")).innerText=n.value,e.appendChild(this._codeLink)}if((0,el.clearNode)(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,oD.isNonEmptyArray)(o)){let e=this._relatedBlock.appendChild(document.createElement("div"));for(let t of(e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(iu.EditorOption.lineHeight))}px`,this._lines+=1,o)){let i=document.createElement("div"),o=document.createElement("a");o.classList.add("filename"),o.innerText=`${this._labelService.getUriBasenameLabel(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,o.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(o,t);let n=document.createElement("span");n.innerText=t.message,i.appendChild(o),i.appendChild(n),this._lines+=1,e.appendChild(i)}}let l=this._editor.getOption(iu.EditorOption.fontInfo),d=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),c=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:c})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case n_.MarkerSeverity.Error:t=(0,J.localize)(1039,"Error");break;case n_.MarkerSeverity.Warning:t=(0,J.localize)(1040,"Warning");break;case n_.MarkerSeverity.Info:t=(0,J.localize)(1041,"Info");break;case n_.MarkerSeverity.Hint:t=(0,J.localize)(1042,"Hint")}let i=(0,J.localize)(1043,"{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),o=this._editor.getModel();if(o&&e.startLineNumber<=o.getLineCount()&&e.startLineNumber>=1){let t=o.getLineContent(e.startLineNumber);i=`${t}, ${i}`}return i}}let nz=class extends nD.PeekViewWidget{static{S=this}static{this.TitleMenu=new em.MenuId("gotoErrorTitleMenu")}constructor(e,t,i,o,n,r,s){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},n),this._themeService=t,this._openerService=i,this._menuService=o,this._contextKeyService=r,this._labelService=s,this._callOnDispose=new Z.DisposableStore,this._onDidSelectRelatedInformation=new eE.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=n_.MarkerSeverity.Warning,this._backgroundColor=tn.Color.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(nY);let t=nU,i=nG;this._severity===n_.MarkerSeverity.Warning?(t=nq,i=n$):this._severity===n_.MarkerSeverity.Info&&(t=nj,i=nQ);let o=e.getColor(t),n=e.getColor(i);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:n,primaryHeadingColor:e.getColor(nD.peekViewTitleForeground),secondaryHeadingColor:e.getColor(nD.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}focus(){this._parentContainer.focus()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(e=>this.editor.focus()));let t=this._menuService.getMenuActions(S.TitleMenu,this._contextKeyService),i=(0,nk.getFlatActionBarActions)(t);this._actionbarWidget.push(i,{label:!1,icon:!0,index:0})}_fillTitleIcon(e){this._icon=(0,el.append)(e,(0,el.$)(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new nW(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let o=tQ.Range.lift(e),n=this.editor.getPosition(),r=n&&o.containsPosition(n)?n:o.getStartPosition();super.show(r,this.computeRequiredHeight());let s=this.editor.getModel();if(s){let e=i>1?(0,J.localize)(1044,"{0} of {1} problems",t,i):(0,J.localize)(1045,"{0} of {1} problem",t,i);this.setTitle((0,nI.basename)(s.uri),e)}this._icon.className=`codicon ${nL.SeverityIcon.className(n_.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,op.ScrollType.Smooth),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};nz=S=(0,Y.__decorate)([(0,Y.__param)(1,iq.IThemeService),(0,Y.__param)(2,no.IOpenerService),(0,Y.__param)(3,nA.IMenuService),(0,Y.__param)(4,eC.IInstantiationService),(0,Y.__param)(5,ev.IContextKeyService),(0,Y.__param)(6,nM.ILabelService)],nz);let nV=(0,nT.oneOf)(nN.editorErrorForeground,nN.editorErrorBorder),nB=(0,nT.oneOf)(nN.editorWarningForeground,nN.editorWarningBorder),nH=(0,nT.oneOf)(nN.editorInfoForeground,nN.editorInfoBorder),nU=(0,nT.registerColor)("editorMarkerNavigationError.background",{dark:nV,light:nV,hcDark:nR.contrastBorder,hcLight:nR.contrastBorder},(0,J.localize)(1046,"Editor marker navigation widget error color.")),nG=(0,nT.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,nT.transparent)(nU,.1),light:(0,nT.transparent)(nU,.1),hcDark:null,hcLight:null},(0,J.localize)(1047,"Editor marker navigation widget error heading background.")),nq=(0,nT.registerColor)("editorMarkerNavigationWarning.background",{dark:nB,light:nB,hcDark:nR.contrastBorder,hcLight:nR.contrastBorder},(0,J.localize)(1048,"Editor marker navigation widget warning color.")),n$=(0,nT.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,nT.transparent)(nq,.1),light:(0,nT.transparent)(nq,.1),hcDark:"#0C141F",hcLight:(0,nT.transparent)(nq,.2)},(0,J.localize)(1049,"Editor marker navigation widget warning heading background.")),nj=(0,nT.registerColor)("editorMarkerNavigationInfo.background",{dark:nH,light:nH,hcDark:nR.contrastBorder,hcLight:nR.contrastBorder},(0,J.localize)(1050,"Editor marker navigation widget info color.")),nQ=(0,nT.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,nT.transparent)(nj,.1),light:(0,nT.transparent)(nj,.1),hcDark:null,hcLight:null},(0,J.localize)(1051,"Editor marker navigation widget info heading background.")),nY=(0,nT.registerColor)("editorMarkerNavigation.background",nN.editorBackground,(0,J.localize)(1052,"Editor marker navigation widget background.")),nZ=class{static{w=this}static{this.ID="editor.contrib.markerController"}static get(e){return e.getContribution(w.ID)}constructor(e,t,i,o,n){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=o,this._instantiationService=n,this._sessionDispoables=new Z.DisposableStore,this._editor=e,this._widgetVisible=n1.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(nz,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e=>{this._model?.selected&&tQ.Range.containsPosition(this._model?.selected.marker,e.position)||this._model?.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:tQ.Range.lift(e).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new i7.Position(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}async nagivate(e,t){if(this._editor.hasModel()){let i=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(i.move(e,this._editor.getModel(),this._editor.getPosition()),i.selected)if(i.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let o=await this._editorService.openCodeEditor({resource:i.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:nS.TextEditorSelectionRevealType.NearTop,selection:i.selected.marker}},this._editor);o&&(w.get(o)?.close(),w.get(o)?.nagivate(e,t))}else this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}};nZ=w=(0,Y.__decorate)([(0,Y.__param)(1,nC),(0,Y.__param)(2,ev.IContextKeyService),(0,Y.__param)(3,eQ.ICodeEditorService),(0,Y.__param)(4,eC.IInstantiationService)],nZ);class nX extends ng.EditorAction{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}async run(e,t){t.hasModel()&&nZ.get(t)?.nagivate(this._next,this._multiFile)}}class nJ extends nX{static{this.ID="editor.action.marker.next"}static{this.LABEL=(0,J.localize2)(1031,"Go to Next Problem (Error, Warning, Info)")}constructor(){super(!0,!1,{id:nJ.ID,label:nJ.LABEL,precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyMod.Alt|ec.KeyCode.F8,weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:nz.TitleMenu,title:nJ.LABEL.value,icon:(0,nw.registerIcon)("marker-navigation-next",tP.Codicon.arrowDown,(0,J.localize)(1032,"Icon for goto next marker.")),group:"navigation",order:1}})}}class n0 extends nX{static{this.ID="editor.action.marker.prev"}static{this.LABEL=(0,J.localize2)(1033,"Go to Previous Problem (Error, Warning, Info)")}constructor(){super(!1,!1,{id:n0.ID,label:n0.LABEL,precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyMod.Shift|ec.KeyMod.Alt|ec.KeyCode.F8,weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:nz.TitleMenu,title:n0.LABEL.value,icon:(0,nw.registerIcon)("marker-navigation-previous",tP.Codicon.arrowUp,(0,J.localize)(1034,"Icon for goto previous marker.")),group:"navigation",order:2}})}}(0,ng.registerEditorContribution)(nZ.ID,nZ,ng.EditorContributionInstantiation.Lazy),(0,ng.registerEditorAction)(nJ),(0,ng.registerEditorAction)(n0),(0,ng.registerEditorAction)(class extends nX{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:(0,J.localize2)(1035,"Go to Next Problem in Files (Error, Warning, Info)"),precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyCode.F8,weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarGoMenu,title:(0,J.localize)(1036,"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,ng.registerEditorAction)(class extends nX{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:(0,J.localize2)(1037,"Go to Previous Problem in Files (Error, Warning, Info)"),precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyMod.Shift|ec.KeyCode.F8,weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarGoMenu,title:(0,J.localize)(1038,"Previous &&Problem"),group:"6_problem_nav",order:2}})}});let n1=new ey.RawContextKey("markersNavigationVisible",!1),n2=ng.EditorCommand.bindToContribution(nZ.get);(0,ng.registerEditorCommand)(new n2({id:"closeMarkersNavigation",precondition:n1,handler:e=>e.close(),kbOpts:{weight:eb.KeybindingWeight.EditorContrib+50,kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyCode.Escape,secondary:[ec.KeyMod.Shift|ec.KeyCode.Escape]}})),e.s(["MarkerController",()=>nZ,"NextMarkerAction",()=>nJ],517323);var n3=e.i(182408),n5=e.i(911694),n4=e.i(623885),n6=eu,n8=e.i(711015),n9=e.i(824536),n7=e.i(702169);class re extends n6.EditorAction{constructor(){super({id:"editor.action.debugEditorGpuRenderer",label:(0,J.localize2)(1109,"Developer: Debug Editor GPU Renderer"),precondition:ey.ContextKeyExpr.true()})}async run(e,t){let i=e.get(eC.IInstantiationService),o=e.get(eW.IQuickInputService),n=await o.pick([{label:(0,J.localize)(1110,"Log Texture Atlas Stats"),id:"logTextureAtlasStats"},{label:(0,J.localize)(1111,"Save Texture Atlas"),id:"saveTextureAtlas"},{label:(0,J.localize)(1112,"Draw Glyph"),id:"drawGlyph"}],{canPickMany:!1});if(n)switch(n.id){case"logTextureAtlasStats":i.invokeFunction(e=>{let t=e.get(th.ILogService),i=n7.ViewGpuContext.atlas;if(!n7.ViewGpuContext.atlas)return void t.error("No texture atlas found");let o=i.getStats();t.info(["Texture atlas stats",...o].join("\n\n"))});break;case"saveTextureAtlas":i.invokeFunction(async e=>{let t=e.get(n4.IWorkspaceContextService),i=e.get(n5.IFileService),o=t.getWorkspace().folders;if(o.length>0){let e=n7.ViewGpuContext.atlas,t=[];for(let[n,r]of e.pages.entries())t.push(i.writeFile(ip.URI.joinPath(o[0].uri,`textureAtlasPage${n}_actual.png`),n3.VSBuffer.wrap(new Uint8Array(await (await r.source.convertToBlob()).arrayBuffer()))),i.writeFile(ip.URI.joinPath(o[0].uri,`textureAtlasPage${n}_usage.png`),n3.VSBuffer.wrap(new Uint8Array(await (await r.getUsagePreview()).arrayBuffer()))));await Promise.all(t)}});break;case"drawGlyph":i.invokeFunction(async e=>{let t=e.get(es.IConfigurationService),i=e.get(n5.IFileService),o=e.get(eW.IQuickInputService),n=e.get(n4.IWorkspaceContextService).getWorkspace().folders;if(0===n.length)return;let r=n7.ViewGpuContext.atlas,s=t.getValue("editor.fontFamily"),a=t.getValue("editor.fontSize"),l=new n9.GlyphRasterizer(a,s,(0,el.getActiveWindow)().devicePixelRatio),d=await o.input({prompt:"Enter a character to draw (prefix with 0x for code point))"});if(!d)return;let c=d.match(/0x(?<codePoint>[0-9a-f]+)/i)?.groups?.codePoint;void 0!==c&&(d=String.fromCodePoint(parseInt(c,16)));let u=r.getGlyph(l,d,0,0);if(!u)return;let h=r.pages[u.pageIndex].source.getContext("2d")?.getImageData(u.x,u.y,u.w,u.h);if(!h)return;let p=new OffscreenCanvas(h.width,h.height);(0,n8.ensureNonNullable)(p.getContext("2d")).putImageData(h,0,0);let g=await p.convertToBlob({type:"image/png"}),m=ip.URI.joinPath(n[0].uri,`glyph_${d}_0_${a}px_${s.replaceAll(/[,\\\/\.'\s]/g,"_")}.png`);await i.writeFile(m,n3.VSBuffer.wrap(new Uint8Array(await g.arrayBuffer())))})}}}(0,n6.registerEditorAction)(re),e.s([],890154);var rt=e.i(850076),ri=eu,ro=e.i(199511),rn=e.i(520895),rr=e.i(43642),rs=e.i(660254);e.i(130671),(s=E||(E={})).NoAutoFocus="noAutoFocus",s.FocusIfVisible="focusIfVisible",s.AutoFocusImmediately="autoFocusImmediately";class ra extends ri.EditorAction{constructor(){super({id:rt.SHOW_OR_FOCUS_HOVER_ACTION_ID,label:(0,J.localize2)(1120,"Show or Focus Hover"),metadata:{description:(0,J.localize2)(1121,"Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[E.NoAutoFocus,E.FocusIfVisible,E.AutoFocusImmediately],enumDescriptions:[(0,J.localize)(1122,"The hover will not automatically take focus."),(0,J.localize)(1123,"The hover will take focus only if it is already visible."),(0,J.localize)(1124,"The hover will automatically take focus when it appears.")],default:E.FocusIfVisible}}}}]},precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyI),weight:eb.KeybindingWeight.EditorContrib}})}run(e,t,i){if(!t.hasModel())return;let o=rs.ContentHoverController.get(t);if(!o)return;let n=i?.focus,r=E.FocusIfVisible;Object.values(E).includes(n)?r=n:"boolean"==typeof n&&n&&(r=E.AutoFocusImmediately);let s=e=>{let i=t.getPosition(),n=new tQ.Range(i.lineNumber,i.column,i.lineNumber,i.column);o.showContentHover(n,rn.HoverStartMode.Immediate,rn.HoverStartSource.Keyboard,e)},a=t.getOption(iu.EditorOption.accessibilitySupport)===rr.AccessibilitySupport.Enabled;o.isHoverVisible?r!==E.NoAutoFocus?o.focus():s(a):s(a||r===E.AutoFocusImmediately)}}class rl extends ri.EditorAction{constructor(){super({id:rt.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID,label:(0,J.localize2)(1125,"Show Definition Preview Hover"),precondition:void 0,metadata:{description:(0,J.localize2)(1126,"Show the definition preview hover in the editor.")}})}run(e,t){let i=rs.ContentHoverController.get(t);if(!i)return;let o=t.getPosition();if(!o)return;let n=new tQ.Range(o.lineNumber,o.column,o.lineNumber,o.column),r=ro.GotoDefinitionAtPositionEditorContribution.get(t);r&&r.startFindDefinitionFromCursor(o).then(()=>{i.showContentHover(n,rn.HoverStartMode.Immediate,rn.HoverStartSource.Keyboard,!0)})}}class rd extends ri.EditorAction{constructor(){super({id:rt.SCROLL_UP_HOVER_ACTION_ID,label:(0,J.localize2)(1127,"Scroll Up Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.UpArrow,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1128,"Scroll up the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.scrollUp()}}class rc extends ri.EditorAction{constructor(){super({id:rt.SCROLL_DOWN_HOVER_ACTION_ID,label:(0,J.localize2)(1129,"Scroll Down Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.DownArrow,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1130,"Scroll down the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.scrollDown()}}class ru extends ri.EditorAction{constructor(){super({id:rt.SCROLL_LEFT_HOVER_ACTION_ID,label:(0,J.localize2)(1131,"Scroll Left Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.LeftArrow,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1132,"Scroll left the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.scrollLeft()}}class rh extends ri.EditorAction{constructor(){super({id:rt.SCROLL_RIGHT_HOVER_ACTION_ID,label:(0,J.localize2)(1133,"Scroll Right Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.RightArrow,weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1134,"Scroll right the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.scrollRight()}}class rp extends ri.EditorAction{constructor(){super({id:rt.PAGE_UP_HOVER_ACTION_ID,label:(0,J.localize2)(1135,"Page Up Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.PageUp,secondary:[ec.KeyMod.Alt|ec.KeyCode.UpArrow],weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1136,"Page up the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.pageUp()}}class rg extends ri.EditorAction{constructor(){super({id:rt.PAGE_DOWN_HOVER_ACTION_ID,label:(0,J.localize2)(1137,"Page Down Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.PageDown,secondary:[ec.KeyMod.Alt|ec.KeyCode.DownArrow],weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1138,"Page down the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.pageDown()}}class rm extends ri.EditorAction{constructor(){super({id:rt.GO_TO_TOP_HOVER_ACTION_ID,label:(0,J.localize2)(1139,"Go To Top Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.Home,secondary:[ec.KeyMod.CtrlCmd|ec.KeyCode.UpArrow],weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1140,"Go to the top of the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.goToTop()}}class r_ extends ri.EditorAction{constructor(){super({id:rt.GO_TO_BOTTOM_HOVER_ACTION_ID,label:(0,J.localize2)(1141,"Go To Bottom Hover"),precondition:eh.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:eh.EditorContextKeys.hoverFocused,primary:ec.KeyCode.End,secondary:[ec.KeyMod.CtrlCmd|ec.KeyCode.DownArrow],weight:eb.KeybindingWeight.EditorContrib},metadata:{description:(0,J.localize2)(1142,"Go to the bottom of the editor hover.")}})}run(e,t){let i=rs.ContentHoverController.get(t);i&&i.goToBottom()}}class rf extends ri.EditorAction{constructor(){super({id:rt.INCREASE_HOVER_VERBOSITY_ACTION_ID,label:rt.INCREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Increase Hover Verbosity Level",precondition:eh.EditorContextKeys.hoverVisible})}run(e,t,i){let o=rs.ContentHoverController.get(t);if(!o)return;let n=i?.index!==void 0?i.index:o.focusedHoverPartIndex();o.updateHoverVerbosityLevel(nu.HoverVerbosityAction.Increase,n,i?.focus)}}class ry extends ri.EditorAction{constructor(){super({id:rt.DECREASE_HOVER_VERBOSITY_ACTION_ID,label:rt.DECREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Decrease Hover Verbosity Level",precondition:eh.EditorContextKeys.hoverVisible})}run(e,t,i){let o=rs.ContentHoverController.get(t);if(!o)return;let n=i?.index!==void 0?i.index:o.focusedHoverPartIndex();rs.ContentHoverController.get(t)?.updateHoverVerbosityLevel(nu.HoverVerbosityAction.Decrease,n,i?.focus)}}var rv=e.i(307955),rC=e.i(931292),rb=e.i(86283);let rS=el.$;class rw{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===iO.HoverAnchorType.Range&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let rE={type:nu.CodeActionTriggerType.Invoke,filter:{include:eA.CodeActionKind.QuickFix},triggerAction:eA.CodeActionTriggerSource.QuickFixHover},rI=class{constructor(e,t,i,o){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==iO.HoverAnchorType.Range&&!e.supportsMarkerHover)return[];let i=this._editor.getModel(),o=e.range.startLineNumber,n=i.getLineMaxColumn(o),r=[];for(let s of t){let t=s.range.startLineNumber===o?s.range.startColumn:1,a=s.range.endLineNumber===o?s.range.endColumn:n,l=this._markerDecorationsService.getMarker(i.uri,s);if(!l)continue;let d=new tQ.Range(e.range.startLineNumber,t,e.range.startLineNumber,a);r.push(new rw(this,d,l))}return r}renderHoverParts(e,t){if(!t.length)return new iO.RenderedHoverParts([]);let i=new Z.DisposableStore,o=[];t.forEach(t=>{let i=this._renderMarkerHover(t);e.fragment.appendChild(i.hoverElement),o.push(i)});let n=1===t.length?t[0]:t.sort((e,t)=>n_.MarkerSeverity.compare(e.marker.severity,t.marker.severity))[0];return this.renderMarkerStatusbar(e,n,i),new iO.RenderedHoverParts(o)}getAccessibleContent(e){return e.marker.message}_renderMarkerHover(e){let t=new Z.DisposableStore,i=rS("div.hover-row"),o=(0,el.append)(i,rS("div.marker.hover-contents")),{source:n,message:r,code:s,relatedInformation:a}=e.marker;this._editor.applyFontInfo(o);let l=(0,el.append)(o,rS("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=r,n||s)if(s&&"string"!=typeof s){let e=rS("span");n&&((0,el.append)(e,rS("span")).innerText=n);let i=(0,el.append)(e,rS("a.code-link"));i.setAttribute("href",s.target.toString(!0)),t.add((0,el.addDisposableListener)(i,"click",e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()})),(0,el.append)(i,rS("span")).innerText=s.value;let r=(0,el.append)(o,e);r.style.opacity="0.6",r.style.paddingLeft="6px"}else{let e=(0,el.append)(o,rS("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=n&&s?`${n}(${s})`:n||`(${s})`}if((0,oD.isNonEmptyArray)(a))for(let{message:e,resource:i,startLineNumber:n,startColumn:r}of a){let s=(0,el.append)(o,rS("div"));s.style.marginTop="8px";let a=(0,el.append)(s,rS("a"));a.innerText=`${(0,nI.basename)(i)}(${n}, ${r}): `,a.style.cursor="pointer",t.add((0,el.addDisposableListener)(a,"click",e=>{if(e.stopPropagation(),e.preventDefault(),this._openerService){let e={selection:{startLineNumber:n,startColumn:r}};this._openerService.open(i,{fromUserGesture:!0,editorOptions:e}).catch(e$.onUnexpectedError)}}));let l=(0,el.append)(s,rS("span"));l.innerText=e,this._editor.applyFontInfo(l)}return{hoverPart:e,hoverElement:i,dispose:()=>t.dispose()}}renderMarkerStatusbar(e,t,i){if(t.marker.severity===n_.MarkerSeverity.Error||t.marker.severity===n_.MarkerSeverity.Warning||t.marker.severity===n_.MarkerSeverity.Info){let i=nZ.get(this._editor);i&&e.statusBar.addAction({label:(0,J.localize)(1152,"View Problem"),commandId:nJ.ID,run:()=>{e.hide(),i.showAtMarker(t.marker),this._editor.focus()}})}if(!this._editor.getOption(iu.EditorOption.readOnly)){let o=e.statusBar.append(rS("div"));this.recentMarkerCodeActionsInfo&&(n_.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===n_.IMarkerData.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=(0,J.localize)(1153,"No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let n=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Z.Disposable.None:(0,ta.disposableTimeout)(()=>o.textContent=(0,J.localize)(1154,"Checking for quick fixes..."),200,i);o.textContent||(o.textContent=String.fromCharCode(160));let r=this.getCodeActions(t.marker);i.add((0,Z.toDisposable)(()=>r.cancel())),r.then(r=>{if(n.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:r.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){r.dispose(),o.textContent=(0,J.localize)(1153,"No quick fixes available");return}o.style.display="none";let s=!1;i.add((0,Z.toDisposable)(()=>{s||r.dispose()})),e.statusBar.addAction({label:(0,J.localize)(1155,"Quick Fix..."),commandId:ek.quickFixCommandId,run:t=>{s=!0;let i=t5.CodeActionController.get(this._editor),o=(0,el.getDomNodePagePosition)(t);e.hide(),i?.showCodeActions(rE,r,{x:o.left,y:o.top,width:o.width,height:o.height})}});let a=r.validActions.find(e=>e.action.isAI);a&&e.statusBar.addAction({label:a.action.title,commandId:a.action.command?.id??"",run:()=>{let e=t5.CodeActionController.get(this._editor);e?.applyCodeAction(a,!1,!1,ek.ApplyCodeActionReason.FromProblemsHover)}})},e$.onUnexpectedError)}}getCodeActions(e){return(0,ta.createCancelablePromise)(t=>(0,ek.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new tQ.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),rE,oT.Progress.None,t))}};rI=(0,Y.__decorate)([(0,Y.__param)(1,rb.IMarkerDecorationsService),(0,Y.__param)(2,no.IOpenerService),(0,Y.__param)(3,eD.ILanguageFeaturesService)],rI);var rx=e.i(489075),rD=e.i(610620),rk=Z;(a=I||(I={})).increaseVerbosity=(0,J.localize)(1116,"- The focused hover part verbosity level can be increased with the Increase Hover Verbosity command.",`<keybinding:${rt.INCREASE_HOVER_VERBOSITY_ACTION_ID}>`),a.decreaseVerbosity=(0,J.localize)(1117,"- The focused hover part verbosity level can be decreased with the Decrease Hover Verbosity command.",`<keybinding:${rt.DECREASE_HOVER_VERBOSITY_ACTION_ID}>`);class rA extends rk.Disposable{constructor(e){super(),this._hoverController=e,this.id=na.AccessibleViewProviderId.Hover,this.verbositySettingKey="accessibility.verbosity.hover",this._onDidChangeContent=this._register(new eE.Emitter),this.onDidChangeContent=this._onDidChangeContent.event,this._focusedHoverPartIndex=-1}onOpen(){this._hoverController&&(this._hoverController.shouldKeepOpenOnEditorMouseMoveOrLeave=!0,this._focusedHoverPartIndex=this._hoverController.focusedHoverPartIndex(),this._register(this._hoverController.onHoverContentsChanged(()=>{this._onDidChangeContent.fire()})))}onClose(){this._hoverController&&(-1===this._focusedHoverPartIndex?this._hoverController.focus():this._hoverController.focusHoverPartWithIndex(this._focusedHoverPartIndex),this._focusedHoverPartIndex=-1,this._hoverController.shouldKeepOpenOnEditorMouseMoveOrLeave=!1)}provideContentAtIndex(e,t){if(-1!==e){let i=this._hoverController.getAccessibleWidgetContentAtIndex(e);if(void 0===i)return"";let o=[];return t&&o.push(...this._descriptionsOfVerbosityActionsForIndex(e)),o.push(i),o.join("\n")}{let e=this._hoverController.getAccessibleWidgetContent();if(void 0===e)return"";let t=[];return t.push(e),t.join("\n")}}_descriptionsOfVerbosityActionsForIndex(e){let t=[],i=this._descriptionOfVerbosityActionForIndex(nu.HoverVerbosityAction.Increase,e);void 0!==i&&t.push(i);let o=this._descriptionOfVerbosityActionForIndex(nu.HoverVerbosityAction.Decrease,e);return void 0!==o&&t.push(o),t}_descriptionOfVerbosityActionForIndex(e,t){if(this._hoverController.doesHoverAtIndexSupportVerbosityAction(t,e))switch(e){case nu.HoverVerbosityAction.Increase:return I.increaseVerbosity;case nu.HoverVerbosityAction.Decrease:return I.decreaseVerbosity}}}class rM extends rA{constructor(e){super(e),this.options={type:na.AccessibleViewType.Help}}provideContent(){return this.provideContentAtIndex(this._focusedHoverPartIndex,!0)}}class rL extends rA{constructor(e,t,i){super(i),this._keybindingService=e,this._editor=t,this.options={type:na.AccessibleViewType.View},this._initializeOptions(this._editor,i)}provideContent(){return this.provideContentAtIndex(this._focusedHoverPartIndex,!1)}get actions(){let e=[];return e.push(this._getActionFor(this._editor,nu.HoverVerbosityAction.Increase)),e.push(this._getActionFor(this._editor,nu.HoverVerbosityAction.Decrease)),e}_getActionFor(e,t){let i,o,n;switch(t){case nu.HoverVerbosityAction.Increase:i=rt.INCREASE_HOVER_VERBOSITY_ACTION_ID,o=rt.INCREASE_HOVER_VERBOSITY_ACCESSIBLE_ACTION_ID,n=tP.Codicon.add;break;case nu.HoverVerbosityAction.Decrease:i=rt.DECREASE_HOVER_VERBOSITY_ACTION_ID,o=rt.DECREASE_HOVER_VERBOSITY_ACCESSIBLE_ACTION_ID,n=tP.Codicon.remove}let r=(0,rC.labelForHoverVerbosityAction)(this._keybindingService,t),s=this._hoverController.doesHoverAtIndexSupportVerbosityAction(this._focusedHoverPartIndex,t);return new e5.Action(o,r,rD.ThemeIcon.asClassName(n),s,()=>{e.getAction(i)?.run({index:this._focusedHoverPartIndex,focus:!1})})}_initializeOptions(e,t){let i=this._register(new rM(t));this.options.language=e.getModel()?.getLanguageId(),this.options.customHelp=()=>i.provideContentAtIndex(this._focusedHoverPartIndex,!0)}}(0,eu.registerEditorContribution)(rs.ContentHoverController.ID,rs.ContentHoverController,eu.EditorContributionInstantiation.BeforeFirstInteraction),(0,eu.registerEditorContribution)(rx.GlyphHoverController.ID,rx.GlyphHoverController,eu.EditorContributionInstantiation.BeforeFirstInteraction),(0,eu.registerEditorAction)(ra),(0,eu.registerEditorAction)(rl),(0,eu.registerEditorAction)(rd),(0,eu.registerEditorAction)(rc),(0,eu.registerEditorAction)(ru),(0,eu.registerEditorAction)(rh),(0,eu.registerEditorAction)(rp),(0,eu.registerEditorAction)(rg),(0,eu.registerEditorAction)(rm),(0,eu.registerEditorAction)(r_),(0,eu.registerEditorAction)(rf),(0,eu.registerEditorAction)(ry),iO.HoverParticipantRegistry.register(rC.MarkdownHoverParticipant),iO.HoverParticipantRegistry.register(rI),(0,rv.registerThemingParticipant)((e,t)=>{let i=e.getColor(nN.editorHoverBorder);i&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${i.transparent(.5)}; }`))}),oW.AccessibleViewRegistry.register(new class{constructor(){this.type=na.AccessibleViewType.View,this.priority=95,this.name="hover",this.when=eh.EditorContextKeys.hoverFocused}getProvider(e){let t=e.get(eQ.ICodeEditorService),i=t.getActiveCodeEditor()||t.getFocusedCodeEditor();if(!i)throw Error("No active or focused code editor");let o=rs.ContentHoverController.get(i);if(!o)return;let n=e.get(eM.IKeybindingService);return e.get(eC.IInstantiationService).createInstance(rL,n,i,o)}}),oW.AccessibleViewRegistry.register(new class{constructor(){this.priority=100,this.name="hover",this.type=na.AccessibleViewType.Help,this.when=eh.EditorContextKeys.hoverVisible}getProvider(e){let t=e.get(eQ.ICodeEditorService),i=t.getActiveCodeEditor()||t.getFocusedCodeEditor();if(!i)throw Error("No active or focused code editor");let o=rs.ContentHoverController.get(i);if(o)return e.get(eC.IInstantiationService).createInstance(rM,o)}}),oW.AccessibleViewRegistry.register(new class{constructor(){this.type=na.AccessibleViewType.View,this.priority=90,this.name="extension-hover"}getProvider(e){let t=e.get(eJ.IContextViewService).getContextViewElement(),i=t?.textContent??void 0,o=e.get(iZ.IHoverService);if(!t.classList.contains("accessible-view-container")&&i)return new na.AccessibleContentProvider(na.AccessibleViewProviderId.Hover,{language:"typescript",type:na.AccessibleViewType.View},()=>i,()=>{o.showAndFocusLastHover()},"accessibility.verbosity.hover")}}),e.s([],71634);var rT=eu,rR=e.i(370706),rN=e.i(319225),rP=e.i(686765);function rO(e,t){let i=0;for(let o=0;o<e.length;o++)"	"===e.charAt(o)?i+=t:i++;return i}function rF(e,t,i){e=e<0?0:e;let o="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)o+="	"}for(let t=0;t<e;t++)o+=" ";return o}var rK=e.i(254359),rW=e.i(318292),rz=e.i(509301);function rV(e,t,i,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let n=t.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;if(!n)return[];let r=new rz.ProcessedIndentRulesSupport(e,n,t);for(o=Math.min(o,e.getLineCount());i<=o&&r.shouldIgnore(i);)i++;if(i>o-1)return[];let{tabSize:s,indentSize:a,insertSpaces:l}=e.getOptions(),d=(e,t)=>(t=t||1,rR.ShiftCommand.shiftIndent(e,e.length+t,s,a,l)),c=(e,t)=>(t=t||1,rR.ShiftCommand.unshiftIndent(e,e.length+t,s,a,l)),u=[],h=e.getLineContent(i),p=(0,t2.getLeadingWhitespace)(h),g=p;r.shouldIncrease(i)?(g=d(g),p=d(p)):r.shouldIndentNextLine(i)&&(g=d(g)),i++;for(let t=i;t<=o;t++){var m,_;if(m=e,_=t,m.tokenization.isCheapToTokenize(_)&&m.tokenization.getLineTokens(_).getStandardTokenType(0)===rN.StandardTokenType.String)continue;let i=e.getLineContent(t),o=(0,t2.getLeadingWhitespace)(i),n=g;r.shouldDecrease(t,n)&&(g=c(g),p=c(p)),o!==g&&u.push(i9.EditOperation.replaceMove(new tz.Selection(t,1,t,o.length+1),(0,rW.normalizeIndentation)(g,a,l))),r.shouldIgnore(t)||(g=r.shouldIncrease(t,n)?p=d(p):r.shouldIndentNextLine(t,n)?d(g):p)}return u}var rB=e.i(967413);class rH extends rT.EditorAction{static{this.ID="editor.action.indentationToSpaces"}constructor(){super({id:rH.ID,label:(0,J.localize2)(1158,"Convert Indentation to Spaces"),precondition:eh.EditorContextKeys.writable,metadata:{description:(0,J.localize2)(1159,"Convert the tab indentation to spaces.")}})}run(e,t){let i=t.getModel();if(!i)return;let o=i.getOptions(),n=t.getSelection();if(!n)return;let r=new r1(n,o.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}class rU extends rT.EditorAction{static{this.ID="editor.action.indentationToTabs"}constructor(){super({id:rU.ID,label:(0,J.localize2)(1160,"Convert Indentation to Tabs"),precondition:eh.EditorContextKeys.writable,metadata:{description:(0,J.localize2)(1161,"Convert the spaces indentation to tabs.")}})}run(e,t){let i=t.getModel();if(!i)return;let o=i.getOptions(),n=t.getSelection();if(!n)return;let r=new r2(n,o.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}class rG extends rT.EditorAction{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){let i=e.get(eW.IQuickInputService),o=e.get(ig.IModelService),n=t.getModel();if(!n)return;let r=o.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget),s=n.getOptions(),a=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize&&e===s.tabSize?(0,J.localize)(1162,"Configured Tab Size"):e===r.tabSize?(0,J.localize)(1163,"Default Tab Size"):e===s.tabSize?(0,J.localize)(1164,"Current Tab Size"):void 0})),l=Math.min(n.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:(0,J.localize)(1165,"Select Tab Size for Current File"),activeItem:a[l]}).then(e=>{if(e&&n&&!n.isDisposed()){let t=parseInt(e.label,10);this.displaySizeOnly?n.updateOptions({tabSize:t}):n.updateOptions({tabSize:t,indentSize:t,insertSpaces:this.insertSpaces})}})},50)}}class rq extends rG{static{this.ID="editor.action.indentUsingTabs"}constructor(){super(!1,!1,{id:rq.ID,label:(0,J.localize2)(1166,"Indent Using Tabs"),precondition:void 0,metadata:{description:(0,J.localize2)(1167,"Use indentation with tabs.")}})}}class r$ extends rG{static{this.ID="editor.action.indentUsingSpaces"}constructor(){super(!0,!1,{id:r$.ID,label:(0,J.localize2)(1168,"Indent Using Spaces"),precondition:void 0,metadata:{description:(0,J.localize2)(1169,"Use indentation with spaces.")}})}}class rj extends rG{static{this.ID="editor.action.changeTabDisplaySize"}constructor(){super(!0,!0,{id:rj.ID,label:(0,J.localize2)(1170,"Change Tab Display Size"),precondition:void 0,metadata:{description:(0,J.localize2)(1171,"Change the space size equivalent of the tab.")}})}}class rQ extends rT.EditorAction{static{this.ID="editor.action.detectIndentation"}constructor(){super({id:rQ.ID,label:(0,J.localize2)(1172,"Detect Indentation from Content"),precondition:void 0,metadata:{description:(0,J.localize2)(1173,"Detect the indentation from content.")}})}run(e,t){let i=e.get(ig.IModelService),o=t.getModel();if(!o)return;let n=i.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget);o.detectIndentation(n.insertSpaces,n.tabSize)}}class rY extends rT.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:(0,J.localize2)(1174,"Reindent Lines"),precondition:eh.EditorContextKeys.writable,metadata:{description:(0,J.localize2)(1175,"Reindent the lines of the editor.")}})}run(e,t){let i=e.get(i6.ILanguageConfigurationService),o=t.getModel();if(!o)return;let n=rV(o,i,1,o.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}class rZ extends rT.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:(0,J.localize2)(1176,"Reindent Selected Lines"),precondition:eh.EditorContextKeys.writable,metadata:{description:(0,J.localize2)(1177,"Reindent the selected lines of the editor.")}})}run(e,t){let i=e.get(i6.ILanguageConfigurationService),o=t.getModel();if(!o)return;let n=t.getSelections();if(null===n)return;let r=[];for(let e of n){let t=e.startLineNumber,n=e.endLineNumber;if(t!==n&&1===e.endColumn&&n--,1===t){if(t===n)continue}else t--;let s=rV(o,i,t,n);r.push(...s)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class rX{constructor(e,t){for(const i of(this._initialSelection=t,this._edits=[],this._selectionId=null,e))i.range&&"string"==typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let e of this._edits)t.addEditOperation(tQ.Range.lift(e.range),e.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let rJ=class{static{this.ID="editor.contrib.autoIndentOnPaste"}constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new Z.DisposableStore,this.callOnModel=new Z.DisposableStore,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(iu.EditorOption.autoIndent)<iu.EditorAutoIndentStrategy.Full||this.editor.getOption(iu.EditorOption.formatOnPaste)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){var t,i;let o,n=this.editor.getSelections();if(null===n||n.length>1)return;let r=this.editor.getModel();if(!r||this.rangeContainsOnlyWhitespaceCharacters(r,e)||(t=r,i=e,(o=e=>(0,rB.getStandardTokenTypeAtPosition)(t,e)===rN.StandardTokenType.String)(i.getStartPosition())||o(i.getEndPosition()))||!r.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;let s=this.editor.getOption(iu.EditorOption.autoIndent),{tabSize:a,indentSize:l,insertSpaces:d}=r.getOptions(),c=[],u={shiftIndent:e=>rR.ShiftCommand.shiftIndent(e,e.length+1,a,l,d),unshiftIndent:e=>rR.ShiftCommand.unshiftIndent(e,e.length+1,a,l,d)},h=e.startLineNumber;for(;h<=e.endLineNumber;){if(this.shouldIgnoreLine(r,h)){h++;continue}break}if(h>e.endLineNumber)return;let p=r.getLineContent(h);if(!/\S/.test(p.substring(0,e.startColumn-1))){let e=(0,rK.getGoodIndentForLine)(s,r,r.getLanguageId(),h,u,this._languageConfigurationService);if(null!==e){let t=(0,t2.getLeadingWhitespace)(p),i=rO(e,a);if(i!==rO(t,a)){let e=rF(i,a,d);c.push({range:new tQ.Range(h,1,h,t.length+1),text:e}),p=e+p.substring(t.length)}else{let e=(0,rK.getIndentMetadata)(r,h,this._languageConfigurationService);if(0===e||e===rP.IndentConsts.UNINDENT_MASK)return}}}let g=h;for(;h<e.endLineNumber;){if(!/\S/.test(r.getLineContent(h+1))){h++;continue}break}if(h!==e.endLineNumber){let t=(0,rK.getGoodIndentForLine)(s,{tokenization:{getLineTokens:e=>r.tokenization.getLineTokens(e),getLanguageId:()=>r.getLanguageId(),getLanguageIdAtPosition:(e,t)=>r.getLanguageIdAtPosition(e,t)},getLineContent:e=>e===g?p:r.getLineContent(e)},r.getLanguageId(),h+1,u,this._languageConfigurationService);if(null!==t){let i=rO(t,a),o=rO((0,t2.getLeadingWhitespace)(r.getLineContent(h+1)),a);if(i!==o){let t=i-o;for(let i=h+1;i<=e.endLineNumber;i++){let e=r.getLineContent(i),o=(0,t2.getLeadingWhitespace)(e),n=rF(rO(o,a)+t,a,d);n!==o&&c.push({range:new tQ.Range(i,1,i,o.length+1),text:n})}}}}if(c.length>0){this.editor.pushUndoStop();let e=new rX(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(e,t){let i=e=>0===e.trim().length,o=!0;if(t.startLineNumber===t.endLineNumber)o=i(e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1));else for(let n=t.startLineNumber;n<=t.endLineNumber;n++){let r=e.getLineContent(n);if(!(o=n===t.startLineNumber?i(r.substring(t.startColumn-1)):n===t.endLineNumber?i(r.substring(0,t.endColumn-1)):0===e.getLineFirstNonWhitespaceColumn(n)))break}return o}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let o=e.tokenization.getLineTokens(t);if(o.getCount()>0){let e=o.findTokenIndexAtOffset(i);if(e>=0&&o.getStandardTokenType(e)===rN.StandardTokenType.Comment)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};function r0(e,t,i,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let n="";for(let e=0;e<i;e++)n+=" ";let r=RegExp(n,"gi");for(let i=1,s=e.getLineCount();i<=s;i++){let s=e.getLineFirstNonWhitespaceColumn(i);if(0===s&&(s=e.getLineMaxColumn(i)),1===s)continue;let a=new tQ.Range(i,1,i,s),l=e.getValueInRange(a),d=o?l.replace(/\t/ig,n):l.replace(r,"	");t.addEditOperation(a,d)}}rJ=(0,Y.__decorate)([(0,Y.__param)(1,i6.ILanguageConfigurationService)],rJ);class r1{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),r0(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class r2{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),r0(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,rT.registerEditorContribution)(rJ.ID,rJ,rT.EditorContributionInstantiation.BeforeFirstInteraction),(0,rT.registerEditorAction)(rH),(0,rT.registerEditorAction)(rU),(0,rT.registerEditorAction)(rq),(0,rT.registerEditorAction)(r$),(0,rT.registerEditorAction)(rj),(0,rT.registerEditorAction)(rQ),(0,rT.registerEditorAction)(rY),(0,rT.registerEditorAction)(rZ),e.s(["ChangeTabDisplaySize",()=>rj,"DetectIndentation",()=>rQ,"IndentUsingSpaces",()=>r$,"IndentUsingTabs",()=>rq,"IndentationToSpacesAction",()=>rH,"IndentationToTabsAction",()=>rU],295347);var r3=e.i(244178);(0,eu.registerEditorContribution)(eg.InlayHintsController.ID,eg.InlayHintsController,eu.EditorContributionInstantiation.AfterFirstRender),iO.HoverParticipantRegistry.register(r3.InlayHintsHover),e.s([],468387);var r5=e.i(857798),r4=eu;class r6{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new tz.Selection(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new tz.Selection(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}(0,ti.default)(".monaco-editor.vs .valueSetReplacement{outline:solid 2px var(--vscode-editorBracketMatch-border)}",{});let r8=class{static{x=this}static{this.ID="editor.contrib.inPlaceReplaceController"}static get(e){return e.getContribution(x.ID)}static{this.DECORATION=ix.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"})}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){this.currentRequest?.cancel();let i=this.editor.getSelection(),o=this.editor.getModel();if(!o||!i)return;let n=i;if(n.startLineNumber!==n.endLineNumber)return;let r=new r5.EditorState(this.editor,r5.CodeEditorStateFlag.Value|r5.CodeEditorStateFlag.Position),s=o.uri;return this.editorWorkerService.canNavigateValueSet(s)?(this.currentRequest=(0,ta.createCancelablePromise)(e=>this.editorWorkerService.navigateValueSet(s,n,t)),this.currentRequest.then(t=>{if(!t||!t.range||!t.value||!r.validate(this.editor))return;let i=tQ.Range.lift(t.range),o=t.range,s=t.value.length-(n.endColumn-n.startColumn);o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.startColumn+t.value.length},s>1&&(n=new tz.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+s-1));let a=new r6(i,n,t.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,a),this.editor.pushUndoStop(),this.decorations.set([{range:o,options:x.DECORATION}]),this.decorationRemover?.cancel(),this.decorationRemover=(0,ta.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(e$.onUnexpectedError)}).catch(e$.onUnexpectedError)):Promise.resolve(void 0)}};r8=x=(0,Y.__decorate)([(0,Y.__param)(1,iG.IEditorWorkerService)],r8);class r9 extends r4.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:(0,J.localize2)(1156,"Replace with Previous Value"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.Comma,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=r8.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class r7 extends r4.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:(0,J.localize2)(1157,"Replace with Next Value"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.Period,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=r8.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}(0,r4.registerEditorContribution)(r8.ID,r8,r4.EditorContributionInstantiation.Lazy),(0,r4.registerEditorAction)(r9),(0,r4.registerEditorAction)(r7),e.s([],287231);var se=eu,st=e.i(945064);class si extends se.EditorAction{constructor(){super({id:"expandLineSelection",label:(0,J.localize2)(1221,"Expand Line Selection"),precondition:void 0,kbOpts:{weight:eb.KeybindingWeight.EditorCore,kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.KeyL}})}run(e,t,i){if(i=i||{},!t.hasModel())return;let o=t._getViewModel();o.model.pushStackElement(),o.setCursorStates(i.source,oh.CursorChangeReason.Explicit,st.CursorMoveCommands.expandLineSelection(o,o.getCursorStates())),o.revealAllCursors(i.source,!0)}}(0,se.registerEditorAction)(si),e.s([],886197);var so=e.i(697120),sn=eu,sr=e.i(788722),ss=e.i(644833),sa=e.i(838372);class sl{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=tz.SelectionDirection.LTR,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let o=[];for(let t=i.startLineNumber;t<=i.endLineNumber;t++)o.push(e.getLineContent(t));let n=o.join("\n");""===n&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new tQ.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new tQ.Range(i.startLineNumber,1,i.startLineNumber,1),n+"\n"):t.addEditOperation(new tQ.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+n),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,o=i.endLineNumber,n=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(o+=this._endLineNumberDelta,n=1),i=tz.Selection.createWithDirection(e,t,o,n,this._selectionDirection)}return i}}var sd=e.i(994665),sc=e.i(823018);let su=class{constructor(e,t,i,o){this._languageConfigurationService=o,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=()=>e.getLanguageId(),o=(t,i)=>e.getLanguageIdAtPosition(t,i),n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n||!this._isMovingDown&&1===this._selection.startLineNumber){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));let{tabSize:s,indentSize:a,insertSpaces:l}=e.getOptions(),d=this.buildIndentConverter(s,a,l);if(r.startLineNumber===r.endLineNumber&&1===e.getLineMaxColumn(r.startLineNumber)){let i=r.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new tQ.Range(1,1,1,1),null):(t.addEditOperation(new tQ.Range(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new tQ.Range(o,1,o,e.getLineMaxColumn(o)),null)),r=new tz.Selection(o,1,o,1)}else{let n,a;if(this._isMovingDown){n=r.endLineNumber+1,a=e.getLineContent(n),t.addEditOperation(new tQ.Range(n-1,e.getLineMaxColumn(n-1),n,e.getLineMaxColumn(n)),null);let c=a;if(this.shouldAutoIndent(e,r)){let u=this.matchEnterRule(e,d,s,n,r.startLineNumber-1);if(null!==u)c=rF(u+rO((0,t2.getLeadingWhitespace)(e.getLineContent(n)),s),s,l)+this.trimStart(a);else{let t=(0,rK.getGoodIndentForLine)(this._autoIndent,{tokenization:{getLineTokens:t=>t===r.startLineNumber?e.tokenization.getLineTokens(n):e.tokenization.getLineTokens(t),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:t=>t===r.startLineNumber?e.getLineContent(n):e.getLineContent(t)},e.getLanguageIdAtPosition(n,1),r.startLineNumber,d,this._languageConfigurationService);if(null!==t){let i=(0,t2.getLeadingWhitespace)(e.getLineContent(n)),o=rO(t,s);o!==rO(i,s)&&(c=rF(o,s,l)+this.trimStart(a))}}t.addEditOperation(new tQ.Range(r.startLineNumber,1,r.startLineNumber,1),c+"\n");let h=this.matchEnterRuleMovingDown(e,d,s,r.startLineNumber,n,c);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,h);else{let a=(0,rK.getGoodIndentForLine)(this._autoIndent,{tokenization:{getLineTokens:t=>t===r.startLineNumber?e.tokenization.getLineTokens(n):t>=r.startLineNumber+1&&t<=r.endLineNumber+1?e.tokenization.getLineTokens(t-1):e.tokenization.getLineTokens(t),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:t=>t===r.startLineNumber?c:t>=r.startLineNumber+1&&t<=r.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)},e.getLanguageIdAtPosition(n,1),r.startLineNumber+1,d,this._languageConfigurationService);if(null!==a){let i=(0,t2.getLeadingWhitespace)(e.getLineContent(r.startLineNumber)),o=rO(a,s),n=rO(i,s);o!==n&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,o-n)}}}else t.addEditOperation(new tQ.Range(r.startLineNumber,1,r.startLineNumber,1),c+"\n")}else if(n=r.startLineNumber-1,a=e.getLineContent(n),t.addEditOperation(new tQ.Range(n,1,n+1,1),null),t.addEditOperation(new tQ.Range(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+a),this.shouldAutoIndent(e,r)){let a=this.matchEnterRule(e,d,s,r.startLineNumber,r.startLineNumber-2);if(null!==a)0!==a&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,a);else{let a=(0,rK.getGoodIndentForLine)(this._autoIndent,{tokenization:{getLineTokens:t=>t===n?e.tokenization.getLineTokens(r.startLineNumber):e.tokenization.getLineTokens(t),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:t=>t===n?e.getLineContent(r.startLineNumber):e.getLineContent(t)},e.getLanguageIdAtPosition(r.startLineNumber,1),n,d,this._languageConfigurationService);if(null!==a){let i=(0,t2.getLeadingWhitespace)(e.getLineContent(r.startLineNumber)),o=rO(a,s),n=rO(i,s);o!==n&&this.getIndentEditsOfMovingBlock(e,t,r,s,l,o-n)}}}}this._selectionId=t.trackSelection(r)}buildIndentConverter(e,t,i){return{shiftIndent:o=>rR.ShiftCommand.shiftIndent(o,o.length+1,e,t,i),unshiftIndent:o=>rR.ShiftCommand.unshiftIndent(o,o.length+1,e,t,i)}}parseEnterResult(e,t,i,o,n){if(n){let r=n.indentation;n.indentAction===sd.IndentAction.None||n.indentAction===sd.IndentAction.Indent?r=n.indentation+n.appendText:n.indentAction===sd.IndentAction.IndentOutdent?r=n.indentation:n.indentAction===sd.IndentAction.Outdent&&(r=t.unshiftIndent(n.indentation)+n.appendText);let s=e.getLineContent(o);if(this.trimStart(s).indexOf(this.trimStart(r))>=0){let n=(0,t2.getLeadingWhitespace)(e.getLineContent(o)),s=(0,t2.getLeadingWhitespace)(r),a=(0,rK.getIndentMetadata)(e,o,this._languageConfigurationService);return null!==a&&a&rP.IndentConsts.DECREASE_MASK&&(s=t.unshiftIndent(s)),rO(s,i)-rO(n,i)}}return null}matchEnterRuleMovingDown(e,t,i,o,n,r){if((0,t2.lastNonWhitespaceIndex)(r)>=0){let r=e.getLineMaxColumn(n),s=(0,sc.getEnterAction)(this._autoIndent,e,new tQ.Range(n,r,n,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,s)}{let n=o-1;for(;n>=1;){let t=e.getLineContent(n);if((0,t2.lastNonWhitespaceIndex)(t)>=0)break;n--}if(n<1||o>e.getLineCount())return null;let r=e.getLineMaxColumn(n),s=(0,sc.getEnterAction)(this._autoIndent,e,new tQ.Range(n,r,n,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,s)}}matchEnterRule(e,t,i,o,n,r){let s=n;for(;s>=1;){let t;if(t=s===n&&void 0!==r?r:e.getLineContent(s),(0,t2.lastNonWhitespaceIndex)(t)>=0)break;s--}if(s<1||o>e.getLineCount())return null;let a=e.getLineMaxColumn(s),l=(0,sc.getEnterAction)(this._autoIndent,e,new tQ.Range(s,a,s,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,o,l)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<iu.EditorAutoIndentStrategy.Full||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport}getIndentEditsOfMovingBlock(e,t,i,o,n,r){for(let s=i.startLineNumber;s<=i.endLineNumber;s++){let a=e.getLineContent(s),l=(0,t2.getLeadingWhitespace)(a),d=rF(rO(l,o)+r,o,n);d!==l&&(t.addEditOperation(new tQ.Range(s,1,s,l.length+1),d),s===i.endLineNumber&&i.endColumn<=l.length+1&&""===d&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};su=(0,Y.__decorate)([(0,Y.__param)(3,i6.ILanguageConfigurationService)],su);class sh{static{this._COLLATOR=null}static getCollator(){return sh._COLLATOR||(sh._COLLATOR=new Intl.Collator),sh._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){var i,o;let n,r=(i=e,o=this.selection,(n=sp(i,o,this.descending))?i9.EditOperation.replace(new tQ.Range(n.startLineNumber,1,n.endLineNumber,i.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null);r&&t.addEditOperation(r.range,r.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let o=sp(e,t,i);if(!o)return!1;for(let e=0,t=o.before.length;e<t;e++)if(o.before[e]!==o.after[e])return!0;return!1}}function sp(e,t,i){let o=t.startLineNumber,n=t.endLineNumber;if(1===t.endColumn&&n--,o>=n)return null;let r=[];for(let t=o;t<=n;t++)r.push(e.getLineContent(t));let s=r.slice(0);return s.sort(sh.getCollator().compare),!0===i&&(s=s.reverse()),{startLineNumber:o,endLineNumber:n,before:r,after:s}}class sg extends sn.EditorAction{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;let i=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));i.sort((e,t)=>tQ.Range.compareRangesUsingStarts(e.selection,t.selection));let o=i[0];for(let e=1;e<i.length;e++){let t=i[e];o.selection.endLineNumber===t.selection.startLineNumber&&(o.index<t.index?t.ignore=!0:(o.ignore=!0,o=t))}let n=[];for(let e of i)n.push(new sl(e.selection,this.down,e.ignore));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class sm extends sn.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:(0,J.localize2)(1226,"Duplicate Selection"),precondition:eh.EditorContextKeys.writable,menuOpts:{menuId:em.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,J.localize)(1227,"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;let o=[],n=t.getSelections(),r=t.getModel();for(let e of n)if(e.isEmpty())o.push(new sl(e,!0));else{let t=new tz.Selection(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn);o.push(new tJ.ReplaceCommandThatSelectsText(t,r.getValueInRange(e)))}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class s_ extends sn.EditorAction{constructor(e,t){super(t),this.down=e}run(e,t){let i=e.get(i6.ILanguageConfigurationService),o=[],n=t.getSelections()||[],r=t.getOption(iu.EditorOption.autoIndent);for(let e of n)o.push(new su(e,this.down,r,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class sf extends sn.EditorAction{constructor(e,t){super(t),this.descending=e}run(e,t){if(!t.hasModel())return;let i=t.getModel(),o=t.getSelections();for(let e of(1===o.length&&o[0].isEmpty()&&(o=[new tz.Selection(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))]),o))if(!sh.canRun(t.getModel(),e,this.descending))return;let n=[];for(let e=0,t=o.length;e<t;e++)n[e]=new sh(o[e],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class sy extends sn.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:(0,J.localize2)(1234,"Delete Duplicate Lines"),precondition:eh.EditorContextKeys.writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let o=[],n=[],r=0,s=!0,a=t.getSelections();for(let e of(1===a.length&&a[0].isEmpty()&&(a=[new tz.Selection(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))],s=!1),a)){let t=new Set,s=[];for(let o=e.startLineNumber;o<=e.endLineNumber;o++){let e=i.getLineContent(o);t.has(e)||(s.push(e),t.add(e))}let a=new tz.Selection(e.startLineNumber,1,e.endLineNumber,i.getLineMaxColumn(e.endLineNumber)),l=e.startLineNumber-r,d=new tz.Selection(l,1,l+s.length-1,s[s.length-1].length);o.push(i9.EditOperation.replace(a,s.join("\n"))),n.push(d),r+=e.endLineNumber-e.startLineNumber+1-s.length}t.pushUndoStop(),t.executeEdits(this.id,o,s?n:void 0),t.pushUndoStop()}}class sv extends sn.EditorAction{static{this.ID="editor.action.trimTrailingWhitespace"}constructor(){super({id:sv.ID,label:(0,J.localize2)(1235,"Trim Trailing Whitespace"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyMod.CtrlCmd|ec.KeyCode.KeyX),weight:eb.KeybindingWeight.EditorContrib}})}run(e,t,i){let o=[];"auto-save"===i.reason&&(o=(t.getSelections()||[]).map(e=>new i7.Position(e.positionLineNumber,e.positionColumn)));let n=t.getSelection();if(null===n)return;let r=e.get(es.IConfigurationService),s=t.getModel(),a=r.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:s?.getLanguageId(),resource:s?.uri}),l=new sr.TrimTrailingWhitespaceCommand(n,o,a);t.pushUndoStop(),t.executeCommands(this.id,[l]),t.pushUndoStop()}}class sC extends sn.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:(0,J.localize2)(1236,"Delete Line"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.KeyK,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),o=t.getModel();if(1===o.getLineCount()&&1===o.getLineMaxColumn(1))return;let n=0,r=[],s=[];for(let e=0,t=i.length;e<t;e++){let t=i[e],a=t.startLineNumber,l=t.endLineNumber,d=1,c=o.getLineMaxColumn(l);l<o.getLineCount()?(l+=1,c=1):a>1&&(a-=1,d=o.getLineMaxColumn(a)),r.push(i9.EditOperation.replace(new tz.Selection(a,d,l,c),"")),s.push(new tz.Selection(a-n,t.positionColumn,a-n,t.positionColumn)),n+=t.endLineNumber-t.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],o=t[0];for(let e=1;e<t.length;e++)o.endLineNumber+1>=t[e].startLineNumber?o.endLineNumber=t[e].endLineNumber:(i.push(o),o=t[e]);return i.push(o),i}}class sb extends sn.EditorAction{constructor(){super({id:"editor.action.indentLines",label:(0,J.localize2)(1237,"Indent Line"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.BracketRight,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,ss.TypeOperations.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class sS extends sn.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:(0,J.localize2)(1238,"Outdent Line"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.BracketLeft,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){so.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}}class sw extends sn.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:(0,J.localize2)(1239,"Insert Line Above"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.Enter,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,sa.EnterOperation.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class sE extends sn.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:(0,J.localize2)(1240,"Insert Line Below"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Enter,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,sa.EnterOperation.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class sI extends sn.EditorAction{run(e,t){if(!t.hasModel())return;let i=t.getSelection(),o=this._getRangesToDelete(t),n=[];for(let e=0,t=o.length-1;e<t;e++){let t=o[e],i=o[e+1];null===tQ.Range.intersectRanges(t,i)?n.push(t):o[e+1]=tQ.Range.plusRange(t,i)}n.push(o[o.length-1]);let r=this._getEndCursorState(i,n),s=n.map(e=>i9.EditOperation.replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}}class sx extends sn.EditorAction{constructor(){super({id:"editor.action.joinLines",label:(0,J.localize2)(1243,"Join Lines"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyCode.KeyJ},weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=t.getSelections();if(null===i)return;let o=t.getSelection();if(null===o)return;i.sort(tQ.Range.compareRangesUsingStarts);let n=[],r=i.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(o.equalsSelection(e)&&(o=t),t):t.startLineNumber>e.endLineNumber+1?(n.push(e),t):new tz.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(n.push(e),t):new tz.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));n.push(r);let s=t.getModel();if(null===s)return;let a=[],l=[],d=o,c=0;for(let e=0,t=n.length;e<t;e++){let t,i,r=n[e],u=r.startLineNumber,h=0,p=s.getLineLength(r.endLineNumber)-r.endColumn;if(r.isEmpty()||r.startLineNumber===r.endLineNumber){let e=r.getStartPosition();e.lineNumber<s.getLineCount()?(t=u+1,i=s.getLineMaxColumn(t)):(t=e.lineNumber,i=s.getLineMaxColumn(e.lineNumber))}else t=r.endLineNumber,i=s.getLineMaxColumn(t);let g=s.getLineContent(u);for(let e=u+1;e<=t;e++){let t=s.getLineContent(e),i=s.getLineFirstNonWhitespaceColumn(e);if(i>=1){let e=!0;""===g&&(e=!1),e&&(" "===g.charAt(g.length-1)||"	"===g.charAt(g.length-1))&&(e=!1,g=g.replace(/[\s\uFEFF\xA0]+$/g," "));let o=t.substr(i-1);g+=(e?" ":"")+o,h=e?o.length+1:o.length}else h=0}let m=new tQ.Range(u,1,t,i);if(!m.isEmpty()){let e;r.isEmpty()?(a.push(i9.EditOperation.replace(m,g)),e=new tz.Selection(m.startLineNumber-c,g.length-h+1,u-c,g.length-h+1)):r.startLineNumber===r.endLineNumber?(a.push(i9.EditOperation.replace(m,g)),e=new tz.Selection(r.startLineNumber-c,r.startColumn,r.endLineNumber-c,r.endColumn)):(a.push(i9.EditOperation.replace(m,g)),e=new tz.Selection(r.startLineNumber-c,r.startColumn,r.startLineNumber-c,g.length-p)),null!==tQ.Range.intersectRanges(m,o)?d=e:l.push(e)}c+=m.endLineNumber-m.startLineNumber}l.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}class sD extends sn.EditorAction{constructor(){super({id:"editor.action.transpose",label:(0,J.localize2)(1244,"Transpose Characters around the Cursor"),precondition:eh.EditorContextKeys.writable})}run(e,t){let i=t.getSelections();if(null===i)return;let o=t.getModel();if(null===o)return;let n=[];for(let e=0,t=i.length;e<t;e++){let t=i[e];if(!t.isEmpty())continue;let r=t.getStartPosition(),s=o.getLineMaxColumn(r.lineNumber);if(r.column>=s){if(r.lineNumber===o.getLineCount())continue;let e=new tQ.Range(r.lineNumber,Math.max(1,r.column-1),r.lineNumber+1,1),t=o.getValueInRange(e).split("").reverse().join("");n.push(new tJ.ReplaceCommand(new tz.Selection(r.lineNumber,Math.max(1,r.column-1),r.lineNumber+1,1),t))}else{let e=new tQ.Range(r.lineNumber,Math.max(1,r.column-1),r.lineNumber,r.column+1),t=o.getValueInRange(e).split("").reverse().join("");n.push(new tJ.ReplaceCommandThatPreservesSelection(e,t,new tz.Selection(r.lineNumber,r.column+1,r.lineNumber,r.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class sk extends sn.EditorAction{run(e,t){let i=t.getSelections();if(null===i)return;let o=t.getModel();if(null===o)return;let n=t.getOption(iu.EditorOption.wordSeparators),r=[];for(let e of i)if(e.isEmpty()){let i=e.getStartPosition(),s=t.getConfiguredWordAtPosition(i);if(!s)continue;let a=new tQ.Range(i.lineNumber,s.startColumn,i.lineNumber,s.endColumn),l=o.getValueInRange(a);r.push(i9.EditOperation.replace(a,this._modifyText(l,n)))}else{let t=o.getValueInRange(e);r.push(i9.EditOperation.replace(e,this._modifyText(t,n)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class sA{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class sM extends sk{static{this.titleBoundary=new sA("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu")}constructor(){super({id:"editor.action.transformToTitlecase",label:(0,J.localize2)(1247,"Transform to Title Case"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){let i=sM.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,e=>e.toLocaleUpperCase()):e}}class sL extends sk{static{this.caseBoundary=new sA("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new sA("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu")}constructor(){super({id:"editor.action.transformToSnakecase",label:(0,J.localize2)(1248,"Transform to Snake Case"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){let i=sL.caseBoundary.get(),o=sL.singleLetters.get();return i&&o?e.replace(i,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase():e}}class sT extends sk{static{this.wordBoundary=new sA("[_\\s-]","gm")}constructor(){super({id:"editor.action.transformToCamelcase",label:(0,J.localize2)(1249,"Transform to Camel Case"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){let i=sT.wordBoundary.get();if(!i)return e;let o=e.split(i);return o.shift()+o.map(e=>e.substring(0,1).toLocaleUpperCase()+e.substring(1)).join("")}}class sR extends sk{static{this.wordBoundary=new sA("[_\\s-]","gm")}static{this.wordBoundaryToMaintain=new sA("(?<=\\.)","gm")}constructor(){super({id:"editor.action.transformToPascalcase",label:(0,J.localize2)(1250,"Transform to Pascal Case"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){let i=sR.wordBoundary.get(),o=sR.wordBoundaryToMaintain.get();return i&&o?e.split(o).map(e=>e.split(i)).flat().map(e=>e.substring(0,1).toLocaleUpperCase()+e.substring(1)).join(""):e}}class sN extends sk{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(e=>e.isSupported())}static{this.caseBoundary=new sA("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new sA("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu")}static{this.underscoreBoundary=new sA("(\\S)(_)(\\S)","gm")}constructor(){super({id:"editor.action.transformToKebabcase",label:(0,J.localize2)(1251,"Transform to Kebab Case"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){let i=sN.caseBoundary.get(),o=sN.singleLetters.get(),n=sN.underscoreBoundary.get();return i&&o&&n?e.replace(n,"$1-$3").replace(i,"$1-$2").replace(o,"$1-$2").toLocaleLowerCase():e}}(0,sn.registerEditorAction)(class extends sg{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:(0,J.localize2)(1222,"Copy Line Up"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.UpArrow,linux:{primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.UpArrow},weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,J.localize)(1223,"&&Copy Line Up"),order:1}})}}),(0,sn.registerEditorAction)(class extends sg{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:(0,J.localize2)(1224,"Copy Line Down"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.DownArrow,linux:{primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.DownArrow},weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,J.localize)(1225,"Co&&py Line Down"),order:2}})}}),(0,sn.registerEditorAction)(sm),(0,sn.registerEditorAction)(class extends s_{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:(0,J.localize2)(1228,"Move Line Up"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.Alt|ec.KeyCode.UpArrow,linux:{primary:ec.KeyMod.Alt|ec.KeyCode.UpArrow},weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,J.localize)(1229,"Mo&&ve Line Up"),order:3}})}}),(0,sn.registerEditorAction)(class extends s_{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:(0,J.localize2)(1230,"Move Line Down"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.Alt|ec.KeyCode.DownArrow,linux:{primary:ec.KeyMod.Alt|ec.KeyCode.DownArrow},weight:eb.KeybindingWeight.EditorContrib},menuOpts:{menuId:em.MenuId.MenubarSelectionMenu,group:"2_line",title:(0,J.localize)(1231,"Move &&Line Down"),order:4}})}}),(0,sn.registerEditorAction)(class extends sf{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:(0,J.localize2)(1232,"Sort Lines Ascending"),precondition:eh.EditorContextKeys.writable})}}),(0,sn.registerEditorAction)(class extends sf{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:(0,J.localize2)(1233,"Sort Lines Descending"),precondition:eh.EditorContextKeys.writable})}}),(0,sn.registerEditorAction)(sy),(0,sn.registerEditorAction)(sv),(0,sn.registerEditorAction)(sC),(0,sn.registerEditorAction)(sb),(0,sn.registerEditorAction)(sS),(0,sn.registerEditorAction)(sw),(0,sn.registerEditorAction)(sE),(0,sn.registerEditorAction)(class extends sI{constructor(){super({id:"deleteAllLeft",label:(0,J.localize2)(1241,"Delete All Left"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Backspace},weight:eb.KeybindingWeight.EditorContrib}})}_getEndCursorState(e,t){let i=null,o=[],n=0;return t.forEach(t=>{let r;if(1===t.endColumn&&n>0){let e=t.startLineNumber-n;r=new tz.Selection(e,t.startColumn,e,t.startColumn)}else r=new tz.Selection(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);n+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=r:o.push(r)}),i&&o.unshift(i),o}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,o=e.getModel();return null===o?[]:(i.sort(tQ.Range.compareRangesUsingStarts),i=i.map(e=>{if(!e.isEmpty())return new tQ.Range(e.startLineNumber,1,e.endLineNumber,e.endColumn);if(1!==e.startColumn)return new tQ.Range(e.startLineNumber,1,e.startLineNumber,e.startColumn);{let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:o.getLineLength(t)+1;return new tQ.Range(t,i,e.startLineNumber,1)}}))}}),(0,sn.registerEditorAction)(class extends sI{constructor(){super({id:"deleteAllRight",label:(0,J.localize2)(1242,"Delete All Right"),precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyCode.KeyK,secondary:[ec.KeyMod.CtrlCmd|ec.KeyCode.Delete]},weight:eb.KeybindingWeight.EditorContrib}})}_getEndCursorState(e,t){let i=null,o=[];for(let n=0,r=t.length;n<r;n++){let r=t[n],s=new tz.Selection(r.startLineNumber-0,r.startColumn,r.startLineNumber-0,r.startColumn);r.intersectRanges(e)?i=s:o.push(s)}return i&&o.unshift(i),o}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let o=i.map(e=>{if(e.isEmpty()){let i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new tQ.Range(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new tQ.Range(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return o.sort(tQ.Range.compareRangesUsingStarts),o}}),(0,sn.registerEditorAction)(sx),(0,sn.registerEditorAction)(sD),(0,sn.registerEditorAction)(class extends sk{constructor(){super({id:"editor.action.transformToUppercase",label:(0,J.localize2)(1245,"Transform to Uppercase"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),(0,sn.registerEditorAction)(class extends sk{constructor(){super({id:"editor.action.transformToLowercase",label:(0,J.localize2)(1246,"Transform to Lowercase"),precondition:eh.EditorContextKeys.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),sL.caseBoundary.isSupported()&&sL.singleLetters.isSupported()&&(0,sn.registerEditorAction)(sL),sT.wordBoundary.isSupported()&&(0,sn.registerEditorAction)(sT),sR.wordBoundary.isSupported()&&(0,sn.registerEditorAction)(sR),sM.titleBoundary.isSupported()&&(0,sn.registerEditorAction)(sM),sN.isSupported()&&(0,sn.registerEditorAction)(sN),e.s(["TrimTrailingWhitespaceAction",()=>sv],891680);var sP=Z,sO=eu,sF=e.i(225696);(0,ti.default)(".monaco-editor .linked-editing-decoration{background-color:var(--vscode-editor-linkedEditingBackground);min-width:1px}",{});let sK=new ey.RawContextKey("LinkedEditingInputVisible",!1),sW=class extends sP.Disposable{static{D=this}static{this.ID="editor.contrib.linkedEditing"}static{this.DECORATION=ix.ModelDecorationOptions.register({description:"linked-editing",stickiness:tV.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,className:"linked-editing-decoration"})}static get(e){return e.getContribution(D.ID)}constructor(e,t,i,o,n){super(),this.languageConfigurationService=o,this._syncRangesToken=0,this._localToDispose=this._register(new sP.DisposableStore),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=sK.bindTo(t),this._debounceInformation=n.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new sP.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(iu.EditorOption.linkedEditing)||e.hasChanged(iu.EditorOption.renameOnType))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){let t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(iu.EditorOption.linkedEditing)||this._editor.getOption(iu.EditorOption.renameOnType))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t))return;this._localToDispose.add(eE.Event.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));let o=new ta.Delayer(this._debounceInformation.get(t)),n=()=>{this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),this._debounceDuration??this._debounceInformation.get(t))},r=new ta.Delayer(0),s=e=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{n()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let t=this._currentDecorations.getRange(0);if(t&&e.changes.every(e=>t.intersectRanges(e.range)))return void s(this._syncRangesToken)}n()})),this._localToDispose.add({dispose:()=>{o.dispose(),r.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||0===this._currentDecorations.length)return;let t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let o=t.getValueInRange(i);if(this._currentWordPattern){let e=o.match(this._currentWordPattern);if((e?e[0].length:0)!==o.length)return this.clearRanges()}let n=[];for(let e=1,i=this._currentDecorations.length;e<i;e++){let i=this._currentDecorations.getRange(e);if(i)if(i.startLineNumber!==i.endLineNumber)n.push({range:i,text:o});else{let e=t.getValueInRange(i),r=o,s=i.startColumn,a=i.endColumn,l=(0,t2.commonPrefixLength)(e,r);s+=l,e=e.substr(l),r=r.substr(l);let d=(0,t2.commonSuffixLength)(e,r);a-=d,e=e.substr(0,e.length-d),r=r.substr(0,r.length-d),(s!==a||0!==r.length)&&n.push({range:new tQ.Range(i.startLineNumber,s,i.endLineNumber,a),text:r})}}if(0!==n.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",n),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}get currentUpdateTriggerPromise(){return this._rangeUpdateTriggerPromise||Promise.resolve()}get currentSyncTriggerPromise(){return this._rangeSyncTriggerPromise||Promise.resolve()}async updateRanges(e=!1){if(!this._editor.hasModel())return void this.clearRanges();let t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1)return void this.clearRanges();let i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){let e=this._currentDecorations.getRange(0);if(e&&e.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=o;let n=this._currentRequestCts=new ed.CancellationTokenSource;try{let e=new sF.StopWatch(!1),r=await sB(this._providers,i,t,n.token);if(this._debounceInformation.update(i,e.elapsed()),n!==this._currentRequestCts||(this._currentRequestCts=null,o!==i.getVersionId()))return;let s=[];r?.ranges&&(s=r.ranges),this._currentWordPattern=r?.wordPattern||this._languageWordPattern;let a=!1;for(let e=0,i=s.length;e<i;e++)if(tQ.Range.containsPosition(s[e],t)){if(a=!0,0!==e){let t=s[e];s.splice(e,1),s.unshift(t)}break}if(!a)return void this.clearRanges();let l=s.map(e=>({range:e,options:D.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(l),this._syncRangesToken++}catch(e){(0,e$.isCancellationError)(e)||(0,e$.onUnexpectedError)(e),this._currentRequestCts!==n&&this._currentRequestCts||this.clearRanges()}}setDebounceDuration(e){this._debounceDuration=e}};sW=D=(0,Y.__decorate)([(0,Y.__param)(1,ev.IContextKeyService),(0,Y.__param)(2,eD.ILanguageFeaturesService),(0,Y.__param)(3,i6.ILanguageConfigurationService),(0,Y.__param)(4,iN.ILanguageFeatureDebounceService)],sW);class sz extends sO.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:(0,J.localize2)(1252,"Start Linked Editing"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.F2,weight:eb.KeybindingWeight.EditorContrib}})}runCommand(e,t){let i=e.get(eQ.ICodeEditorService),[o,n]=Array.isArray(t)&&t||[void 0,void 0];return ip.URI.isUri(o)&&i7.Position.isIPosition(n)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(n),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},e$.onUnexpectedError):super.runCommand(e,t)}run(e,t){let i=sW.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}let sV=sO.EditorCommand.bindToContribution(sW.get);function sB(e,t,i,o){let n=e.ordered(t);return(0,ta.first)(n.map(e=>async()=>{try{return await e.provideLinkedEditingRanges(t,i,o)}catch(e){(0,e$.onUnexpectedExternalError)(e);return}}),e=>!!e&&(0,oD.isNonEmptyArray)(e?.ranges))}(0,sO.registerEditorCommand)(new sV({id:"cancelLinkedEditingInput",precondition:sK,handler:e=>e.clearRanges(),kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,weight:eb.KeybindingWeight.EditorContrib+99,primary:ec.KeyCode.Escape,secondary:[ec.KeyMod.Shift|ec.KeyCode.Escape]}})),(0,nT.registerColor)("editor.linkedEditingBackground",{dark:tn.Color.fromHex("#f00").transparent(.3),light:tn.Color.fromHex("#f00").transparent(.3),hcDark:tn.Color.fromHex("#f00").transparent(.3),hcLight:tn.Color.white},(0,J.localize)(1253,"Background color when the editor auto renames on type.")),(0,sO.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(e,t,i)=>{let{linkedEditingRangeProvider:o}=e.get(eD.ILanguageFeaturesService);return sB(o,t,i,ed.CancellationToken.None)}),(0,sO.registerEditorContribution)(sW.ID,sW,sO.EditorContributionInstantiation.AfterFirstRender),(0,sO.registerEditorAction)(sz),e.s([],217508);var sH=Z;class sU extends sH.Disposable{static{this.ID="editor.contrib.longLinesHelper"}static get(e){return e.getContribution(sU.ID)}constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(e=>{let t=this._editor.getOption(iu.EditorOption.stopRenderingLineAfter);t>=0&&e.target.type===id.MouseTargetType.CONTENT_TEXT&&e.target.position.column>=t&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}(0,eu.registerEditorContribution)(sU.ID,sU,eu.EditorContributionInstantiation.BeforeFirstInteraction),e.s([],583763);var sG=Z,sq=eu,s$=Z;let sj={Visible:new ey.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new ey.RawContextKey("parameterHintsMultipleSignatures",!1)};async function sQ(e,t,i,o,n){for(let r of e.ordered(t))try{let e=await r.provideSignatureHelp(t,i,n,o);if(e)return e}catch(e){(0,e$.onUnexpectedExternalError)(e)}}e3.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(e,...t)=>{let[i,o,n]=t;(0,ih.assertType)(ip.URI.isUri(i)),(0,ih.assertType)(i7.Position.isIPosition(o)),(0,ih.assertType)("string"==typeof n||!n);let r=e.get(eD.ILanguageFeaturesService),s=await e.get(e2.ITextModelService).createModelReference(i);try{let e=await sQ(r.signatureHelpProvider,s.object.textEditorModel,i7.Position.lift(o),{triggerKind:nu.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:n},ed.CancellationToken.None);if(!e)return;return setTimeout(()=>e.dispose(),0),e.value}finally{s.dispose()}}),(d=i=(l=k||(k={})).Type||(l.Type={}))[d.Default=0]="Default",d[d.Active=1]="Active",d[d.Pending=2]="Pending",l.Default={type:i.Default},l.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=i.Pending}},l.Active=class{constructor(e){this.hints=e,this.type=i.Active}};class sY extends s$.Disposable{static{this.DEFAULT_DELAY=120}constructor(e,t,i=sY.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new eE.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=k.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new s$.MutableDisposable),this.triggerChars=new oA.CharacterSet,this.retriggerChars=new oA.CharacterSet,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new ta.Delayer(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===k.Type.Pending&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=k.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){let i=this.editor.getModel();if(!i||!this.providers.has(i))return;let o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(o),t).catch(e$.onUnexpectedError)}next(){if(this.state.type!==k.Type.Active)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,o=this.editor.getOption(iu.EditorOption.parameterHints).cycle;(e<2||i)&&!o?this.cancel():this.updateActiveSignature(i&&o?0:t+1)}previous(){if(this.state.type!==k.Type.Active)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,o=this.editor.getOption(iu.EditorOption.parameterHints).cycle;(e<2||i)&&!o?this.cancel():this.updateActiveSignature(i&&o?e-1:t-1)}updateActiveSignature(e){this.state.type===k.Type.Active&&(this.state=new k.Active({...this.state.hints,activeSignature:e}),this._onChangedHints.fire(this.state.hints))}async doTrigger(e){let t=this.state.type===k.Type.Active||this.state.type===k.Type.Pending,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;let o=this._pendingTriggers.reduce(sZ);this._pendingTriggers=[];let n={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;let r=this.editor.getModel(),s=this.editor.getPosition();this.state=new k.Pending((0,ta.createCancelablePromise)(e=>sQ(this.providers,r,s,n,e)),i);try{let t=await this.state.request;if(e!==this.triggerId)return t?.dispose(),!1;if(!t||!t.value.signatures||0===t.value.signatures.length)return t?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1;return this.state=new k.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0}catch(t){return e===this.triggerId&&(this.state=k.Default),(0,e$.onUnexpectedError)(t),!1}}getLastActiveHints(){switch(this.state.type){case k.Type.Active:return this.state.hints;case k.Type.Pending:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===k.Type.Active||this.state.type===k.Type.Pending||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();let e=this.editor.getModel();if(e)for(let t of this.providers.ordered(e)){for(let e of t.signatureHelpTriggerCharacters||[])if(e.length){let t=e.charCodeAt(0);this.triggerChars.add(t),this.retriggerChars.add(t)}for(let e of t.signatureHelpRetriggerCharacters||[])e.length&&this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:nu.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:nu.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:nu.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(iu.EditorOption.parameterHints).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function sZ(e,t){switch(t.triggerKind){case nu.SignatureHelpTriggerKind.Invoke:return t;case nu.SignatureHelpTriggerKind.ContentChange:return e;case nu.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}var sX=Z;(0,ti.default)('.monaco-editor .parameter-hints-widget{background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);color:var(--vscode-editorHoverWidget-foreground);cursor:default;display:flex;flex-direction:column;line-height:1.5em;z-index:39}.hc-black .monaco-editor .parameter-hints-widget,.hc-light .monaco-editor .parameter-hints-widget{border-width:2px}.monaco-editor .parameter-hints-widget>.phwrapper{display:flex;flex-direction:row;max-width:440px}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.multiple .body:before{border-left:1px solid var(--vscode-editorHoverWidget-border);content:"";display:block;height:100%;opacity:.5;position:absolute}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px;position:relative}.monaco-editor .parameter-hints-widget .signature.has-docs:after{border-bottom:1px solid var(--vscode-editorHoverWidget-border);content:"";display:block;left:0;opacity:.5;padding-top:4px;position:absolute;width:100%}.monaco-editor .parameter-hints-widget .code{font-family:var(--vscode-parameterHintsWidget-editorFontFamily),var(--vscode-parameterHintsWidget-editorFontFamilyDefault)}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs a{color:var(--vscode-textLink-foreground)}.monaco-editor .parameter-hints-widget .docs a:hover{color:var(--vscode-textLink-activeForeground);cursor:pointer}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs code{background-color:var(--vscode-textCodeBlock-background);border-radius:3px;font-family:var(--monaco-monospace-font);padding:0 .4em}.monaco-editor .parameter-hints-widget .docs .code,.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .controls{align-items:center;display:none;flex-direction:column;justify-content:flex-end;min-width:22px}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{background-repeat:no-repeat;cursor:pointer;height:16px;width:16px}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{font-family:var(--monaco-monospace-font);height:12px;line-height:12px;text-align:center}.monaco-editor .parameter-hints-widget .signature .parameter.active{color:var(--vscode-editorHoverWidget-highlightForeground);font-weight:700}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}',{});let sJ=el.$,s0=(0,nw.registerIcon)("parameter-hints-next",tP.Codicon.chevronDown,(0,J.localize)(1289,"Icon for show next parameter hint.")),s1=(0,nw.registerIcon)("parameter-hints-previous",tP.Codicon.chevronUp,(0,J.localize)(1290,"Icon for show previous parameter hint.")),s2=class extends sX.Disposable{static{A=this}static{this.ID="editor.widget.parameterHintsWidget"}constructor(e,t,i,o,n,r){super(),this.editor=e,this.model=t,this.telemetryService=r,this.renderDisposeables=this._register(new sX.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new nt.MarkdownRenderer({editor:e},n,o)),this.keyVisible=sj.Visible.bindTo(i),this.keyMultipleSignatures=sj.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){let e=sJ(".editor-widget.parameter-hints-widget"),t=(0,el.append)(e,sJ(".phwrapper"));t.tabIndex=-1;let i=(0,el.append)(t,sJ(".controls")),o=(0,el.append)(i,sJ(".button"+rD.ThemeIcon.asCSSSelector(s1))),n=(0,el.append)(i,sJ(".overloads")),r=(0,el.append)(i,sJ(".button"+rD.ThemeIcon.asCSSSelector(s0)));this._register((0,el.addDisposableListener)(o,"click",e=>{el.EventHelper.stop(e),this.previous()})),this._register((0,el.addDisposableListener)(r,"click",e=>{el.EventHelper.stop(e),this.next()}));let s=sJ(".body"),a=new nE.DomScrollableElement(s,{alwaysConsumeMouseWheel:!0});this._register(a),t.appendChild(a.getDomNode());let l=(0,el.append)(s,sJ(".signature")),d=(0,el.append)(s,sJ(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:l,overloads:n,docs:d,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));let c=()=>{if(!this.domNodes)return;let e=this.editor.getOption(iu.EditorOption.fontInfo),t=this.domNodes.element;t.style.fontSize=`${e.fontSize}px`,t.style.lineHeight=`${e.lineHeight/e.fontSize}`,t.style.setProperty("--vscode-parameterHintsWidget-editorFontFamily",e.fontFamily),t.style.setProperty("--vscode-parameterHintsWidget-editorFontFamilyDefault",iu.EDITOR_FONT_DEFAULTS.fontFamily)};c(),this._register(eE.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),e=>e.filter(e=>e.hasChanged(iu.EditorOption.fontInfo)))(c)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes?.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes?.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[id.ContentWidgetPositionPreference.ABOVE,id.ContentWidgetPositionPreference.BELOW]}:null}render(e){if(this.renderDisposeables.clear(),!this.domNodes)return;let t=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let i=e.signatures[e.activeSignature];if(!i)return;let o=(0,el.append)(this.domNodes.signature,sJ(".code")),n=i.parameters.length>0,r=i.activeParameter??e.activeParameter;n?this.renderParameters(o,i,r):(0,el.append)(o,sJ("span")).textContent=i.label;let s=i.parameters[r];if(s?.documentation){let e=sJ("span.documentation");if("string"==typeof s.documentation)e.textContent=s.documentation;else{let t=this.renderMarkdownDocs(s.documentation);e.appendChild(t.element)}(0,el.append)(this.domNodes.docs,sJ("p",{},e))}if(void 0===i.documentation);else if("string"==typeof i.documentation)(0,el.append)(this.domNodes.docs,sJ("p",{},i.documentation));else{let e=this.renderMarkdownDocs(i.documentation);(0,el.append)(this.domNodes.docs,e.element)}let a=this.hasDocs(i,s);if(this.domNodes.signature.classList.toggle("has-docs",a),this.domNodes.docs.classList.toggle("empty",!a),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,s){let e="",t=i.parameters[r];e=Array.isArray(t.label)?i.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"==typeof t.documentation?`, ${t.documentation}`:`, ${t.documentation.value}`),i.documentation&&(e+="string"==typeof i.documentation?`, ${i.documentation}`:`, ${i.documentation.value}`),this.announcedLabel!==e&&((0,tF.alert)((0,J.localize)(1291,"{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let t=new sF.StopWatch,i=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{this.domNodes?.scrollbar.scanDomNode()}}));i.element.classList.add("markdown-docs");let o=t.elapsed();return o>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:o}),i}hasDocs(e,t){return!!t&&"string"==typeof t.documentation&&!!((0,ih.assertIsDefined)(t.documentation).length>0)||!!t&&"object"==typeof t.documentation&&!!((0,ih.assertIsDefined)(t.documentation).value.length>0)||!!e.documentation&&"string"==typeof e.documentation&&!!((0,ih.assertIsDefined)(e.documentation).length>0)||!!e.documentation&&"object"==typeof e.documentation&&!!((0,ih.assertIsDefined)(e.documentation.value).length>0)}renderParameters(e,t,i){let[o,n]=this.getParameterLabelOffsets(t,i),r=document.createElement("span");r.textContent=t.label.substring(0,o);let s=document.createElement("span");s.textContent=t.label.substring(o,n),s.className="parameter active";let a=document.createElement("span");a.textContent=t.label.substring(n),(0,el.append)(e,r,s,a)}getParameterLabelOffsets(e,t){let i=e.parameters[t];if(!i)return[0,0];{if(Array.isArray(i.label))return i.label;if(!i.label.length)return[0,0];let t=RegExp(`(\\W|^)${(0,t2.escapeRegExpCharacters)(i.label)}(?=\\W|$)`,"g");t.test(e.label);let o=t.lastIndex-i.label.length;return o>=0?[o,t.lastIndex]:[0,0]}}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return A.ID}updateMaxHeight(){if(!this.domNodes)return;let e=Math.max(this.editor.getLayoutInfo().height/4,250),t=`${e}px`;this.domNodes.element.style.maxHeight=t;let i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};s2=A=(0,Y.__decorate)([(0,Y.__param)(2,ev.IContextKeyService),(0,Y.__param)(3,no.IOpenerService),(0,Y.__param)(4,o7.ILanguageService),(0,Y.__param)(5,nn.ITelemetryService)],s2),(0,nT.registerColor)("editorHoverWidget.highlightForeground",nO.listHighlightForeground,(0,J.localize)(1292,"Foreground color of the active item in the parameter hint."));let s3=class extends sG.Disposable{static{M=this}static{this.ID="editor.controller.parameterHints"}static get(e){return e.getContribution(M.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new sY(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(e=>{e?(this.widget.value.show(),this.widget.value.render(e)):this.widget.rawValue?.hide()})),this.widget=new te.Lazy(()=>this._register(t.createInstance(s2,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){this.widget.rawValue?.previous()}next(){this.widget.rawValue?.next()}trigger(e){this.model.trigger(e,0)}};s3=M=(0,Y.__decorate)([(0,Y.__param)(1,eC.IInstantiationService),(0,Y.__param)(2,eD.ILanguageFeaturesService)],s3);class s5 extends sq.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:(0,J.localize2)(1288,"Trigger Parameter Hints"),precondition:eh.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.Space,weight:eb.KeybindingWeight.EditorContrib}})}run(e,t){let i=s3.get(t);i?.trigger({triggerKind:nu.SignatureHelpTriggerKind.Invoke})}}(0,sq.registerEditorContribution)(s3.ID,s3,sq.EditorContributionInstantiation.BeforeFirstInteraction),(0,sq.registerEditorAction)(s5);let s4=eb.KeybindingWeight.EditorContrib+75,s6=sq.EditorCommand.bindToContribution(s3.get);(0,sq.registerEditorCommand)(new s6({id:"closeParameterHints",precondition:sj.Visible,handler:e=>e.cancel(),kbOpts:{weight:s4,kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyCode.Escape,secondary:[ec.KeyMod.Shift|ec.KeyCode.Escape]}})),(0,sq.registerEditorCommand)(new s6({id:"showPrevParameterHint",precondition:ey.ContextKeyExpr.and(sj.Visible,sj.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:s4,kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyCode.UpArrow,secondary:[ec.KeyMod.Alt|ec.KeyCode.UpArrow],mac:{primary:ec.KeyCode.UpArrow,secondary:[ec.KeyMod.Alt|ec.KeyCode.UpArrow,ec.KeyMod.WinCtrl|ec.KeyCode.KeyP]}}})),(0,sq.registerEditorCommand)(new s6({id:"showNextParameterHint",precondition:ey.ContextKeyExpr.and(sj.Visible,sj.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:s4,kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyCode.DownArrow,secondary:[ec.KeyMod.Alt|ec.KeyCode.DownArrow],mac:{primary:ec.KeyCode.DownArrow,secondary:[ec.KeyMod.Alt|ec.KeyCode.DownArrow,ec.KeyMod.WinCtrl|ec.KeyCode.KeyN]}}})),e.s([],39192),(0,ti.default)(".monaco-editor{--vscode-editor-placeholder-foreground:var(--vscode-editorGhostText-foreground);.editorPlaceholder{text-wrap:nowrap;color:var(--vscode-editor-placeholder-foreground);overflow:hidden;pointer-events:none;position:absolute;text-overflow:ellipsis;top:0}}",{});var s8=e.i(425156),s9=e.i(314479);e.i(350322),(0,eu.registerEditorContribution)(s9.PlaceholderTextContribution.ID,s9.PlaceholderTextContribution,eu.EditorContributionInstantiation.Eager),(0,nT.registerColor)("editor.placeholder.foreground",s8.ghostTextForeground,(0,J.localize)(1310,"Foreground color of the placeholder text in the editor.")),e.s([],381853);var s7=eu,ae=e.i(578725),at=e.i(623947),ai=e.i(72985),ao=em,an=e.i(630903),ar=e.i(426100);(0,ti.default)(".monaco-editor .rename-box{border-radius:4px;color:inherit;z-index:100}.monaco-editor .rename-box.preview{padding:4px 4px 0}.monaco-editor .rename-box .rename-input-with-button{border-radius:2px;padding:3px;width:calc(100% - 8px)}.monaco-editor .rename-box .rename-input{padding:0;width:calc(100% - 8px)}.monaco-editor .rename-box .rename-input:focus{outline:none}.monaco-editor .rename-box .rename-suggestions-button{align-items:center;background-color:transparent;border:none;border-radius:5px;cursor:pointer;display:flex;padding:3px}.monaco-editor .rename-box .rename-suggestions-button:hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-editor .rename-box .rename-candidate-list-container .monaco-list-row{border-radius:2px}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}",{});var as=e.i(850331),aa=e.i(223658);let al=new ey.RawContextKey("renameInputVisible",!1,(0,J.localize)(1361,"Whether the rename input widget is visible")),ad=class{constructor(e,t,i,o,n,r){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=o,this._logService=r,this.allowEditorOverflow=!0,this._disposables=new Z.DisposableStore,this._visibleContextKey=al.bindTo(n),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new sF.StopWatch,this._inputWithButton=new au,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(iu.EditorOption.fontInfo)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new ac(this._domNode,{fontInfo:this._editor.getOption(iu.EditorOption.fontInfo),onFocusChange:e=>{this._inputWithButton.input.value=e,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{this._renameCandidateListView?.focusedCandidate!==void 0&&(this._isEditingRenameCandidate=!0),this._timeBeforeFirstInputFieldEdit??=this._beforeFirstInputFieldEditSW.elapsed(),this._renameCandidateProvidersCts?.token.isCancellationRequested===!1&&this._renameCandidateProvidersCts.cancel(),this._renameCandidateListView?.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){if(!this._domNode)return;let t=e.getColor(nN.widgetShadow),i=e.getColor(nN.widgetBorder);this._domNode.style.backgroundColor=String(e.getColor(nN.editorWidgetBackground)??""),this._domNode.style.boxShadow=t?` 0 0 8px 2px ${t}`:"",this._domNode.style.border=i?`1px solid ${i}`:"",this._domNode.style.color=String(e.getColor(nP.inputForeground)??"");let o=e.getColor(nP.inputBorder);this._inputWithButton.domNode.style.backgroundColor=String(e.getColor(nP.inputBackground)??""),this._inputWithButton.input.style.backgroundColor=String(e.getColor(nP.inputBackground)??""),this._inputWithButton.domNode.style.borderWidth=o?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=o?"solid":"none",this._inputWithButton.domNode.style.borderColor=o?.toString()??"none"}_updateFont(){if(void 0===this._domNode)return;(0,ih.assertType)(void 0!==this._label,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);let e=this._editor.getOption(iu.EditorOption.fontInfo);this._label.style.fontSize=`${this._computeLabelFontSize(e.fontSize)}px`}_computeLabelFontSize(e){return .8*e}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;let e=(0,el.getClientArea)(this.getDomNode().ownerDocument.body),t=(0,el.getDomNodePagePosition)(this._editor.getDomNode()),i=this._getTopForPosition();this._nPxAvailableAbove=i+t.top,this._nPxAvailableBelow=e.height-this._nPxAvailableAbove;let o=this._editor.getOption(iu.EditorOption.lineHeight),{totalHeight:n}=ah.getLayoutInfo({lineHeight:o}),r=this._nPxAvailableBelow>6*n?[id.ContentWidgetPositionPreference.BELOW,id.ContentWidgetPositionPreference.ABOVE]:[id.ContentWidgetPositionPreference.ABOVE,id.ContentWidgetPositionPreference.BELOW];return{position:this._position,preference:r}}beforeRender(){let[e,t]=this._acceptKeybindings;return this._label.innerText=(0,J.localize)(1362,"{0} to Rename, {1} to Preview",this._keybindingService.lookupKeybinding(e)?.getLabel(),this._keybindingService.lookupKeybinding(t)?.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(e){let t;if(null===e)return void this.cancelInput(!0,"afterRender (because position is null)");if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,ih.assertType)(this._renameCandidateListView),(0,ih.assertType)(void 0!==this._nPxAvailableAbove),(0,ih.assertType)(void 0!==this._nPxAvailableBelow);let i=(0,el.getTotalHeight)(this._inputWithButton.domNode),o=(0,el.getTotalHeight)(this._label);t=e===id.ContentWidgetPositionPreference.BELOW?this._nPxAvailableBelow:this._nPxAvailableAbove,this._renameCandidateListView.layout({height:t-o-i,width:(0,el.getTotalWidth)(this._inputWithButton.domNode)})}acceptInput(e){this._trace("invoking acceptInput"),this._currentAcceptInput?.(e)}cancelInput(e,t){this._currentCancelInput?.(e)}focusNextRenameSuggestion(){this._renameCandidateListView?.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){this._renameCandidateListView?.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(e,t,i,o,n){let{start:r,end:s}=this._getSelection(e,t);this._renameCts=n;let a=new Z.DisposableStore;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,void 0===o?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=o,this._requestRenameCandidates(t,!1),a.add((0,el.addDisposableListener)(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(t,!0))),a.add((0,el.addDisposableListener)(this._inputWithButton.button,el.EventType.KEY_DOWN,e=>{let i=new ts.StandardKeyboardEvent(e);(i.equals(ec.KeyCode.Enter)||i.equals(ec.KeyCode.Space))&&(i.stopPropagation(),i.preventDefault(),this._requestRenameCandidates(t,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",i),this._position=new i7.Position(e.startLineNumber,e.startColumn),this._currentName=t,this._inputWithButton.input.value=t,this._inputWithButton.input.setAttribute("selectionStart",r.toString()),this._inputWithButton.input.setAttribute("selectionEnd",s.toString()),this._inputWithButton.input.size=Math.max((e.endColumn-e.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),a.add((0,Z.toDisposable)(()=>{this._renameCts=void 0,n.dispose(!0)})),a.add((0,Z.toDisposable)(()=>{void 0!==this._renameCandidateProvidersCts&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),a.add((0,Z.toDisposable)(()=>this._candidates.clear()));let l=new ta.DeferredPromise;return l.p.finally(()=>{a.dispose(),this._hide()}),this._currentCancelInput=e=>(this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView?.clearCandidates(),l.complete(e),!0),this._currentAcceptInput=e=>{let o,n;this._trace("invoking _currentAcceptInput"),(0,ih.assertType)(void 0!==this._renameCandidateListView);let r=this._renameCandidateListView.nCandidates,s=this._renameCandidateListView.focusedCandidate;(void 0!==s?(this._trace("using new name from renameSuggestion"),o=s,n={k:"renameSuggestion"}):(this._trace("using new name from inputField"),o=this._inputWithButton.input.value,n=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),o===t||0===o.trim().length)?this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)"):(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),l.complete({newName:o,wantsPreview:i&&e,stats:{source:n,nRenameSuggestions:r,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}}))},a.add(n.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!this._domNode?.ownerDocument.hasFocus(),"editor.onDidBlurEditorWidget"))),this._show(),l.p}_requestRenameCandidates(e,t){if(void 0!==this._requestRenameCandidatesOnce&&(void 0!==this._renameCandidateProvidersCts&&this._renameCandidateProvidersCts.dispose(!0),(0,ih.assertType)(this._renameCts),"stop"!==this._inputWithButton.buttonState)){this._renameCandidateProvidersCts=new ed.CancellationTokenSource;let i=t?nu.NewSymbolNameTriggerKind.Invoke:nu.NewSymbolNameTriggerKind.Automatic,o=this._requestRenameCandidatesOnce(i,this._renameCandidateProvidersCts.token);if(0===o.length)return void this._inputWithButton.setSparkleButton();t||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(o,e,this._renameCts.token)}}_getSelection(e,t){(0,ih.assertType)(this._editor.hasModel());let i=this._editor.getSelection(),o=0,n=t.length;return!tQ.Range.isEmpty(i)&&!tQ.Range.spansMultipleLines(i)&&tQ.Range.containsRange(e,i)&&(o=Math.max(0,i.startColumn-e.startColumn),n=Math.min(e.endColumn,i.endColumn)-e.startColumn),{start:o,end:n}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,op.ScrollType.Smooth),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(e,t,i){let o=(...e)=>this._trace("_updateRenameCandidates",...e);o("start");let n=await (0,ta.raceCancellation)(Promise.allSettled(e),i);if(this._inputWithButton.setSparkleButton(),void 0===n)return void o("returning early - received updateRenameCandidates results - undefined");let r=n.flatMap(e=>"fulfilled"===e.status&&(0,ih.isDefined)(e.value)?e.value:[]);o(`received updateRenameCandidates results - total (unfiltered) ${r.length} candidates.`);let s=(0,oD.distinct)(r,e=>e.newSymbolName);o(`distinct candidates - ${s.length} candidates.`);let a=s.filter(({newSymbolName:e})=>e.trim().length>0&&e!==this._inputWithButton.input.value&&e!==t&&!this._candidates.has(e));(o(`valid distinct candidates - ${r.length} candidates.`),a.forEach(e=>this._candidates.add(e.newSymbolName)),a.length<1)?o("returning early - no valid distinct candidates"):(o("setting candidates"),this._renameCandidateListView.setCandidates(a),o("asking editor to re-layout"),this._editor.layoutContentWidget(this))}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){let e,t=this._editor.getVisibleRanges();return t.length>0?e=t[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),e=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(e)}_trace(...e){this._logService.trace("RenameWidget",...e)}};ad=(0,Y.__decorate)([(0,Y.__param)(2,iq.IThemeService),(0,Y.__param)(3,eM.IKeybindingService),(0,Y.__param)(4,ev.IContextKeyService),(0,Y.__param)(5,th.ILogService)],ad);class ac{constructor(e,t){this._disposables=new Z.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=t.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=t.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",e.appendChild(this._listContainer),this._listWidget=ac._createListWidget(this._listContainer,this._candidateViewHeight,t.fontInfo),this._listWidget.onDidChangeFocus(e=>{1===e.elements.length&&t.onFocusChange(e.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(e=>{1===e.elements.length&&t.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(e=>{this._listWidget.setFocus([])})),this._listWidget.style((0,aa.getListStyles)({listInactiveFocusForeground:nK.quickInputListFocusForeground,listInactiveFocusBackground:nK.quickInputListFocusBackground}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:e,width:t}){this._availableHeight=e,this._minimumWidth=t}setCandidates(e){this._listWidget.splice(0,0,e);let t=this._pickListHeight(this._listWidget.length),i=this._pickListWidth(e);this._listWidget.layout(t,i),this._listContainer.style.height=`${t}px`,this._listContainer.style.width=`${i}px`,(0,tF.status)((0,J.localize)(1363,"Received {0} rename suggestions",e.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(0===this._listWidget.length)return;let e=this._listWidget.getSelectedElements()[0];if(void 0!==e)return e.newSymbolName;let t=this._listWidget.getFocusedElements()[0];if(void 0!==t)return t.newSymbolName}focusNext(){if(0===this._listWidget.length)return!1;let e=this._listWidget.getFocus();if(0===e.length)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(e[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}focusPrevious(){if(0===this._listWidget.length)return!1;let e=this._listWidget.getFocus();if(0===e.length){this._listWidget.focusLast();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}if(0===e[0])return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){let{totalHeight:e}=ah.getLayoutInfo({lineHeight:this._lineHeight});return e}_pickListHeight(e){return Math.min(this._candidateViewHeight*e,this._availableHeight,7*this._candidateViewHeight)}_pickListWidth(e){let t=Math.ceil(Math.max(...e.map(e=>e.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+t+10)}static _createListWidget(e,t,i){let o=new class{getTemplateId(e){return"candidate"}getHeight(e){return t}},n=new class{constructor(){this.templateId="candidate"}renderTemplate(e){return new ah(e,i)}renderElement(e,t,i){i.populate(e)}disposeTemplate(e){e.dispose()}};return new ar.List("NewSymbolNameCandidates",e,o,[n],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class au{constructor(){this._buttonHoverContent="",this._onDidInputChange=new eE.Emitter,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new Z.DisposableStore}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,J.localize)(1364,"Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=(0,J.localize)(1365,"Generate new name suggestions"),this._buttonCancelHoverText=(0,J.localize)(1366,"Cancel"),this._buttonHoverContent=this._buttonGenHoverText,this._disposables.add((0,an.getBaseLayerHoverDelegate)().setupDelayedHover(this._buttonNode,()=>({content:this._buttonHoverContent,appearance:{showPointer:!0,compact:!0}}))),this._domNode.appendChild(this._buttonNode),this._disposables.add((0,el.addDisposableListener)(this.input,el.EventType.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add((0,el.addDisposableListener)(this.input,el.EventType.KEY_DOWN,e=>{let t=new ts.StandardKeyboardEvent(e);(t.keyCode===ec.KeyCode.LeftArrow||t.keyCode===ec.KeyCode.RightArrow)&&this._onDidInputChange.fire()})),this._disposables.add((0,el.addDisposableListener)(this.input,el.EventType.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add((0,el.addDisposableListener)(this.input,el.EventType.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add((0,el.addDisposableListener)(this.input,el.EventType.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,ih.assertType)(this._inputNode),this._inputNode}get button(){return(0,ih.assertType)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){this._buttonState="sparkle",this._sparkleIcon??=(0,iE.renderIcon)(tP.Codicon.sparkle),(0,el.clearNode)(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),this._buttonHoverContent=this._buttonGenHoverText,this.input.focus()}setStopButton(){this._buttonState="stop",this._stopIcon??=(0,iE.renderIcon)(tP.Codicon.stopCircle),(0,el.clearNode)(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),this._buttonHoverContent=this._buttonCancelHoverText,this.input.focus()}dispose(){this._disposables.dispose()}}class ah{static{this._PADDING=2}constructor(e,t){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${t.lineHeight}px`,this._domNode.style.padding=`${ah._PADDING}px`;const i=document.createElement("div");i.style.display="flex",i.style.alignItems="center",i.style.width=i.style.height=`${.8*t.lineHeight}px`,this._domNode.appendChild(i),this._icon=(0,iE.renderIcon)(tP.Codicon.sparkle),this._icon.style.display="none",i.appendChild(this._icon),this._label=document.createElement("div"),(0,as.applyFontInfo)(this._label,t),this._domNode.appendChild(this._label),e.appendChild(this._domNode)}populate(e){this._updateIcon(e),this._updateLabel(e)}_updateIcon(e){let t=!!e.tags?.includes(nu.NewSymbolNameTag.AIGenerated);this._icon.style.display=t?"inherit":"none"}_updateLabel(e){this._label.innerText=e.newSymbolName}static getLayoutInfo({lineHeight:e}){return{totalHeight:e+2*ah._PADDING}}dispose(){}}class ap{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(e){let t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;let o=await i.resolveRenameLocation(this.model,this.position,e);if(o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}this._providerRenameIdx=0;let i=this.model.getWordAtPosition(this.position);return i?{range:new tQ.Range(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:tQ.Range.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}async provideRenameEdits(e,t){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}async _provideRenameEdits(e,t,i,o){let n=this._providers[t];if(!n)return{edits:[],rejectReason:i.join("\n")};let r=await n.provideRenameEdits(this.model,this.position,e,o);return r?r.rejectReason?this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),o):r:this._provideRenameEdits(e,t+1,i.concat((0,J.localize)(1350,"No result.")),o)}}async function ag(e,t,i,o){let n=new ap(t,i,e),r=await n.resolveRenameLocation(ed.CancellationToken.None);return r?.rejectReason?{edits:[],rejectReason:r.rejectReason}:n.provideRenameEdits(o,ed.CancellationToken.None)}let am=class{static{L=this}static{this.ID="editor.contrib.renameController"}static get(e){return e.getContribution(L.ID)}constructor(e,t,i,o,n,r,s,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=o,this._progressService=n,this._logService=r,this._configService=s,this._languageFeaturesService=a,this._telemetryService=l,this._disposableStore=new Z.DisposableStore,this._cts=new ed.CancellationTokenSource,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(ad,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){let e,t=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new ed.CancellationTokenSource,!this.editor.hasModel())return void t("editor has no model");let i=this.editor.getPosition(),o=new ap(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!o.hasProvider())return void t("skeleton has no provider");let n=new r5.EditorStateCancellationTokenSource(this.editor,r5.CodeEditorStateFlag.Position|r5.CodeEditorStateFlag.Value,void 0,this._cts.token);try{t("resolving rename location");let i=o.resolveRenameLocation(n.token);this._progressService.showWhile(i,250),e=await i,t("resolved rename location")}catch(e){e instanceof e$.CancellationError?t("resolve rename location cancelled",JSON.stringify(e,null,"	")):(t("resolve rename location failed",e instanceof Error?e:JSON.stringify(e,null,"	")),("string"==typeof e||(0,tK.isMarkdownString)(e))&&ai.MessageController.get(this.editor)?.showMessage(e||(0,J.localize)(1351,"An unknown error occurred while resolving rename location"),i));return}finally{n.dispose()}if(!e)return void t("returning early - no loc");if(e.rejectReason){t(`returning early - rejected with reason: ${e.rejectReason}`,e.rejectReason),ai.MessageController.get(this.editor)?.showMessage(e.rejectReason,i);return}if(n.token.isCancellationRequested)return void t("returning early - cts1 cancelled");let r=new r5.EditorStateCancellationTokenSource(this.editor,r5.CodeEditorStateFlag.Position|r5.CodeEditorStateFlag.Value,e.range,this._cts.token),s=this.editor.getModel(),a=this._languageFeaturesService.newSymbolNamesProvider.all(s),l=await Promise.all(a.map(async e=>[e,await e.supportsAutomaticNewSymbolNamesTriggerKind??!1]));t("creating rename input field and awaiting its result");let d=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),c=await this._renameWidget.getInput(e.range,e.text,d,a.length>0?(t,i)=>{let o=l.slice();return t===nu.NewSymbolNameTriggerKind.Automatic&&(o=o.filter(([e,t])=>t)),o.map(([o])=>o.provideNewSymbolNames(s,e.range,t,i))}:void 0,r);if(t("received response from rename input field"),a.length>0&&this._reportTelemetry(a.length,s.getLanguageId(),c),"boolean"==typeof c){t(`returning early - rename input field response - ${c}`),c&&this.editor.focus(),r.dispose();return}this.editor.focus(),t("requesting rename edits");let u=(0,ta.raceCancellation)(o.provideRenameEdits(c.newName,r.token),r.token).then(async i=>{if(!i)return void t("returning early - no rename edits result");if(!this.editor.hasModel())return void t("returning early - no model after rename edits are provided");if(i.rejectReason){t(`returning early - rejected with reason: ${i.rejectReason}`),this._notificationService.info(i.rejectReason);return}this.editor.setSelection(tQ.Range.fromPositions(this.editor.getSelection().getPosition())),t("applying edits"),this._bulkEditService.apply(i,{editor:this.editor,showPreview:c.wantsPreview,label:(0,J.localize)(1352,"Renaming '{0}' to '{1}'",e?.text,c.newName),code:"undoredo.rename",quotableLabel:(0,J.localize)(1353,"Renaming {0} to {1}",e?.text,c.newName),respectAutoSaveConfig:!0}).then(i=>{t("edits applied"),i.ariaSummary&&(0,tF.alert)((0,J.localize)(1354,"Successfully renamed '{0}' to '{1}'. Summary: {2}",e.text,c.newName,i.ariaSummary))}).catch(e=>{t(`error when applying edits ${JSON.stringify(e,null,"	")}`),this._notificationService.error((0,J.localize)(1355,"Rename failed to apply edits")),this._logService.error(e)})},e=>{t("error when providing rename edits",JSON.stringify(e,null,"	")),this._notificationService.error((0,J.localize)(1356,"Rename failed to compute edits")),this._logService.error(e)}).finally(()=>{r.dispose()});return t("returning rename operation"),this._progressService.showWhile(u,250),u}acceptRenameInput(e){this._renameWidget.acceptInput(e)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(e,t,i){let o="boolean"==typeof i?{kind:"cancelled",languageId:t,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:t,nRenameSuggestionProviders:e,source:i.stats.source.k,nRenameSuggestions:i.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:i.stats.timeBeforeFirstInputFieldEdit,wantsPreview:i.wantsPreview,nRenameSuggestionsInvocations:i.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:i.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",o)}};am=L=(0,Y.__decorate)([(0,Y.__param)(1,eC.IInstantiationService),(0,Y.__param)(2,iR.INotificationService),(0,Y.__param)(3,ae.IBulkEditService),(0,Y.__param)(4,oR.IEditorProgressService),(0,Y.__param)(5,th.ILogService),(0,Y.__param)(6,at.ITextResourceConfigurationService),(0,Y.__param)(7,eD.ILanguageFeaturesService),(0,Y.__param)(8,nn.ITelemetryService)],am);class a_ extends s7.EditorAction{constructor(){super({id:"editor.action.rename",label:(0,J.localize2)(1357,"Rename Symbol"),precondition:ey.ContextKeyExpr.and(eh.EditorContextKeys.writable,eh.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:eh.EditorContextKeys.editorTextFocus,primary:ec.KeyCode.F2,weight:eb.KeybindingWeight.EditorContrib},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){let i=e.get(eQ.ICodeEditorService),[o,n]=Array.isArray(t)&&t||[void 0,void 0];return ip.URI.isUri(o)&&i7.Position.isIPosition(n)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(n),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},e$.onUnexpectedError):super.runCommand(e,t)}run(e,t){let i=e.get(th.ILogService),o=am.get(t);return o?(i.trace("[RenameAction] got controller, running..."),o.run()):(i.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}(0,s7.registerEditorContribution)(am.ID,am,s7.EditorContributionInstantiation.Lazy),(0,s7.registerEditorAction)(a_);let af=s7.EditorCommand.bindToContribution(am.get);(0,s7.registerEditorCommand)(new af({id:"acceptRenameInput",precondition:al,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:eb.KeybindingWeight.EditorContrib+99,kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.focus,ey.ContextKeyExpr.not("isComposing")),primary:ec.KeyCode.Enter}})),(0,s7.registerEditorCommand)(new af({id:"acceptRenameInputWithPreview",precondition:ey.ContextKeyExpr.and(al,ey.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:eb.KeybindingWeight.EditorContrib+99,kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.focus,ey.ContextKeyExpr.not("isComposing")),primary:ec.KeyMod.CtrlCmd+ec.KeyCode.Enter}})),(0,s7.registerEditorCommand)(new af({id:"cancelRenameInput",precondition:al,handler:e=>e.cancelRenameInput(),kbOpts:{weight:eb.KeybindingWeight.EditorContrib+99,kbExpr:eh.EditorContextKeys.focus,primary:ec.KeyCode.Escape,secondary:[ec.KeyMod.Shift|ec.KeyCode.Escape]}})),(0,ao.registerAction2)(class extends ao.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...(0,J.localize2)(1358,"Focus Next Rename Suggestion")},precondition:al,keybinding:[{primary:ec.KeyCode.DownArrow,weight:eb.KeybindingWeight.EditorContrib+99}]})}run(e){let t=e.get(eQ.ICodeEditorService).getFocusedCodeEditor();if(!t)return;let i=am.get(t);i&&i.focusNextRenameSuggestion()}}),(0,ao.registerAction2)(class extends ao.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...(0,J.localize2)(1359,"Focus Previous Rename Suggestion")},precondition:al,keybinding:[{primary:ec.KeyCode.UpArrow,weight:eb.KeybindingWeight.EditorContrib+99}]})}run(e){let t=e.get(eQ.ICodeEditorService).getFocusedCodeEditor();if(!t)return;let i=am.get(t);i&&i.focusPreviousRenameSuggestion()}}),(0,s7.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(e,t,i,...o){let[n]=o;(0,ih.assertType)("string"==typeof n);let{renameProvider:r}=e.get(eD.ILanguageFeaturesService);return ag(r,t,i,n)}),(0,s7.registerModelAndPositionCommand)("_executePrepareRename",async function(e,t,i){let{renameProvider:o}=e.get(eD.ILanguageFeaturesService),n=new ap(t,i,o),r=await n.resolveRenameLocation(ed.CancellationToken.None);if(r?.rejectReason)throw Error(r.rejectReason);return r}),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE,description:(0,J.localize)(1360,"Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}}),e.s([],471590);var ay=Z;let av=class extends ay.Disposable{static{this.ID="editor.sectionHeaderDetector"}constructor(e,t,i){super(),this.editor=e,this.languageConfigurationService=t,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(e.getOption(iu.EditorOption.minimap)),this.computePromise=null,this.currentOccurrences={},this._register(e.onDidChangeModel(t=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(iu.EditorOption.minimap)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(e.onDidChangeModelLanguage(t=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(iu.EditorOption.minimap)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(t.onDidChange(t=>{let i=this.editor.getModel()?.getLanguageId();i&&t.affects(i)&&(this.currentOccurrences={},this.options=this.createOptions(e.getOption(iu.EditorOption.minimap)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(e.onDidChangeConfiguration(t=>{(!this.options||t.hasChanged(iu.EditorOption.minimap))&&(this.options=this.createOptions(e.getOption(iu.EditorOption.minimap)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(e=>{this.computeSectionHeaders.schedule()})),this._register(e.onDidChangeModelTokens(e=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new ta.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(e){if(!e||!this.editor.hasModel())return;let t=this.editor.getModel().getLanguageId();if(!t)return;let i=this.languageConfigurationService.getLanguageConfiguration(t).comments,o=this.languageConfigurationService.getLanguageConfiguration(t).foldingRules;if(i||o?.markers)return{foldingRules:o,findMarkSectionHeaders:e.showMarkSectionHeaders,findRegionSectionHeaders:e.showRegionSectionHeaders}}findSectionHeaders(){if(!this.editor.hasModel()||!this.options?.findMarkSectionHeaders&&!this.options?.findRegionSectionHeaders)return;let e=this.editor.getModel();if(e.isDisposed()||e.isTooLargeForSyncing())return;let t=e.getVersionId();this.editorWorkerService.findSectionHeaders(e.uri,this.options).then(i=>{e.isDisposed()||e.getVersionId()!==t||this.updateDecorations(i)})}updateDecorations(e){let t=this.editor.getModel();t&&(e=e.filter(e=>{if(!e.shouldBeInComments)return!0;let i=t.validateRange(e.range),o=t.tokenization.getLineTokens(i.startLineNumber),n=o.findTokenIndexAtOffset(i.startColumn-1),r=o.getStandardTokenType(n);return o.getLanguageId(n)===t.getLanguageId()&&r===rN.StandardTokenType.Comment}));let i=Object.values(this.currentOccurrences).map(e=>e.decorationId),o=e.map(e=>{var t;return{range:(t=e).range,options:ix.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:tV.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:tV.MinimapPosition.Inline,sectionHeaderStyle:t.hasSeparatorLine?tV.MinimapSectionHeaderStyle.Underlined:tV.MinimapSectionHeaderStyle.Normal,sectionHeaderText:t.text}})}});this.editor.changeDecorations(t=>{let n=t.deltaDecorations(i,o);this.currentOccurrences={};for(let t=0,i=n.length;t<i;t++){let i={sectionHeader:e[t],decorationId:n[t]};this.currentOccurrences[i.decorationId]=i}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};av=(0,Y.__decorate)([(0,Y.__param)(1,i6.ILanguageConfigurationService),(0,Y.__param)(2,iG.IEditorWorkerService)],av),(0,eu.registerEditorContribution)(av.ID,av,eu.EditorContributionInstantiation.AfterFirstRender),e.s([],486988);var aC=Z,ab=e.i(977681),aS=e.i(623096),aw=e.i(259206),aE=e.i(158367);let aI=class extends aC.Disposable{constructor(e,t,i,o,n,r){super(),this._watchers=new iy.ResourceMap;const s=t=>{this._watchers.get(t.uri)?.dispose(),this._watchers.set(t.uri,new ax(t,e,i,n,r))},a=(e,t)=>{t.dispose(),this._watchers.delete(e.uri)},l=()=>{for(let e of t.getModels()){let t=this._watchers.get(e.uri);(0,aE.isSemanticColoringEnabled)(e,i,o)?t||s(e):t&&a(e,t)}};t.getModels().forEach(e=>{(0,aE.isSemanticColoringEnabled)(e,i,o)&&s(e)}),this._register(t.onModelAdded(e=>{(0,aE.isSemanticColoringEnabled)(e,i,o)&&s(e)})),this._register(t.onModelRemoved(e=>{let t=this._watchers.get(e.uri);t&&a(e,t)})),this._register(o.onDidChangeConfiguration(e=>{e.affectsConfiguration(aE.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&l()})),this._register(i.onDidColorThemeChange(l))}dispose(){(0,aC.dispose)(this._watchers.values()),this._watchers.clear(),super.dispose()}};aI=(0,Y.__decorate)([(0,Y.__param)(0,aS.ISemanticTokensStylingService),(0,Y.__param)(1,ig.IModelService),(0,Y.__param)(2,iq.IThemeService),(0,Y.__param)(3,es.IConfigurationService),(0,Y.__param)(4,iN.ILanguageFeatureDebounceService),(0,Y.__param)(5,eD.ILanguageFeaturesService)],aI);let ax=class extends aC.Disposable{static{T=this}static{this.REQUEST_MIN_DELAY=300}static{this.REQUEST_MAX_DELAY=2e3}constructor(e,t,i,o,n){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=n.documentSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentSemanticTokens",{min:T.REQUEST_MIN_DELAY,max:T.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new ta.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),T.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const r=()=>{for(let t of((0,aC.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._provider.all(e)))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};r(),this._register(this._provider.onDidChange(()=>{r(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,aC.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,aw.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;let e=new ed.CancellationTokenSource,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,o=(0,aw.getDocumentSemanticTokens)(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;let n=[],r=this._model.onDidChangeContent(e=>{n.push(e)}),s=new sF.StopWatch(!1);o.then(e=>{if(this._debounceInformation.update(this._model,s.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),e){let{provider:t,tokens:i}=e,o=this._semanticTokensStylingService.getStyling(t);this._setDocumentSemanticTokens(t,i||null,o,n)}else this._setDocumentSemanticTokens(null,null,null,n)},e=>{e&&((0,e$.isCancellationError)(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||(0,e$.onUnexpectedError)(e),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),(n.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})}static _copy(e,t,i,o,n){n=Math.min(n,i.length-o,e.length-t);for(let r=0;r<n;r++)i[o+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,o){let n=this._currentDocumentResponse,r=()=>{(o.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i)return void this._model.tokenization.setSemanticTokens(null,!1);if(!t){this._model.tokenization.setSemanticTokens(null,!0),r();return}if((0,aw.isSemanticTokensEdits)(t)){if(!n)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:n.data};else{let e=0;for(let i of t.edits)e+=(i.data?i.data.length:0)-i.deleteCount;let o=n.data,r=new Uint32Array(o.length+e),s=o.length,a=r.length;for(let e=t.edits.length-1;e>=0;e--){let l=t.edits[e];if(l.start>o.length){i.warnInvalidEditStart(n.resultId,t.resultId,e,l.start,o.length),this._model.tokenization.setSemanticTokens(null,!0);return}let d=s-(l.start+l.deleteCount);d>0&&(T._copy(o,s-d,r,a-d,d),a-=d),l.data&&(T._copy(l.data,0,r,a-l.data.length,l.data.length),a-=l.data.length),s=l.start}s>0&&T._copy(o,0,r,0,s),t={resultId:t.resultId,data:r}}}if((0,aw.isSemanticTokens)(t)){this._currentDocumentResponse=new aD(e,t.resultId,t.data);let n=(0,ab.toMultilineTokens2)(t,i,this._model.getLanguageId());if(o.length>0)for(let e of o)for(let t of n)for(let i of e.changes)t.applyEdit(i.range,i.text);this._model.tokenization.setSemanticTokens(n,!0)}else this._model.tokenization.setSemanticTokens(null,!0);r()}};ax=T=(0,Y.__decorate)([(0,Y.__param)(1,aS.ISemanticTokensStylingService),(0,Y.__param)(2,iq.IThemeService),(0,Y.__param)(3,iN.ILanguageFeatureDebounceService),(0,Y.__param)(4,eD.ILanguageFeaturesService)],ax);class aD{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,eY.registerEditorFeature)(aI),e.s([],697340);var ak=eu,aA=em,aM=Z,aL=e.i(52273),aT=Z;(0,ti.default)(".monaco-editor .sticky-widget{overflow:hidden}.monaco-editor .sticky-widget-line-numbers{background-color:inherit;float:left}.monaco-editor .sticky-widget-lines-scrollable{background-color:inherit;display:inline-block;overflow:hidden;position:absolute;width:var(--vscode-editorStickyScroll-scrollableWidth)}.monaco-editor .sticky-widget-lines{background-color:inherit;position:absolute}.monaco-editor .sticky-line-content,.monaco-editor .sticky-line-number{background-color:inherit;color:var(--vscode-editorLineNumber-foreground);display:inline-block;position:absolute;white-space:nowrap}.monaco-editor .sticky-line-number .codicon-folding-collapsed,.monaco-editor .sticky-line-number .codicon-folding-expanded{float:right;transition:var(--vscode-editorStickyScroll-foldingOpacityTransition)}.monaco-editor .sticky-line-content{background-color:inherit;white-space:nowrap;width:var(--vscode-editorStickyScroll-scrollableWidth)}.monaco-editor .sticky-line-number-inner{display:inline-block;text-align:right}.monaco-editor .sticky-widget{border-bottom:1px solid var(--vscode-editorStickyScroll-border)}.monaco-editor .sticky-line-content:hover{background-color:var(--vscode-editorStickyScrollHover-background);cursor:pointer}.monaco-editor .sticky-widget{background-color:var(--vscode-editorStickyScroll-background);box-shadow:var(--vscode-editorStickyScroll-shadow) 0 4px 2px -2px;right:auto!important;width:100%;z-index:4}.monaco-editor .sticky-widget.peek{background-color:var(--vscode-peekViewEditorStickyScroll-background)}",{});var aR=e.i(969585),aN=e.i(357969),aP=e.i(105095),aO=e.i(607862),aF=e.i(180717),aK=e.i(482999);class aW{constructor(e,t,i,o=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=o}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&(0,oD.equals)(this.startLineNumbers,e.startLineNumbers)&&(0,oD.equals)(this.endLineNumbers,e.endLineNumbers)}static get Empty(){return new aW([],[],0)}}let az=(0,aL.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:e=>e}),aV="data-sticky-line-index",aB="data-sticky-is-line",aH="data-sticky-is-folding-icon";class aU extends aT.Disposable{constructor(e){super(),this._editor=e,this._foldingIconStore=new aT.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(iu.EditorOption.lineHeight),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof aN.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(iu.EditorOption.stickyScroll).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(iu.EditorOption.stickyScroll)&&t(),e.hasChanged(iu.EditorOption.lineHeight)&&(this._lineHeight=this._editor.getOption(iu.EditorOption.lineHeight))})),this._register(this._editor.onDidScrollChange(e=>{e.scrollLeftChanged&&t(),e.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(e=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(e){return this._renderedStickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i){if(void 0===i&&(!this._previousState&&!e||this._previousState&&this._previousState.equals(e)))return;let o=this._isWidgetHeightZero(e),n=o?void 0:e,r=o?0:this._findLineToRebuildWidgetFrom(e,i);this._renderRootNode(n,t,r),this._previousState=e}_isWidgetHeightZero(e){if(!e)return!0;let t=e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition;if(t>0){this._lastLineRelativePosition=e.lastLineRelativePosition;let t=[...e.startLineNumbers];null!==e.showEndForLine&&(t[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=t}else this._lastLineRelativePosition=0,this._lineNumbers=[];return 0===t}_findLineToRebuildWidgetFrom(e,t){if(!e||!this._previousState)return 0;if(void 0!==t)return t;let i=this._previousState,o=e.startLineNumbers.findIndex(e=>!i.startLineNumbers.includes(e));return -1===o?0:o}_updateWidgetWidth(){let e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-e.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${e.width-e.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(e){this._foldingIconStore.clear();for(let t=e;t<this._renderedStickyLines.length;t++){let e=this._renderedStickyLines[t];e.lineNumberDomNode.remove(),e.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,e),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${.5*!!e}s`)}_setFoldingIconsVisibility(e){for(let t of this._renderedStickyLines){let i=t.foldingIcon;i&&i.setVisible(!!e||i.isCollapsed)}}async _renderRootNode(e,t,i){if(this._clearStickyLinesFromLine(i),!e)return;for(let e of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(e);let o=this._editor.getLayoutInfo();for(let[e,n]of this._lineNumbers.slice(i).entries()){let r=this._renderChildNode(e+i,n,t,o);r&&(this._linesDomNode.appendChild(r.lineDomNode),this._lineNumbersDomNode.appendChild(r.lineNumberDomNode),this._renderedStickyLines.push(r))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));let n=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${n}px`,this._linesDomNodeScrollable.style.height=`${n}px`,this._rootDomNode.style.height=`${n}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(e=>e.scrollWidth))+o.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){"mouseover"===this._editor.getOption(iu.EditorOption.showFoldingControls)&&(this._foldingIconStore.add((0,el.addDisposableListener)(this._lineNumbersDomNode,el.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add((0,el.addDisposableListener)(this._lineNumbersDomNode,el.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,o){let n,r,s=this._editor._getViewModel();if(!s)return;let a=s.coordinatesConverter.convertModelPositionToViewPosition(new i7.Position(t,1)).lineNumber,l=s.getViewLineRenderingData(a),d=this._editor.getOption(iu.EditorOption.lineNumbers);try{n=aO.LineDecoration.filter(l.inlineDecorations,a,l.minColumn,l.maxColumn)}catch(e){n=[]}let c=new aF.RenderLineInput(!0,!0,l.content,l.continuesWithWrappedLine,l.isBasicASCII,l.containsRTL,0,l.tokens,n,l.tabSize,l.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new aP.StringBuilder(2e3),h=(0,aF.renderViewLine)(c,u);r=az?az.createHTML(u.build()):u.build();let p=document.createElement("span");p.setAttribute(aV,String(e)),p.setAttribute(aB,""),p.setAttribute("role","listitem"),p.tabIndex=0,p.className="sticky-line-content",p.classList.add(`stickyLine${t}`),p.style.lineHeight=`${this._lineHeight}px`,p.innerHTML=r;let g=document.createElement("span");g.setAttribute(aV,String(e)),g.setAttribute("data-sticky-is-line-number",""),g.className="sticky-line-number",g.style.lineHeight=`${this._lineHeight}px`;let m=o.contentLeft;g.style.width=`${m}px`;let _=document.createElement("span");d.renderType===iu.RenderLineNumbersType.On||d.renderType===iu.RenderLineNumbersType.Interval&&t%10==0?_.innerText=t.toString():d.renderType===iu.RenderLineNumbersType.Relative&&(_.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),_.className="sticky-line-number-inner",_.style.lineHeight=`${this._lineHeight}px`,_.style.width=`${o.lineNumbersWidth}px`,_.style.paddingLeft=`${o.lineNumbersLeft}px`,g.appendChild(_);let f=this._renderFoldingIconForLine(i,t);f&&g.appendChild(f.domNode),this._editor.applyFontInfo(p),this._editor.applyFontInfo(_),g.style.lineHeight=`${this._lineHeight}px`,p.style.lineHeight=`${this._lineHeight}px`,g.style.height=`${this._lineHeight}px`,p.style.height=`${this._lineHeight}px`;let y=new aG(e,t,p,g,f,h.characterMapping,p.scrollWidth);return this._updateTopAndZIndexOfStickyLine(y)}_updateTopAndZIndexOfStickyLine(e){let t=e.index,i=e.lineDomNode,o=e.lineNumberDomNode,n=t===this._lineNumbers.length-1;i.style.zIndex=n?"0":"1",o.style.zIndex=n?"0":"1";let r=`${t*this._lineHeight+this._lastLineRelativePosition+ +!!e.foldingIcon?.isCollapsed}px`,s=`${t*this._lineHeight}px`;return i.style.top=n?r:s,o.style.top=n?r:s,e}_renderFoldingIconForLine(e,t){let i=this._editor.getOption(iu.EditorOption.showFoldingControls);if(!e||"never"===i)return;let o=e.regions,n=o.findRange(t),r=o.getStartLineNumber(n);if(t!==r)return;let s=o.isCollapsed(n),a=new aq(s,r,o.getEndLineNumber(n),this._lineHeight);return a.setVisible(!!this._isOnGlyphMargin||s||"always"===i),a.domNode.setAttribute(aH,""),a}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:id.OverlayWidgetPositionPreference.TOP_CENTER,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._renderedStickyLines.length&&this._renderedStickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;let t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;let i=(0,aR.getColumnOfNodeOffset)(t.characterMapping,e,0);return new i7.Position(t.lineNumber,i)}getLineNumberFromChildDomNode(e){return this._getRenderedStickyLineFromChildDomNode(e)?.lineNumber??null}_getRenderedStickyLineFromChildDomNode(e){let t=this.getLineIndexFromChildDomNode(e);return null===t||t<0||t>=this._renderedStickyLines.length?null:this._renderedStickyLines[t]}getLineIndexFromChildDomNode(e){let t=this._getAttributeValue(e,aV);return t?parseInt(t,10):null}isInStickyLine(e){return void 0!==this._getAttributeValue(e,aB)}isInFoldingIconDomNode(e){return void 0!==this._getAttributeValue(e,aH)}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){let i=e.getAttribute(t);if(null!==i)return i;e=e.parentElement}}}class aG{constructor(e,t,i,o,n,r,s){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=o,this.foldingIcon=n,this.characterMapping=r,this.scrollWidth=s}}class aq{constructor(e,t,i,o){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=o,this.domNode=document.createElement("div"),this.domNode.style.width=`${o}px`,this.domNode.style.height=`${o}px`,this.domNode.className=rD.ThemeIcon.asClassName(e?aK.foldingCollapsedIcon:aK.foldingExpandedIcon)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}var a$=Z,aj=Z,aQ=e.i(591563),aY=e.i(479213);class aZ{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class aX{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class aJ{constructor(e,t,i,o){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=o}}var a0=e.i(371305);(c=R||(R={})).OUTLINE_MODEL="outlineModel",c.FOLDING_PROVIDER_MODEL="foldingProviderModel",c.INDENTATION_MODEL="indentationModel",(u=N||(N={}))[u.VALID=0]="VALID",u[u.INVALID=1]="INVALID",u[u.CANCELED=2]="CANCELED";let a1=class extends aj.Disposable{constructor(e,t,i,o){switch(super(),this._editor=e,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new ta.Delayer(300)),this._updateOperation=this._register(new aj.DisposableStore),this._editor.getOption(iu.EditorOption.stickyScroll).defaultModel){case R.OUTLINE_MODEL:this._modelProviders.push(new a3(this._editor,o));case R.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new a6(this._editor,t,o));case R.INDENTATION_MODEL:this._modelProviders.push(new a4(this._editor,i))}}dispose(){this._modelProviders.forEach(e=>e.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(e){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(let t of this._modelProviders){let{statusPromise:i,modelPromise:o}=t.computeStickyModel(e);this._modelPromise=o;let n=await i;if(this._modelPromise!==o)break;switch(n){case N.CANCELED:return this._updateOperation.clear(),null;case N.VALID:return t.stickyModel}}return null}).catch(e=>((0,e$.onUnexpectedError)(e),null))}};a1=(0,Y.__decorate)([(0,Y.__param)(2,eC.IInstantiationService),(0,Y.__param)(3,eD.ILanguageFeaturesService)],a1);class a2 extends aj.Disposable{constructor(e){super(),this._editor=e,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,N.INVALID}computeStickyModel(e){if(e.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};let t=(0,ta.createCancelablePromise)(e=>this.createModelFromProvider(e));return{statusPromise:t.then(t=>this.isModelValid(t)?e.isCancellationRequested?N.CANCELED:(this._stickyModel=this.createStickyModel(e,t),N.VALID):this._invalid()).then(void 0,e=>((0,e$.onUnexpectedError)(e),N.CANCELED)),modelPromise:t}}isModelValid(e){return!0}isProviderValid(){return!0}}let a3=class extends a2{constructor(e,t){super(e),this._languageFeaturesService=t}createModelFromProvider(e){return oK.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),e)}createStickyModel(e,t){let{stickyOutlineElement:i,providerID:o}=this._stickyModelFromOutlineModel(t,this._stickyModel?.outlineProviderId),n=this._editor.getModel();return new aJ(n.uri,n.getVersionId(),i,o)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(a0.Iterable.first(e.children.values())instanceof oK.OutlineGroup){let o=a0.Iterable.find(e.children.values(),e=>e.id===t);if(o)i=o.children;else{let o,n="",r=-1;for(let[t,i]of e.children.entries()){let e=this._findSumOfRangesOfGroup(i);e>r&&(o=i,r=e,n=i.id)}t=n,i=o.children}}else i=e.children;let o=[];for(let e of Array.from(i.values()).sort((e,t)=>{let i=new aZ(e.symbol.range.startLineNumber,e.symbol.range.endLineNumber),o=new aZ(t.symbol.range.startLineNumber,t.symbol.range.endLineNumber);return this._comparator(i,o)}))o.push(this._stickyModelFromOutlineElement(e,e.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new aX(void 0,o,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){let i=[];for(let o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(let e of o.children.values())i.push(this._stickyModelFromOutlineElement(e,o.symbol.selectionRange.startLineNumber));return i.sort((e,t)=>this._comparator(e.range,t.range)),new aX(new aZ(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber),i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(let i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof oK.OutlineElement?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};a3=(0,Y.__decorate)([(0,Y.__param)(1,eD.ILanguageFeaturesService)],a3);class a5 extends a2{constructor(e){super(e),this._foldingLimitReporter=new X.RangesLimitReporter(e)}createStickyModel(e,t){let i=this._fromFoldingRegions(t),o=this._editor.getModel();return new aJ(o.uri,o.getVersionId(),i,void 0)}isModelValid(e){return null!==e}_fromFoldingRegions(e){let t=e.length,i=[],o=new aX(void 0,[],void 0);for(let n=0;n<t;n++){let t,r=e.getParentIndex(n);t=-1!==r?i[r]:o;let s=new aX(new aZ(e.getStartLineNumber(n),e.getEndLineNumber(n)+1),[],t);t.children.push(s),i.push(s)}return o}}let a4=class extends a5{constructor(e,t){super(e),this._languageConfigurationService=t,this.provider=this._register(new aY.IndentRangeProvider(e.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(e){return this.provider.compute(e)}};a4=(0,Y.__decorate)([(0,Y.__param)(1,i6.ILanguageConfigurationService)],a4);let a6=class extends a5{constructor(e,t,i){super(e),this._languageFeaturesService=i;const o=X.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,e.getModel());o.length>0&&(this.provider=this._register(new aQ.SyntaxRangeProvider(e.getModel(),o,t,this._foldingLimitReporter,void 0)))}isProviderValid(){return void 0!==this.provider}async createModelFromProvider(e){return this.provider?.compute(e)??null}};a6=(0,Y.__decorate)([(0,Y.__param)(2,eD.ILanguageFeaturesService)],a6);class a8{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let a9=class extends a$.Disposable{static{this.ID="store.contrib.stickyScrollController"}constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new eE.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new a$.DisposableStore),this._updateSoon=this._register(new ta.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(iu.EditorOption.stickyScroll)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(iu.EditorOption.stickyScroll).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,a$.toDisposable)(()=>{this._stickyModelProvider?.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){return this._model?.version}updateStickyModelProvider(){this._stickyModelProvider?.dispose(),this._stickyModelProvider=null;let e=this._editor;e.hasModel()&&(this._stickyModelProvider=new a1(e,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){this._cts?.dispose(!0),this._cts=new ed.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(e){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}let t=await this._stickyModelProvider.update(e);e.isCancellationRequested||(this._model=t)}updateIndex(e){return -1===e?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,o,n){if(0===t.children.length)return;let r=n,s=[];for(let e=0;e<t.children.length;e++){let i=t.children[e];i.range&&s.push(i.range.startLineNumber)}let a=this.updateIndex((0,oD.binarySearch)(s,e.startLineNumber,(e,t)=>e-t)),l=this.updateIndex((0,oD.binarySearch)(s,e.startLineNumber+o,(e,t)=>e-t));for(let s=a;s<=l;s++){let a=t.children[s];if(!a)return;if(a.range){let t=a.range.startLineNumber,n=a.range.endLineNumber;e.startLineNumber<=n+1&&t-1<=e.endLineNumber&&t!==r&&(r=t,i.push(new a8(t,n-1,o+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,a,i,o+1,t))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,a,i,o,n)}}getCandidateStickyLinesIntersecting(e){if(!this._model?.element)return[];let t=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,t,0,-1);let i=this._editor._getViewModel()?.getHiddenAreas();if(i)for(let e of i)t=t.filter(t=>!(t.startLineNumber>=e.startLineNumber&&t.endLineNumber<=e.endLineNumber+1));return t}};a9=(0,Y.__decorate)([(0,Y.__param)(1,eD.ILanguageFeaturesService),(0,Y.__param)(2,i6.ILanguageConfigurationService)],a9);var a7=e.i(865792),le=e.i(535068),lt=e.i(525254),li=e.i(364359);let lo=class extends aM.Disposable{static{P=this}static{this.ID="store.contrib.stickyScrollController"}constructor(e,t,i,o,n,r,s){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=o,this._contextKeyService=s,this._sessionStore=new aM.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new aU(this._editor),this._stickyLineCandidateProvider=new a9(this._editor,i,n),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=aW.Empty;const a=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(e=>{this._readConfigurationChange(e)})),this._register((0,el.addDisposableListener)(a,el.EventType.CONTEXT_MENU,async e=>{this._onContextMenu((0,el.getWindow)(a),e)})),this._stickyScrollFocusedContextKey=eh.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=eh.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const l=this._register((0,el.trackFocus)(a));this._register(l.onDidBlur(e=>{!1===this._positionRevealed&&0===a.clientHeight?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(l.onDidFocus(e=>{this.focus()})),this._registerMouseListeners(),this._register((0,el.addDisposableListener)(a,el.EventType.MOUSE_DOWN,e=>{this._onMouseDown=!0})),this._onDidResize(),this._readConfiguration()}get stickyScrollCandidateProvider(){return this._stickyLineCandidateProvider}get stickyScrollWidgetState(){return this._widgetState}static get(e){return e.getContribution(P.ID)}_disposeFocusStickyScrollStore(){this._stickyScrollFocusedContextKey.set(!1),this._focusDisposableStore?.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}!0!==this._stickyScrollFocusedContextKey.get()&&(this._focused=!0,this._focusDisposableStore=new aM.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){let e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,op.ScrollType.Smooth))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(tQ.Range.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){let e=this._register(new aM.DisposableStore),t=this._register(new a7.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:e=>{let t=this._stickyScrollWidget.getEditorPositionFromNode(e.target.element);return t?t.lineNumber:0}})),i=e=>{if(!this._editor.hasModel()||e.target.type!==id.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==this._stickyScrollWidget.getId())return null;let t=e.target.element;if(!t||t.innerText!==t.innerHTML)return null;let i=this._stickyScrollWidget.getEditorPositionFromNode(t);return i?{range:new tQ.Range(i.lineNumber,i.column,i.lineNumber,i.column+t.innerText.length),textElement:t}:null},o=this._stickyScrollWidget.getDomNode();this._register((0,el.addStandardDisposableListener)(o,el.EventType.CLICK,e=>{if(e.ctrlKey||e.altKey||e.metaKey||!e.leftButton)return;if(e.shiftKey){let t=this._stickyScrollWidget.getLineIndexFromChildDomNode(e.target);if(null===t)return;let i=new i7.Position(this._endLineNumbers[t],1);this._revealLineInCenterIfOutsideViewport(i);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(e.target)){let t=this._stickyScrollWidget.getLineNumberFromChildDomNode(e.target);this._toggleFoldingRegionForLine(t);return}if(!this._stickyScrollWidget.isInStickyLine(e.target))return;let t=this._stickyScrollWidget.getEditorPositionFromNode(e.target);if(!t){let i=this._stickyScrollWidget.getLineNumberFromChildDomNode(e.target);if(null===i)return;t=new i7.Position(i,1)}this._revealPosition(t)})),this._register((0,el.addStandardDisposableListener)(o,el.EventType.MOUSE_MOVE,e=>{if(e.shiftKey){let t=this._stickyScrollWidget.getLineIndexFromChildDomNode(e.target);if(null===t||null!==this._showEndForLine&&this._showEndForLine===t)return;this._showEndForLine=t,this._renderStickyScroll();return}void 0!==this._showEndForLine&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register((0,el.addDisposableListener)(o,el.EventType.MOUSE_LEAVE,e=>{void 0!==this._showEndForLine&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([t,o])=>{let n,r=i(t);if(!r||!t.hasTriggerModifier||!this._editor.hasModel())return void e.clear();let{range:s,textElement:a}=r;if(s.equalsRange(this._stickyRangeProjectedOnEditor)){if("underline"===a.style.textDecoration)return}else this._stickyRangeProjectedOnEditor=s,e.clear();let l=new ed.CancellationTokenSource;e.add((0,aM.toDisposable)(()=>l.dispose(!0))),(0,le.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new i7.Position(s.startLineNumber,s.startColumn+1),!1,l.token).then(t=>{!l.token.isCancellationRequested&&(0!==t.length?(this._candidateDefinitionsLength=t.length,n!==a?(e.clear(),(n=a).style.textDecoration="underline",e.add((0,aM.toDisposable)(()=>{n.style.textDecoration="none"}))):n||((n=a).style.textDecoration="underline",e.add((0,aM.toDisposable)(()=>{n.style.textDecoration="none"})))):e.clear())})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(async e=>{if(e.target.type!==id.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==this._stickyScrollWidget.getId())return;let t=this._stickyScrollWidget.getEditorPositionFromNode(e.target.element);!t||this._editor.hasModel()&&this._stickyRangeProjectedOnEditor&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:t.lineNumber,column:1})),this._instaService.invokeFunction(lt.goToDefinitionWithLocation,e,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))}))}_onContextMenu(e,t){let i=new e7.StandardMouseEvent(e,t);this._contextMenuService.showContextMenu({menuId:em.MenuId.StickyScrollContext,getAnchor:()=>i})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||null===e)return;let t=this._stickyScrollWidget.getRenderedStickyLine(e),i=t?.foldingIcon;if(!i)return;(0,li.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;let o=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(iu.EditorOption.lineHeight)*t.index+1;this._editor.setScrollTop(o),this._renderStickyScroll(e)}_readConfiguration(){let e=this._editor.getOption(iu.EditorOption.stickyScroll);if(!1===e.enabled){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(e=>this._onTokensChange(e))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0),this._editor.getOption(iu.EditorOption.lineNumbers).renderType===iu.RenderLineNumbersType.Relative&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(e){(e.hasChanged(iu.EditorOption.stickyScroll)||e.hasChanged(iu.EditorOption.minimap)||e.hasChanged(iu.EditorOption.lineHeight)||e.hasChanged(iu.EditorOption.showFoldingControls)||e.hasChanged(iu.EditorOption.lineNumbers))&&this._readConfiguration(),e.hasChanged(iu.EditorOption.lineNumbers)&&this._renderStickyScroll(0)}_needsUpdate(e){for(let t of this._stickyScrollWidget.getCurrentLines())for(let i of e.ranges)if(t>=i.fromLineNumber&&t<=i.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){let e=this._editor.getLayoutInfo().height/this._editor.getOption(iu.EditorOption.lineHeight);this._maxStickyLines=Math.round(.25*e),this._renderStickyScroll(0)}async _renderStickyScroll(e){let t=this._editor.getModel();if(!t||t.isTooLargeForTokenization())return void this._resetState();let i=this._updateAndGetMinRebuildFromLine(e),o=this._stickyLineCandidateProvider.getVersionId();if(void 0===o||o===t.getVersionId())if(this._focused)if(-1===this._focusedStickyElementIndex)await this._updateState(i),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,-1!==this._focusedStickyElementIndex&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{let e=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];await this._updateState(i),0===this._stickyScrollWidget.lineNumberCount?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(e)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}else await this._updateState(i)}_updateAndGetMinRebuildFromLine(e){if(void 0!==e){let t=void 0!==this._minRebuildFromLine?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(e,t)}return this._minRebuildFromLine}async _updateState(e){this._minRebuildFromLine=void 0,this._foldingModel=await X.FoldingController.get(this._editor)?.getFoldingModel()??void 0,this._widgetState=this.findScrollWidgetState();let t=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(t),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e)}async _resetState(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=aW.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)}findScrollWidgetState(){let e=this._editor.getOption(iu.EditorOption.lineHeight),t=Math.min(this._maxStickyLines,this._editor.getOption(iu.EditorOption.stickyScroll).maxLineCount),i=this._editor.getScrollTop(),o=0,n=[],r=[],s=this._editor.getVisibleRanges();if(0!==s.length){let a=new aZ(s[0].startLineNumber,s[s.length-1].endLineNumber);for(let s of this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(a)){let a=s.startLineNumber,l=s.endLineNumber,d=s.nestingDepth;if(l-a>0){let s=(d-1)*e,c=d*e,u=this._editor.getBottomForLineNumber(a)-i,h=this._editor.getTopForLineNumber(l)-i,p=this._editor.getBottomForLineNumber(l)-i;if(s>h&&s<=p){n.push(a),r.push(l+1),s>p-e&&(o=p-c);break}if(c>u&&c<=p&&(n.push(a),r.push(l+1)),n.length===t)break}}}return this._endLineNumbers=r,new aW(n,r,o,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};lo=P=(0,Y.__decorate)([(0,Y.__param)(1,eJ.IContextMenuService),(0,Y.__param)(2,eD.ILanguageFeaturesService),(0,Y.__param)(3,eC.IInstantiationService),(0,Y.__param)(4,i6.ILanguageConfigurationService),(0,Y.__param)(5,iN.ILanguageFeatureDebounceService),(0,Y.__param)(6,ev.IContextKeyService)],lo);class ln extends aA.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,J.localize2)(1413,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,J.localize)(1414,"&&Toggle Editor Sticky Scroll")},metadata:{description:(0,J.localize2)(1415,"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:tg.Categories.View,toggled:{condition:ey.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,J.localize)(1416,"Sticky Scroll"),mnemonicTitle:(0,J.localize)(1417,"&&Sticky Scroll")},menu:[{id:aA.MenuId.CommandPalette},{id:aA.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:aA.MenuId.StickyScrollContext}]})}async run(e){let t=e.get(es.IConfigurationService),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)}}let lr=eb.KeybindingWeight.EditorContrib;class ls extends ak.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,J.localize2)(1418,"Focus on the editor sticky scroll"),mnemonicTitle:(0,J.localize)(1419,"&&Focus Sticky Scroll")},precondition:ey.ContextKeyExpr.and(ey.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),eh.EditorContextKeys.stickyScrollVisible),menu:[{id:aA.MenuId.CommandPalette}]})}runEditorCommand(e,t){lo.get(t)?.focus()}}class la extends ak.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,J.localize2)(1420,"Select the next editor sticky scroll line"),precondition:eh.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lr,primary:ec.KeyCode.DownArrow}})}runEditorCommand(e,t){lo.get(t)?.focusNext()}}class ll extends ak.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,J.localize2)(1421,"Select the previous sticky scroll line"),precondition:eh.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lr,primary:ec.KeyCode.UpArrow}})}runEditorCommand(e,t){lo.get(t)?.focusPrevious()}}class ld extends ak.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,J.localize2)(1422,"Go to the focused sticky scroll line"),precondition:eh.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lr,primary:ec.KeyCode.Enter}})}runEditorCommand(e,t){lo.get(t)?.goToFocused()}}class lc extends ak.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,J.localize2)(1423,"Select Editor"),precondition:eh.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lr,primary:ec.KeyCode.Escape}})}runEditorCommand(e,t){lo.get(t)?.selectEditor()}}(0,eu.registerEditorContribution)(lo.ID,lo,eu.EditorContributionInstantiation.AfterFirstRender),(0,em.registerAction2)(ln),(0,em.registerAction2)(ls),(0,em.registerAction2)(ll),(0,em.registerAction2)(la),(0,em.registerAction2)(ld),(0,em.registerAction2)(lc),e.s([],332786);var lu=e.i(951806),lh=Z,lp=e.i(374585),lg=e.i(385437),lm=e.i(569874),l_=e.i(37827);class lf{constructor(e,t,i,o,n,r){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=o,this.command=n,this.completion=r}}let ly=class extends lh.RefCountedDisposable{constructor(e,t,i,o,n,r){super(n.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=o,this._suggestMemoryService=r}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&0===this.completionModel.getIncompleteProvider().size}get items(){let e=[],{items:t}=this.completionModel,i=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},t),o=a0.Iterable.slice(t,i),n=a0.Iterable.slice(t,0,i),r=5;for(let t of a0.Iterable.concat(o,n)){if(t.score===lu.FuzzyScore.Default)continue;let i=new tQ.Range(t.editStart.lineNumber,t.editStart.column,t.editInsertEnd.lineNumber,t.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),o=t.completion.insertTextRules&&t.completion.insertTextRules&nu.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:t.completion.insertText}:t.completion.insertText;e.push(new lf(i,o,t.filterTextLow??t.labelLow,t.completion.additionalTextEdits,t.completion.command,t)),r-- >=0&&t.resolve(ed.CancellationToken.None)}return e}};ly=(0,Y.__decorate)([(0,Y.__param)(5,lg.ISuggestMemoryService)],ly);let lv=class extends lh.Disposable{constructor(e,t,i,o){super(),this._languageFeatureService=e,this._clipboardService=t,this._suggestMemoryService=i,this._editorService=o,this._store.add(e.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(e,t,i,o){let n,r,s;if(i.selectedSuggestionInfo)return;for(let t of this._editorService.listCodeEditors())if(t.getModel()===e){n=t;break}if(!n)return;let a=n.getOption(iu.EditorOption.quickSuggestions);if(oq.QuickSuggestionsOptions.isAllOff(a))return;e.tokenization.tokenizeIfCheap(t.lineNumber);let l=e.tokenization.getLineTokens(t.lineNumber),d=l.getStandardTokenType(l.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if("inline"!==oq.QuickSuggestionsOptions.valueFor(a,d))return;let c=e.getWordAtPosition(t);if(c?.word||(r=this._getTriggerCharacterInfo(e,t)),!c?.word&&!r||(c||(c=e.getWordUntilPosition(t)),c.endColumn!==t.column))return;let u=e.getValueInRange(new tQ.Range(t.lineNumber,1,t.lineNumber,t.column));if(!r&&this._lastResult?.canBeReused(e,t.lineNumber,c)){let e=new lp.LineContext(u,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=e,this._lastResult.acquire(),s=this._lastResult}else{let i,a=await (0,oq.provideSuggestionItems)(this._languageFeatureService.completionProvider,e,t,new oq.CompletionOptions(void 0,lm.SuggestModel.createSuggestFilter(n).itemKind,r?.providers),r&&{triggerKind:nu.CompletionTriggerKind.TriggerCharacter,triggerCharacter:r.ch},o);a.needsClipboard&&(i=await this._clipboardService.readText());let l=new lp.CompletionModel(a.items,t.column,new lp.LineContext(u,0),l_.WordDistance.None,n.getOption(iu.EditorOption.suggest),n.getOption(iu.EditorOption.snippetSuggestions),{boostFullMatch:!1,firstMatchCanBeWeak:!1},i);s=new ly(e,t.lineNumber,c,l,a,this._suggestMemoryService)}return this._lastResult=s,s}handleItemDidShow(e,t){t.completion.resolve(ed.CancellationToken.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){let i=e.getValueInRange(tQ.Range.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(let t of this._languageFeatureService.completionProvider.all(e))t.triggerCharacters?.includes(i)&&o.add(t);if(0!==o.size)return{providers:o,ch:i}}};lv=(0,Y.__decorate)([(0,Y.__param)(0,eD.ILanguageFeaturesService),(0,Y.__param)(1,e9.IClipboardService),(0,Y.__param)(2,lg.ISuggestMemoryService),(0,Y.__param)(3,eQ.ICodeEditorService)],lv),(0,eY.registerEditorFeature)(lv),e.s([],481200);var lC=eu;class lb extends lC.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:(0,J.localize2)(1496,"Developer: Force Retokenize"),precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getModel();i.tokenization.resetTokenization();let o=new sF.StopWatch;i.tokenization.forceTokenization(i.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}}(0,lC.registerEditorAction)(lb),e.s([],112692);var lS=Z;(0,ti.default)(".monaco-editor .unicode-highlight{background-color:var(--vscode-editorUnicodeHighlight-background);border:1px solid var(--vscode-editorUnicodeHighlight-border);box-sizing:border-box}",{});var lw=eu,lE=e.i(346660),lI=e.i(609828);(0,ti.default)(".editor-banner{background:var(--vscode-banner-background);box-sizing:border-box;cursor:default;display:flex;font-size:12px;height:26px;overflow:visible;width:100%}.editor-banner .icon-container{align-items:center;display:flex;flex-shrink:0;padding:0 6px 0 10px}.editor-banner .icon-container.custom-icon{background-position:50%;background-repeat:no-repeat;background-size:16px;margin:0 6px 0 10px;padding:0;width:16px}.editor-banner .message-container{align-items:center;display:flex;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.editor-banner .message-container p{margin-block-end:0;margin-block-start:0}.editor-banner .message-actions-container{flex-grow:1;flex-shrink:0;line-height:26px;margin:0 4px}.editor-banner .message-actions-container a.monaco-button{margin:2px 8px;padding:0 12px;width:inherit}.editor-banner .message-actions-container a{margin-left:12px;padding:3px;text-decoration:underline}.editor-banner .action-container{padding:0 10px 0 6px}.editor-banner{background-color:var(--vscode-banner-background)}.editor-banner,.editor-banner .action-container .codicon,.editor-banner .message-actions-container .monaco-link{color:var(--vscode-banner-foreground)}.editor-banner .icon-container .codicon{color:var(--vscode-banner-iconForeground)}",{});var lx=e.i(594382),lD=Z;let lk=class extends lD.Disposable{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(lA))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show({...e,onClose:()=>{this.hide(),e.onClose?.()}}),this._editor.setBanner(this.banner.element,26)}};lk=(0,Y.__decorate)([(0,Y.__param)(1,eC.IInstantiationService)],lk);let lA=class extends lD.Disposable{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(nt.MarkdownRenderer,{}),this.element=(0,el.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){return e.ariaLabel?e.ariaLabel:"string"==typeof e.message?e.message:void 0}getBannerMessage(e){if("string"==typeof e){let t=(0,el.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,el.clearNode)(this.element)}show(e){(0,el.clearNode)(this.element);let t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);let i=(0,el.append)(this.element,(0,el.$)("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild((0,el.$)(`div${rD.ThemeIcon.asCSSSelector(e.icon)}`));let o=(0,el.append)(this.element,(0,el.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,el.append)(this.element,(0,el.$)("div.message-actions-container")),e.actions)for(let t of e.actions)this._register(this.instantiationService.createInstance(eS.Link,this.messageActionsContainer,{...t,tabIndex:-1},{}));let n=(0,el.append)(this.element,(0,el.$)("div.action-container"));this.actionBar=this._register(new lx.ActionBar(n)),this.actionBar.push(this._register(new e5.Action("banner.close","Close Banner",rD.ThemeIcon.asClassName(nw.widgetClose),!0,()=>{"function"==typeof e.onClose&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};lA=(0,Y.__decorate)([(0,Y.__param)(0,eC.IInstantiationService)],lA);var lM=e.i(961698),lL=e.i(395612);let lT=(0,nw.registerIcon)("extensions-warning-message",tP.Codicon.warning,(0,J.localize)(1497,"Icon shown with a warning message in the extensions editor.")),lR=class extends lS.Disposable{static{this.ID="editor.contrib.unicodeHighlighter"}constructor(e,t,i,o){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=e=>{if(e&&e.hasMore){let t;if(this._bannerClosed)return;let i=Math.max(e.ambiguousCharacterCount,e.nonBasicAsciiCharacterCount,e.invisibleCharacterCount);if(e.nonBasicAsciiCharacterCount>=i)t={message:(0,J.localize)(1498,"This document contains many non-basic ASCII unicode characters"),command:new lq};else if(e.ambiguousCharacterCount>=i)t={message:(0,J.localize)(1499,"This document contains many ambiguous unicode characters"),command:new lU};else if(e.invisibleCharacterCount>=i)t={message:(0,J.localize)(1500,"This document contains many invisible unicode characters"),command:new lG};else throw Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:t.message,icon:lT,actions:[{label:t.command.shortLabel,href:`command:${t.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(lk,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(iu.EditorOption.unicodeHighlighting),this._register(i.onDidChangeTrust(e=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(iu.EditorOption.unicodeHighlighting)&&(this._options=e.getOption(iu.EditorOption.unicodeHighlighting),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){var e,t;if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let i=(e=this._workspaceTrustService.isWorkspaceTrusted(),{nonBasicASCII:(t=this._options).nonBasicASCII===iu.inUntrustedWorkspace?!e:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===iu.inUntrustedWorkspace?!e:t.includeComments,includeStrings:t.includeStrings===iu.inUntrustedWorkspace?!e:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales});if([i.nonBasicASCII,i.ambiguousCharacters,i.invisibleCharacters].every(e=>!1===e))return;let o={nonBasicASCII:i.nonBasicASCII,ambiguousCharacters:i.ambiguousCharacters,invisibleCharacters:i.invisibleCharacters,includeComments:i.includeComments,includeStrings:i.includeStrings,allowedCodePoints:Object.keys(i.allowedCharacters).map(e=>e.codePointAt(0)),allowedLocales:Object.keys(i.allowedLocales).map(e=>"_os"===e?new Intl.NumberFormat().resolvedOptions().locale:"_vscode"===e?e8.language:e)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new lN(this._editor,o,this._updateState,this._editorWorkerService):this._highlighter=new lP(this._editor,o,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};lR=(0,Y.__decorate)([(0,Y.__param)(1,iG.IEditorWorkerService),(0,Y.__param)(2,lL.IWorkspaceTrustManagementService),(0,Y.__param)(3,eC.IInstantiationService)],lR);let lN=class extends lS.Disposable{constructor(e,t,i,o){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ta.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();let e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);let i=[];if(!t.hasMore)for(let e of t.ranges)i.push({range:e,options:lV.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel();return(0,lI.isModelDecorationVisible)(t,e)?{reason:lz(t.getValueInRange(e.range),this._options),inComment:(0,lI.isModelDecorationInComment)(t,e),inString:(0,lI.isModelDecorationInString)(t,e)}:null}};lN=(0,Y.__decorate)([(0,Y.__param)(3,iG.IEditorWorkerService)],lN);class lP extends lS.Disposable{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ta.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();let e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let t of e){let e=lE.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,t);for(let t of e.ranges)i.ranges.push(t);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||e.hasMore}if(!i.hasMore)for(let e of i.ranges)t.push({range:e,options:lV.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel(),i=t.getValueInRange(e.range);return(0,lI.isModelDecorationVisible)(t,e)?{reason:lz(i,this._options),inComment:(0,lI.isModelDecorationInComment)(t,e),inString:(0,lI.isModelDecorationInString)(t,e)}:null}}let lO=(0,J.localize)(1501,"Configure Unicode Highlight Options"),lF=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==iO.HoverAnchorType.Range)return[];let i=this._editor.getModel(),o=this._editor.getContribution(lR.ID);if(!o)return[];let n=[],r=new Set,s=300;for(let e of t){let t,a=o.getDecorationInfo(e);if(!a)continue;let l=i.getValueInRange(e.range).codePointAt(0),d=lW(l);switch(a.reason.kind){case lE.UnicodeHighlighterReasonKind.Ambiguous:t=(0,t2.isBasicASCII)(a.reason.confusableWith)?(0,J.localize)(1502,"The character {0} could be confused with the ASCII character {1}, which is more common in source code.",d,lW(a.reason.confusableWith.codePointAt(0))):(0,J.localize)(1503,"The character {0} could be confused with the character {1}, which is more common in source code.",d,lW(a.reason.confusableWith.codePointAt(0)));break;case lE.UnicodeHighlighterReasonKind.Invisible:t=(0,J.localize)(1504,"The character {0} is invisible.",d);break;case lE.UnicodeHighlighterReasonKind.NonBasicAscii:t=(0,J.localize)(1505,"The character {0} is not a basic ASCII character.",d)}if(r.has(t))continue;r.add(t);let c={codePoint:l,reason:a.reason,inComment:a.inComment,inString:a.inString},u=(0,J.localize)(1506,"Adjust settings"),h=`command:${l$.ID}?${encodeURIComponent(JSON.stringify(c))}`,p=new tK.MarkdownString("",!0).appendMarkdown(t).appendText(" ").appendLink(h,u,lO);n.push(new rC.MarkdownHover(this,e.range,[p],!1,s++))}return n}renderHoverParts(e,t){return(0,rC.renderMarkdownHovers)(e,t,this._editor,this._languageService,this._openerService)}getAccessibleContent(e){return e.contents.map(e=>e.value).join("\n")}};function lK(e){return`U+${e.toString(16).padStart(4,"0")}`}function lW(e){var t;let i=`\`${lK(e)}\``;return t2.InvisibleCharacters.isInvisibleCharacter(e)||(i+=` "${(t=e)===i8.CharCode.BackTick?"`` ` ``":"`"+String.fromCodePoint(t)+"`"}"`),i}function lz(e,t){return lE.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(e,t)}lF=(0,Y.__decorate)([(0,Y.__param)(1,o7.ILanguageService),(0,Y.__param)(2,no.IOpenerService)],lF);class lV{constructor(){this.map=new Map}static{this.instance=new lV}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){let i=`${e}${t}`,o=this.map.get(i);return o||(o=ix.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:tV.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,o)),o}}class lB extends lw.EditorAction{static{this.ID="editor.action.unicodeHighlight.disableHighlightingInComments"}constructor(){super({id:lU.ID,label:(0,J.localize2)(1507,"Disable highlighting of characters in comments"),precondition:void 0}),this.shortLabel=(0,J.localize)(1508,"Disable Highlight In Comments")}async run(e,t,i){let o=e?.get(es.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iu.unicodeHighlightConfigKeys.includeComments,!1,lM.ConfigurationTarget.USER)}}class lH extends lw.EditorAction{static{this.ID="editor.action.unicodeHighlight.disableHighlightingInStrings"}constructor(){super({id:lU.ID,label:(0,J.localize2)(1509,"Disable highlighting of characters in strings"),precondition:void 0}),this.shortLabel=(0,J.localize)(1510,"Disable Highlight In Strings")}async run(e,t,i){let o=e?.get(es.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iu.unicodeHighlightConfigKeys.includeStrings,!1,lM.ConfigurationTarget.USER)}}class lU extends lw.EditorAction{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters"}constructor(){super({id:lU.ID,label:(0,J.localize2)(1511,"Disable highlighting of ambiguous characters"),precondition:void 0}),this.shortLabel=(0,J.localize)(1512,"Disable Ambiguous Highlight")}async run(e,t,i){let o=e?.get(es.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iu.unicodeHighlightConfigKeys.ambiguousCharacters,!1,lM.ConfigurationTarget.USER)}}class lG extends lw.EditorAction{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters"}constructor(){super({id:lG.ID,label:(0,J.localize2)(1513,"Disable highlighting of invisible characters"),precondition:void 0}),this.shortLabel=(0,J.localize)(1514,"Disable Invisible Highlight")}async run(e,t,i){let o=e?.get(es.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iu.unicodeHighlightConfigKeys.invisibleCharacters,!1,lM.ConfigurationTarget.USER)}}class lq extends lw.EditorAction{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters"}constructor(){super({id:lq.ID,label:(0,J.localize2)(1515,"Disable highlighting of non basic ASCII characters"),precondition:void 0}),this.shortLabel=(0,J.localize)(1516,"Disable Non ASCII Highlight")}async run(e,t,i){let o=e?.get(es.IConfigurationService);o&&this.runAction(o)}async runAction(e){await e.updateValue(iu.unicodeHighlightConfigKeys.nonBasicASCII,!1,lM.ConfigurationTarget.USER)}}class l$ extends lw.EditorAction{static{this.ID="editor.action.unicodeHighlight.showExcludeOptions"}constructor(){super({id:l$.ID,label:(0,J.localize2)(1517,"Show Exclude Options"),precondition:void 0})}async run(e,t,i){let{codePoint:o,reason:n,inString:r,inComment:s}=i,a=String.fromCodePoint(o),l=e.get(eW.IQuickInputService),d=e.get(es.IConfigurationService),c=[];if(n.kind===lE.UnicodeHighlighterReasonKind.Ambiguous)for(let e of n.notAmbiguousInLocales)c.push({label:(0,J.localize)(1520,'Allow unicode characters that are more common in the language "{0}".',e),run:async()=>{lQ(d,[e])}});if(c.push({label:t2.InvisibleCharacters.isInvisibleCharacter(o)?(0,J.localize)(1518,"Exclude {0} (invisible character) from being highlighted",lK(o)):(0,J.localize)(1519,"Exclude {0} from being highlighted",`${lK(o)} "${a}"`),run:()=>lj(d,[o])}),s){let e=new lB;c.push({label:e.label,run:async()=>e.runAction(d)})}else if(r){let e=new lH;c.push({label:e.label,run:async()=>e.runAction(d)})}if(n.kind===lE.UnicodeHighlighterReasonKind.Ambiguous){let e=new lU;c.push({label:e.label,run:async()=>e.runAction(d)})}else if(n.kind===lE.UnicodeHighlighterReasonKind.Invisible){let e=new lG;c.push({label:e.label,run:async()=>e.runAction(d)})}else if(n.kind===lE.UnicodeHighlighterReasonKind.NonBasicAscii){let e=new lq;c.push({label:e.label,run:async()=>e.runAction(d)})}else{var u=n;throw Error(`Unexpected value: ${u}`)}let h=await l.pick(c,{title:lO});h&&await h.run()}}async function lj(e,t){let i,o=e.getValue(iu.unicodeHighlightConfigKeys.allowedCharacters);for(let e of(i="object"==typeof o&&o?o:{},t))i[String.fromCodePoint(e)]=!0;await e.updateValue(iu.unicodeHighlightConfigKeys.allowedCharacters,i,lM.ConfigurationTarget.USER)}async function lQ(e,t){let i,o=e.inspect(iu.unicodeHighlightConfigKeys.allowedLocales).user?.value;for(let e of(i="object"==typeof o&&o?Object.assign({},o):{},t))i[e]=!0;await e.updateValue(iu.unicodeHighlightConfigKeys.allowedLocales,i,lM.ConfigurationTarget.USER)}(0,lw.registerEditorAction)(lU),(0,lw.registerEditorAction)(lG),(0,lw.registerEditorAction)(lq),(0,lw.registerEditorAction)(l$),(0,lw.registerEditorContribution)(lR.ID,lR,lw.EditorContributionInstantiation.AfterFirstRender),iO.HoverParticipantRegistry.register(lF),e.s([],734201);var lY=eu,lZ=e.i(213512),lX=e.i(282515),lJ=e.i(806626),l0=e.i(664575);class l1 extends lY.EditorCommand{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;let o=(0,lJ.getMapForWordSeparators)(t.getOption(iu.EditorOption.wordSeparators),t.getOption(iu.EditorOption.wordSegmenterLocales)),n=t.getModel(),r=t.getSelections(),s=r.length>1,a=r.map(e=>{let t=new i7.Position(e.positionLineNumber,e.positionColumn),i=this._move(o,n,t,this._wordNavigationType,s);return this._moveTo(e,i,this._inSelectionMode)});if(n.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",oh.CursorChangeReason.Explicit,a.map(e=>lZ.CursorState.fromModelSelection(e))),1===a.length){let e=new i7.Position(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(e,op.ScrollType.Smooth)}}_moveTo(e,t,i){return i?new tz.Selection(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new tz.Selection(t.lineNumber,t.column,t.lineNumber,t.column)}}class l2 extends l1{_move(e,t,i,o,n){return lX.WordOperations.moveWordLeft(e,t,i,o,n)}}class l3 extends l1{_move(e,t,i,o,n){return lX.WordOperations.moveWordRight(e,t,i,o)}}class l5 extends lY.EditorCommand{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){let o=e.get(i6.ILanguageConfigurationService);if(!t.hasModel())return;let n=(0,lJ.getMapForWordSeparators)(t.getOption(iu.EditorOption.wordSeparators),t.getOption(iu.EditorOption.wordSegmenterLocales)),r=t.getModel(),s=t.getSelections(),a=t.getOption(iu.EditorOption.autoClosingBrackets),l=t.getOption(iu.EditorOption.autoClosingQuotes),d=o.getLanguageConfiguration(r.getLanguageId()).getAutoClosingPairs(),c=t._getViewModel(),u=s.map(e=>{let i=this._delete({wordSeparators:n,model:r,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(iu.EditorOption.autoClosingDelete),autoClosingBrackets:a,autoClosingQuotes:l,autoClosingPairs:d,autoClosedCharacters:c.getCursorAutoClosedCharacters()},this._wordNavigationType);return new tJ.ReplaceCommand(i,"")});t.pushUndoStop(),t.executeCommands(this.id,u),t.pushUndoStop()}}class l4 extends l5{_delete(e,t){let i=lX.WordOperations.deleteWordLeft(e,t);return i||new tQ.Range(1,1,1,1)}}class l6 extends l5{_delete(e,t){let i=lX.WordOperations.deleteWordRight(e,t);if(i)return i;let o=e.model.getLineCount(),n=e.model.getLineMaxColumn(o);return new tQ.Range(o,n,o,n)}}class l8 extends lY.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:eh.EditorContextKeys.writable,label:(0,J.localize2)(1538,"Delete Word")})}run(e,t,i){if(!t.hasModel())return;let o=(0,lJ.getMapForWordSeparators)(t.getOption(iu.EditorOption.wordSeparators),t.getOption(iu.EditorOption.wordSegmenterLocales)),n=t.getModel(),r=t.getSelections().map(e=>{let t=lX.WordOperations.deleteInsideWord(o,n,e);return new tJ.ReplaceCommand(t,"")});t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordStart,id:"cursorWordStartLeft",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordEndLeft",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordStartFast,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.textInputFocus,ey.ContextKeyExpr.and(rr.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l0.IsWindowsContext)?.negate()),primary:ec.KeyMod.CtrlCmd|ec.KeyCode.LeftArrow,mac:{primary:ec.KeyMod.Alt|ec.KeyCode.LeftArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordStart,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordStartFast,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.textInputFocus,ey.ContextKeyExpr.and(rr.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l0.IsWindowsContext)?.negate()),primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.LeftArrow,mac:{primary:ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.LeftArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordStart,id:"cursorWordStartRight",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.textInputFocus,ey.ContextKeyExpr.and(rr.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l0.IsWindowsContext)?.negate()),primary:ec.KeyMod.CtrlCmd|ec.KeyCode.RightArrow,mac:{primary:ec.KeyMod.Alt|ec.KeyCode.RightArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordRight",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordStart,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:ey.ContextKeyExpr.and(eh.EditorContextKeys.textInputFocus,ey.ContextKeyExpr.and(rr.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l0.IsWindowsContext)?.negate()),primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.RightArrow,mac:{primary:ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.RightArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordRightSelect",precondition:void 0})}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,o,n){return super._move((0,lJ.getMapForWordSeparators)(iu.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}}),(0,lY.registerEditorCommand)(new class extends l2{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,o,n){return super._move((0,lJ.getMapForWordSeparators)(iu.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,o,n){return super._move((0,lJ.getMapForWordSeparators)(iu.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}}),(0,lY.registerEditorCommand)(new class extends l3{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordAccessibility,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,o,n){return super._move((0,lJ.getMapForWordSeparators)(iu.EditorOptions.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,o,n)}}),(0,lY.registerEditorCommand)(new class extends l4{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:lX.WordNavigationType.WordStart,id:"deleteWordStartLeft",precondition:eh.EditorContextKeys.writable})}}),(0,lY.registerEditorCommand)(new class extends l4{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:lX.WordNavigationType.WordEnd,id:"deleteWordEndLeft",precondition:eh.EditorContextKeys.writable})}}),(0,lY.registerEditorCommand)(new class extends l4{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:lX.WordNavigationType.WordStart,id:"deleteWordLeft",precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Backspace,mac:{primary:ec.KeyMod.Alt|ec.KeyCode.Backspace},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,lY.registerEditorCommand)(new class extends l6{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:lX.WordNavigationType.WordStart,id:"deleteWordStartRight",precondition:eh.EditorContextKeys.writable})}}),(0,lY.registerEditorCommand)(new class extends l6{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:lX.WordNavigationType.WordEnd,id:"deleteWordEndRight",precondition:eh.EditorContextKeys.writable})}}),(0,lY.registerEditorCommand)(new class extends l6{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:lX.WordNavigationType.WordEnd,id:"deleteWordRight",precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.Delete,mac:{primary:ec.KeyMod.Alt|ec.KeyCode.Delete},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,lY.registerEditorAction)(l8),e.s(["DeleteWordCommand",()=>l5,"MoveWordCommand",()=>l1],391722);class l9 extends l1{_move(e,t,i,o,n){return lX.WordPartOperations.moveWordPartLeft(e,t,i,n)}}e3.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),e3.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class l7 extends l1{_move(e,t,i,o,n){return lX.WordPartOperations.moveWordPartRight(e,t,i)}}(0,eu.registerEditorCommand)(new class extends l5{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:lX.WordNavigationType.WordStart,id:"deleteWordPartLeft",precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Alt|ec.KeyCode.Backspace},weight:eb.KeybindingWeight.EditorContrib}})}_delete(e,t){let i=lX.WordPartOperations.deleteWordPartLeft(e);return i||new tQ.Range(1,1,1,1)}}),(0,eu.registerEditorCommand)(new class extends l5{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:lX.WordNavigationType.WordEnd,id:"deleteWordPartRight",precondition:eh.EditorContextKeys.writable,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Alt|ec.KeyCode.Delete},weight:eb.KeybindingWeight.EditorContrib}})}_delete(e,t){let i=lX.WordPartOperations.deleteWordPartRight(e);if(i)return i;let o=e.model.getLineCount(),n=e.model.getLineMaxColumn(o);return new tQ.Range(o,n,o,n)}}),(0,eu.registerEditorCommand)(new class extends l9{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordStart,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Alt|ec.KeyCode.LeftArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,eu.registerEditorCommand)(new class extends l9{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordStart,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.LeftArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,eu.registerEditorCommand)(new class extends l7{constructor(){super({inSelectionMode:!1,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Alt|ec.KeyCode.RightArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),(0,eu.registerEditorCommand)(new class extends l7{constructor(){super({inSelectionMode:!0,wordNavigationType:lX.WordNavigationType.WordEnd,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:eh.EditorContextKeys.textInputFocus,primary:0,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyMod.Alt|ec.KeyMod.Shift|ec.KeyCode.RightArrow},weight:eb.KeybindingWeight.EditorContrib}})}}),e.s([],729588);var de=Z;class dt extends de.Disposable{static{this.ID="editor.contrib.readOnlyMessageController"}constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){let e=ai.MessageController.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(iu.EditorOption.readOnlyMessage);t||(t=new tK.MarkdownString(this.editor.isSimpleWidget?(0,J.localize)(1348,"Cannot edit in read-only input"):(0,J.localize)(1349,"Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}}(0,eu.registerEditorContribution)(dt.ID,dt,eu.EditorContributionInstantiation.BeforeFirstInteraction),e.s([],518655);var di=Z,dn=e.i(441928),dr=e.i(774637);let ds=class extends di.Disposable{constructor(e,t,i){super(),this._textModel=e,this._languageFeaturesService=t,this._outlineModelService=i,this._currentModel=(0,oV.observableValue)(this,void 0);const o=(0,oH.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),n=(0,oH.observableSignalFromEvent)("_textModel.onDidChangeContent",eE.Event.debounce(e=>this._textModel.onDidChangeContent(e),()=>void 0,100));this._register((0,oB.autorunWithStore)(async(e,t)=>{o.read(e),n.read(e);let i=t.add(new dr.DisposableCancellationTokenSource),r=await this._outlineModelService.getOrCreate(this._textModel,i.token);t.isDisposed||this._currentModel.set(r,void 0)}))}getBreadcrumbItems(e,t){let i=this._currentModel.read(t);if(!i)return[];let o=i.asListOfDocumentSymbols().filter(t=>e.contains(t.range.startLineNumber)&&!e.contains(t.range.endLineNumber));return o.sort((0,oD.reverseOrder)((0,oD.compareBy)(e=>e.range.endLineNumber-e.range.startLineNumber,oD.numberComparator))),o.map(e=>({name:e.name,kind:e.kind,startLineNumber:e.range.startLineNumber}))}};ds=(0,Y.__decorate)([(0,Y.__param)(1,eD.ILanguageFeaturesService),(0,Y.__param)(2,oK.IOutlineModelService)],ds),dn.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((e,t)=>t.createInstance(ds,e)),e.s([],402720),(0,ti.default)('.monaco-editor .iPadShowKeyboard{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ4LjAzNiA0LjAxSDQuMDA4VjMyLjAzaDQ0LjAyOFY0LjAxWk00LjAwOC4wMDhBNC4wMDMgNC4wMDMgMCAwIDAgLjAwNSA0LjAxVjMyLjAzYTQuMDAzIDQuMDAzIDAgMCAwIDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAgMCA0LjAwMy00LjAwMlY0LjAxQTQuMDAzIDQuMDAzIDAgMCAwIDQ4LjAzNi4wMDhINC4wMDhaTTguMDEgOC4wMTNoNC4wMDN2NC4wMDNIOC4wMVY4LjAxM1ptMTIuMDA4IDBoLTQuMDAydjQuMDAzaDQuMDAyVjguMDEzWm00LjAwMyAwaDQuMDAydjQuMDAzaC00LjAwMlY4LjAxM1ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzVjguMDEzWm00LjAwMiAwaDQuMDAzdjQuMDAzSDQwLjAzVjguMDEzWm0tMjQuMDE1IDguMDA1SDguMDF2NC4wMDNoOC4wMDZ2LTQuMDAzWm00LjAwMiAwaDQuMDAzdjQuMDAzaC00LjAwM3YtNC4wMDNabTEyLjAwOCAwaC00LjAwM3Y0LjAwM2g0LjAwM3YtNC4wMDNabTEyLjAwOCAwdjQuMDAzaC04LjAwNXYtNC4wMDNoOC4wMDVabS0zMi4wMjEgOC4wMDVIOC4wMXY0LjAwM2g0LjAwM3YtNC4wMDNabTQuMDAzIDBoMjAuMDEzdjQuMDAzSDE2LjAxNnYtNC4wMDNabTI4LjAxOCAwSDQwLjAzdjQuMDAzaDQuMDAzdi00LjAwM1oiIGZpbGw9IiM0MjQyNDIiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+") 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px;height:36px;margin:0;min-height:0;min-width:0;overflow:hidden;padding:0;position:absolute;resize:none;width:58px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ4LjAzNiA0LjAxSDQuMDA4VjMyLjAzaDQ0LjAyOFY0LjAxWk00LjAwOC4wMDhBNC4wMDMgNC4wMDMgMCAwIDAgLjAwNSA0LjAxVjMyLjAzYTQuMDAzIDQuMDAzIDAgMCAwIDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAgMCA0LjAwMy00LjAwMlY0LjAxQTQuMDAzIDQuMDAzIDAgMCAwIDQ4LjAzNi4wMDhINC4wMDhaTTguMDEgOC4wMTNoNC4wMDN2NC4wMDNIOC4wMVY4LjAxM1ptMTIuMDA4IDBoLTQuMDAydjQuMDAzaDQuMDAyVjguMDEzWm00LjAwMyAwaDQuMDAydjQuMDAzaC00LjAwMlY4LjAxM1ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzVjguMDEzWm00LjAwMiAwaDQuMDAzdjQuMDAzSDQwLjAzVjguMDEzWm0tMjQuMDE1IDguMDA1SDguMDF2NC4wMDNoOC4wMDZ2LTQuMDAzWm00LjAwMiAwaDQuMDAzdjQuMDAzaC00LjAwM3YtNC4wMDNabTEyLjAwOCAwaC00LjAwM3Y0LjAwM2g0LjAwM3YtNC4wMDNabTEyLjAwOCAwdjQuMDAzaC04LjAwNXYtNC4wMDNoOC4wMDVabS0zMi4wMjEgOC4wMDVIOC4wMXY0LjAwM2g0LjAwM3YtNC4wMDNabTQuMDAzIDBoMjAuMDEzdjQuMDAzSDE2LjAxNnYtNC4wMDNabTI4LjAxOCAwSDQwLjAzdjQuMDAzaDQuMDAzdi00LjAwM1oiIGZpbGw9IiNDNUM1QzUiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+") 50% no-repeat;border:4px solid #252526}',{});var da=Z;class dl extends da.Disposable{static{this.ID="editor.contrib.iPadShowKeyboard"}constructor(e){super(),this.editor=e,this.widget=null,e8.isIOS&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){let e=!this.editor.getOption(iu.EditorOption.readOnly);!this.widget&&e?this.widget=new dd(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}class dd extends da.Disposable{static{this.ID="editor.contrib.ShowKeyboardWidget"}constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register((0,el.addDisposableListener)(this._domNode,"touchstart",e=>{this.editor.focus()})),this._register((0,el.addDisposableListener)(this._domNode,"focus",e=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return dd.ID}getDomNode(){return this._domNode}getPosition(){return{preference:id.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}}}(0,eu.registerEditorContribution)(dl.ID,dl,eu.EditorContributionInstantiation.Eventually),e.s([],231010);var dc=e.i(299665),du=e.i(649427),dh=e.i(116086);e.i(734006);var dp=e.i(369614),dg=e.i(430771);let dm=class extends dp.QuickInputService{constructor(e,t,i,o,n,r){super(t,o,n,r,e),this.keybindingService=i,this.inQuickInputContext=dg.InQuickPickContextKey.bindTo(this.contextKeyService),this.registerListeners()}registerListeners(){this._register(this.onShow(()=>this.inQuickInputContext.set(!0))),this._register(this.onHide(()=>this.inQuickInputContext.set(!1)))}createController(){return super.createController(this.layoutService,{ignoreFocusOut:()=>!this.configurationService.getValue("workbench.quickOpen.closeOnFocusLost"),backKeybindingLabel:()=>this.keybindingService.lookupKeybinding("workbench.action.quickInputBack")?.getLabel()||void 0})}};dm=(0,Y.__decorate)([(0,Y.__param)(0,es.IConfigurationService),(0,Y.__param)(1,eC.IInstantiationService),(0,Y.__param)(2,eM.IKeybindingService),(0,Y.__param)(3,ev.IContextKeyService),(0,Y.__param)(4,iq.IThemeService),(0,Y.__param)(5,e0.ILayoutService)],dm);var d_=e.i(440420),df=e.i(110976),dy=e.i(705266),dv=e.i(623048),dC=e.i(608734),db=e.i(972920),dS=Z,dw=e.i(994633),dE=e.i(988428);let dI=class extends dE.PickerQuickAccessProvider{static{O=this}static{this.PREFIX=">"}static{this.TFIDF_THRESHOLD=.5}static{this.TFIDF_MAX_RESULTS=5}static{this.WORD_FILTER=(0,lu.or)(lu.matchesPrefix,lu.matchesWords,lu.matchesContiguousSubString)}constructor(e,t,i,o,n,r){super(O.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=o,this.telemetryService=n,this.dialogService=r,this.commandsHistory=this._register(this.instantiationService.createInstance(dx)),this.options=e}async _getPicks(e,t,i,o){let n=await this.getCommandPicks(i);if(i.isCancellationRequested)return[];let r=(0,db.createSingleCallFunction)(()=>{let t=new dw.TfIdfCalculator;t.updateDocuments(n.map(e=>({key:e.commandId,textChunks:[this.getTfIdfChunk(e)]})));let o=t.calculateScores(e,i);return(0,dw.normalizeTfIdfScores)(o).filter(e=>e.score>O.TFIDF_THRESHOLD).slice(0,O.TFIDF_MAX_RESULTS)}),s=[];for(let t of n){let o=O.WORD_FILTER(e,t.label)??void 0,n=t.commandAlias?O.WORD_FILTER(e,t.commandAlias)??void 0:void 0;if(o||n)t.highlights={label:o,detail:this.options.showAlias?n:void 0},s.push(t);else if(e===t.commandId)s.push(t);else if(e.length>=3){let e=r();if(i.isCancellationRequested)return[];let o=e.find(e=>e.key===t.commandId);o&&(t.tfIdfScore=o.score,s.push(t))}}let a=new Map;for(let e of s){let t=a.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):a.set(e.label,e)}s.sort((e,t)=>{if(e.tfIdfScore&&t.tfIdfScore)return e.tfIdfScore===t.tfIdfScore?e.label.localeCompare(t.label):t.tfIdfScore-e.tfIdfScore;if(e.tfIdfScore)return 1;if(t.tfIdfScore)return -1;let i=this.commandsHistory.peek(e.commandId),o=this.commandsHistory.peek(t.commandId);if(i&&o)return i>o?-1:1;if(i)return -1;if(o)return 1;if(this.options.suggestedCommandIds){let i=this.options.suggestedCommandIds.has(e.commandId),o=this.options.suggestedCommandIds.has(t.commandId);if(i&&o)return 0;if(i)return -1;if(o)return 1}return e.label.localeCompare(t.label)});let l=[],d=!1,c=!0,u=!!this.options.suggestedCommandIds;for(let e=0;e<s.length;e++){let t=s[e];0===e&&this.commandsHistory.peek(t.commandId)&&(l.push({type:"separator",label:(0,J.localize)(1827,"recently used")}),d=!0),c&&void 0!==t.tfIdfScore&&(l.push({type:"separator",label:(0,J.localize)(1828,"similar commands")}),c=!1),u&&void 0===t.tfIdfScore&&!this.commandsHistory.peek(t.commandId)&&this.options.suggestedCommandIds?.has(t.commandId)&&(l.push({type:"separator",label:(0,J.localize)(1829,"commonly used")}),d=!0,u=!1),!d||void 0!==t.tfIdfScore||this.commandsHistory.peek(t.commandId)||this.options.suggestedCommandIds?.has(t.commandId)||(l.push({type:"separator",label:(0,J.localize)(1830,"other commands")}),d=!1),l.push(this.toCommandPick(t,o))}return this.hasAdditionalCommandPicks(e,i)?{picks:l,additionalPicks:(async()=>{let t=await this.getAdditionalCommandPicks(n,s,e,i);if(i.isCancellationRequested)return[];let r=t.map(e=>this.toCommandPick(e,o));return c&&r[0]?.type!=="separator"&&r.unshift({type:"separator",label:(0,J.localize)(1828,"similar commands")}),r})()}:l}toCommandPick(e,t){if("separator"===e.type)return e;let i=this.keybindingService.lookupKeybinding(e.commandId),o=i?(0,J.localize)(1831,"{0}, {1}",e.label,i.getAriaLabel()):e.label;return{...e,ariaLabel:o,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:async()=>{this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:t?.from??"quick open"});try{e.args?.length?await this.commandService.executeCommand(e.commandId,...e.args):await this.commandService.executeCommand(e.commandId)}catch(t){(0,e$.isCancellationError)(t)||this.dialogService.error((0,J.localize)(1832,"Command '{0}' resulted in an error",e.label),(0,dC.toErrorMessage)(t))}}}}getTfIdfChunk({label:e,commandAlias:t,commandDescription:i}){let o=e;return t&&t!==e&&(o+=` - ${t}`),i&&i.value!==e&&(o+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),o}};dI=O=(0,Y.__decorate)([(0,Y.__param)(1,eC.IInstantiationService),(0,Y.__param)(2,eM.IKeybindingService),(0,Y.__param)(3,iT.ICommandService),(0,Y.__param)(4,nn.ITelemetryService),(0,Y.__param)(5,tf.IDialogService)],dI);let dx=class extends dS.Disposable{static{F=this}static{this.DEFAULT_COMMANDS_HISTORY_LENGTH=50}static{this.PREF_KEY_CACHE="commandPalette.mru.cache"}static{this.PREF_KEY_COUNTER="commandPalette.mru.counter"}static{this.counter=1}static{this.hasChanges=!1}constructor(e,t,i){super(),this.storageService=e,this.configurationService=t,this.logService=i,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===td.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){(!e||e.affectsConfiguration("workbench.commandPalette.history"))&&(this.configuredCommandsHistoryLength=F.getConfiguredCommandHistoryLength(this.configurationService),F.cache&&F.cache.limit!==this.configuredCommandsHistoryLength&&(F.cache.limit=this.configuredCommandsHistoryLength,F.hasChanges=!0))}load(){let e,t=this.storageService.get(F.PREF_KEY_CACHE,td.StorageScope.PROFILE);if(t)try{e=JSON.parse(t)}catch(e){this.logService.error(`[CommandsHistory] invalid data: ${e}`)}let i=F.cache=new iy.LRUCache(this.configuredCommandsHistoryLength,1);e&&(e.usesLRU?e.entries:e.entries.sort((e,t)=>e.value-t.value)).forEach(e=>i.set(e.key,e.value));F.counter=this.storageService.getNumber(F.PREF_KEY_COUNTER,td.StorageScope.PROFILE,F.counter)}push(e){F.cache&&(F.cache.set(e,F.counter++),F.hasChanges=!0)}peek(e){return F.cache?.peek(e)}saveState(){if(!F.cache||!F.hasChanges)return;let e={usesLRU:!0,entries:[]};F.cache.forEach((t,i)=>e.entries.push({key:i,value:t})),this.storageService.store(F.PREF_KEY_CACHE,JSON.stringify(e),td.StorageScope.PROFILE,td.StorageTarget.USER),this.storageService.store(F.PREF_KEY_COUNTER,F.counter,td.StorageScope.PROFILE,td.StorageTarget.USER),F.hasChanges=!1}static getConfiguredCommandHistoryLength(e){let t=e.getValue(),i=t.workbench?.commandPalette?.history;return"number"==typeof i?i:F.DEFAULT_COMMANDS_HISTORY_LENGTH}static clearHistory(e,t){let i=F.getConfiguredCommandHistoryLength(e);F.cache=new iy.LRUCache(i),F.counter=1,F.hasChanges=!0}};dx=F=(0,Y.__decorate)([(0,Y.__param)(0,tc.IStorageService),(0,Y.__param)(1,es.IConfigurationService),(0,Y.__param)(2,th.ILogService)],dx);class dD extends dI{constructor(e,t,i,o,n,r){super(e,t,i,o,n,r)}getCodeEditorCommandPicks(){let e=this.activeTextEditorControl;if(!e)return[];let t=[];for(let i of e.getSupportedActions()){let e;i.metadata?.description&&(e=(0,dv.isLocalizedString)(i.metadata.description)?i.metadata.description:{original:i.metadata.description,value:i.metadata.description}),t.push({commandId:i.id,commandAlias:i.alias,commandDescription:e,label:(0,dy.stripIcons)(i.label)||i.id})}return t}}var dk=em,dA=e.i(576549),dM=e.i(462142),dL=e.i(609746),dT=e.i(173435),dR=e.i(634524),dN=e.i(393662),dP=e.i(810364),dO=e.i(380755),dF=e.i(659199),dK=e.i(43095);let dW=class extends dD{static{K=this}static{this.AI_RELATED_INFORMATION_MAX_PICKS=5}static{this.AI_RELATED_INFORMATION_DEBOUNCE=200}get activeTextEditorControl(){return this.editorService.activeTextEditorControl}get defaultFilterValue(){if(this.configuration.preserveInput)return dM.DefaultQuickAccessFilterValue.LAST}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super({showAlias:!e8.Language.isDefaultVariant(),noResultsPick:()=>({label:(0,J.localize)(8206,"No matching commands"),commandId:""})},o,n,r,s,a),this.editorService=e,this.menuService=t,this.extensionService=i,this.configurationService=l,this.editorGroupService=d,this.preferencesService=c,this.productService=u,this.aiRelatedInformationService=h,this.chatAgentService=p,this.extensionRegistrationRace=(0,ta.raceTimeout)(this.extensionService.whenInstalledExtensionsRegistered(),800),this.useAiRelatedInfo=!1,this._register(l.onDidChangeConfiguration(e=>this.updateOptions(e))),this.updateOptions()}get configuration(){let e=this.configurationService.getValue().workbench.commandPalette;return{preserveInput:e.preserveInput,experimental:e.experimental}}updateOptions(e){if(e&&!e.affectsConfiguration("workbench.commandPalette.experimental"))return;let t=this.configuration,i=t.experimental.suggestCommands&&this.productService.commandPaletteSuggestedCommandIds?.length?new Set(this.productService.commandPaletteSuggestedCommandIds):void 0;this.options.suggestedCommandIds=i,this.useAiRelatedInfo=t.experimental.enableNaturalLanguageSearch}async getCommandPicks(e){return(await this.extensionRegistrationRace,e.isCancellationRequested)?[]:[...this.getCodeEditorCommandPicks(),...this.getGlobalCommandPicks()].map(e=>({...e,buttons:[{iconClass:rD.ThemeIcon.asClassName(tP.Codicon.gear),tooltip:(0,J.localize)(8207,"Configure Keybinding")}],trigger:()=>(this.preferencesService.openGlobalKeybindingSettings(!1,{query:(0,dF.createKeybindingCommandQuery)(e.commandId,e.commandWhen)}),dE.TriggerAction.CLOSE_PICKER)}))}hasAdditionalCommandPicks(e,t){return!!this.useAiRelatedInfo&&!t.isCancellationRequested&&""!==e&&!!this.aiRelatedInformationService.isEnabled()}async getAdditionalCommandPicks(e,t,i,o){let n;if(!this.hasAdditionalCommandPicks(i,o))return[];try{await (0,ta.timeout)(K.AI_RELATED_INFORMATION_DEBOUNCE,o),n=await this.getRelatedInformationPicks(e,t,i,o)}catch(e){return[]}(t.length||n.length)&&n.push({type:"separator"});let r=this.chatAgentService.getDefaultAgent(dT.ChatAgentLocation.Panel);return r&&n.push({label:(0,J.localize)(8208,"Ask {0}: {1}",r.fullName,i),commandId:"quickChat"===this.configuration.experimental.askChatLocation?dL.ASK_QUICK_QUESTION_ACTION_ID:dL.CHAT_OPEN_ACTION_ID,args:[i]}),n}async getRelatedInformationPicks(e,t,i,o){let n=await this.aiRelatedInformationService.getRelatedInformation(i,[dN.RelatedInformationType.CommandInformation],o);n.sort((e,t)=>t.weight-e.weight);let r=new Set(t.map(e=>e.commandId)),s=[];for(let t of n){if(s.length===K.AI_RELATED_INFORMATION_MAX_PICKS)break;let i=e.find(e=>e.commandId===t.command&&!r.has(e.commandId));i&&s.push(i)}return s}getGlobalCommandPicks(){let e=[],t=this.editorService.activeEditorPane?.scopedContextKeyService||this.editorGroupService.activeGroup.scopedContextKeyService;for(let i of this.menuService.getMenuActions(dk.MenuId.CommandPalette,t).reduce((e,[,t])=>[...e,...t],[]).filter(e=>e instanceof dk.MenuItemAction&&e.enabled)){let t=("string"==typeof i.item.title?i.item.title:i.item.title.value)||i.item.id,o="string"==typeof i.item.category?i.item.category:i.item.category?.value;o&&(t=(0,J.localize)(8209,"{0}: {1}",o,t));let n="string"!=typeof i.item.title?i.item.title.original:void 0,r=o&&i.item.category&&"string"!=typeof i.item.category?i.item.category.original:void 0,s=n&&o?r?`${r}: ${n}`:`${o}: ${n}`:n,a=i.item.metadata?.description,l=void 0===a||(0,dv.isLocalizedString)(a)?a:{value:a,original:a};e.push({commandId:i.item.id,commandWhen:i.item.precondition?.serialize(),commandAlias:s,label:(0,dy.stripIcons)(t),commandDescription:l})}return e}};dW=K=(0,Y.__decorate)([(0,Y.__param)(0,tS.IEditorService),(0,Y.__param)(1,nA.IMenuService),(0,Y.__param)(2,er.IExtensionService),(0,Y.__param)(3,eC.IInstantiationService),(0,Y.__param)(4,eM.IKeybindingService),(0,Y.__param)(5,iT.ICommandService),(0,Y.__param)(6,nn.ITelemetryService),(0,Y.__param)(7,tf.IDialogService),(0,Y.__param)(8,es.IConfigurationService),(0,Y.__param)(9,dO.IEditorGroupsService),(0,Y.__param)(10,dK.IPreferencesService),(0,Y.__param)(11,dA.IProductService),(0,Y.__param)(12,dP.IAiRelatedInformationService),(0,Y.__param)(13,dR.IChatAgentService)],dW);class dz extends dk.Action2{static{this.ID="workbench.action.showCommands"}constructor(){super({id:dz.ID,title:(0,J.localize2)(8210,"Show All Commands"),keybinding:{weight:eb.KeybindingWeight.WorkbenchContrib,when:void 0,primary:df.isFirefox?void 0:ec.KeyMod.CtrlCmd|ec.KeyMod.Shift|ec.KeyCode.KeyP,secondary:[ec.KeyCode.F1]},f1:!0})}async run(e){e.get(eW.IQuickInputService).quickAccess.show(dW.PREFIX)}}class dV extends dk.Action2{constructor(){super({id:"workbench.action.clearCommandHistory",title:(0,J.localize2)(8211,"Clear Command History"),f1:!0})}async run(e){let t=e.get(es.IConfigurationService),i=e.get(tc.IStorageService),o=e.get(tf.IDialogService);if(dx.getConfiguredCommandHistoryLength(t)>0){let{confirmed:e}=await o.confirm({type:"warning",message:(0,J.localize)(8212,"Do you want to clear the history of recently used commands?"),detail:(0,J.localize)(8213,"This action is irreversible!"),primaryButton:(0,J.localize)(8214,"&&Clear")});if(!e)return;dx.clearHistory(t,i)}}}var dB=e.i(977574),dH=em;let dU=class extends dB.AbstractGotoLineQuickAccessProvider{constructor(e,t,i){super(),this.editorService=e,this.editorGroupService=t,this.configurationService=i,this.onDidActiveTextEditorControlChange=this.editorService.onDidActiveEditorChange}get configuration(){let e=this.configurationService.getValue().workbench?.editor;return{openEditorPinned:!e?.enablePreviewFromQuickOpen||!e?.enablePreview}}get activeTextEditorControl(){return this.editorService.activeTextEditorControl}gotoLocation(e,t){if((t.keyMods.alt||this.configuration.openEditorPinned&&t.keyMods.ctrlCmd||t.forceSideBySide)&&this.editorService.activeEditor){e.restoreViewState?.();let i={selection:t.range,pinned:t.keyMods.ctrlCmd||this.configuration.openEditorPinned,preserveFocus:t.preserveFocus};this.editorGroupService.sideGroup.openEditor(this.editorService.activeEditor,i)}else super.gotoLocation(e,t)}};dU=(0,Y.__decorate)([(0,Y.__param)(0,tS.IEditorService),(0,Y.__param)(1,dO.IEditorGroupsService),(0,Y.__param)(2,es.IConfigurationService)],dU);class dG extends dH.Action2{static{this.ID="workbench.action.gotoLine"}constructor(){super({id:dG.ID,title:(0,J.localize2)(4714,"Go to Line/Column..."),f1:!0,keybinding:{weight:eb.KeybindingWeight.WorkbenchContrib,when:null,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.KeyG,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyCode.KeyG}}})}async run(e){e.get(eW.IQuickInputService).quickAccess.show(dU.PREFIX)}}(0,dH.registerAction2)(dG),ee.Registry.as(dM.Extensions.Quickaccess).registerQuickAccessProvider({ctor:dU,prefix:dB.AbstractGotoLineQuickAccessProvider.PREFIX,placeholder:(0,J.localize)(4715,"Type the line number and optional column to go to (e.g. 42:5 for line 42 and column 5)."),helpEntries:[{description:(0,J.localize)(4716,"Go to Line/Column"),commandId:dG.ID}]}),e.i(814793);var dq=e.i(370572);let d$=class{static{W=this}static{this.PREFIX="?"}constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=ee.Registry.as(dM.Extensions.Quickaccess)}provide(e){let t=new Z.DisposableStore;return t.add(e.onDidAccept(()=>{let[t]=e.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(e=>{let t=this.registry.getQuickAccessProvider(e.substr(W.PREFIX.length));t&&t.prefix&&t.prefix!==W.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(e=>e.prefix!==W.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((e,t)=>e.prefix.localeCompare(t.prefix)).flatMap(e=>this.createPicks(e))}createPicks(e){return e.helpEntries.map(t=>{let i=t.prefix||e.prefix,o=i||"";return{prefix:i,label:o,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:(0,J.localize)(1833,"{0}, {1}",o,t.description),description:t.description}})}};d$=W=(0,Y.__decorate)([(0,Y.__param)(0,eW.IQuickInputService),(0,Y.__param)(1,eM.IKeybindingService)],d$);var dj=dE,dQ=e.i(900089),dY=e.i(970469),dZ=e.i(24165),dX=e.i(657009),dJ=em,d0=e.i(103072),d1=e.i(580027),d2=e.i(716199);let d3=class extends dj.PickerQuickAccessProvider{static{z=this}static{this.PREFIX="view "}constructor(e,t,i,o,n,r,s,a){super(z.PREFIX,{noResultsPick:{label:(0,J.localize)(8227,"No matching views"),containerLabel:""}}),this.viewDescriptorService=e,this.viewsService=t,this.outputService=i,this.terminalService=o,this.terminalGroupService=n,this.debugService=r,this.paneCompositeService=s,this.contextKeyService=a}_getPicks(e){let t,i=this.doGetViewPickItems().filter(t=>!e||(t.highlights={label:(0,lu.matchesFuzzy)(e,t.label,!0)??void 0},t.highlights.label||(0,t2.fuzzyContains)(t.containerLabel,e))),o=new Map;for(let e of i)o.has(e.label)||o.set(e.label,e.containerLabel);let n=[];for(let e of i){if(t!==e.containerLabel){let i;t=e.containerLabel,i=o.has(t)?`${o.get(t)} / ${t}`:t,n.push({type:"separator",label:i})}n.push(e)}return n}doGetViewPickItems(){let e=[],t=(e,t)=>{let i=this.viewDescriptorService.getViewContainerModel(t),o=[];for(let e of i.allViewDescriptors)this.contextKeyService.contextMatchesRules(e.when)&&o.push({label:e.name.value,containerLabel:i.title,accept:()=>this.viewsService.openView(e.id,!0)});return o},i=(t,i)=>{let o=this.paneCompositeService.getPaneComposites(t),n=this.paneCompositeService.getVisiblePaneCompositeIds(t);for(let r of(o.sort((e,t)=>{let i=n.findIndex(t=>e.id===t),r=n.findIndex(e=>t.id===e);return i<0&&(i=o.indexOf(e)+n.length),r<0&&(r=o.indexOf(t)+n.length),i-r}),o))if(this.includeViewContainer(r)){let o=this.viewDescriptorService.getViewContainerById(r.id);o&&e.push({label:this.viewDescriptorService.getViewContainerModel(o).title,containerLabel:i,accept:()=>this.paneCompositeService.openPaneComposite(r.id,t,!0)})}};i(dQ.ViewContainerLocation.Sidebar,(0,J.localize)(8228,"Side Bar")),i(dQ.ViewContainerLocation.Panel,(0,J.localize)(8229,"Panel")),i(dQ.ViewContainerLocation.AuxiliaryBar,(0,J.localize)(8230,"Secondary Side Bar"));let o=i=>{for(let o of this.paneCompositeService.getPaneComposites(i)){let i=this.viewDescriptorService.getViewContainerById(o.id);i&&e.push(...t(o,i))}};for(let t of(o(dQ.ViewContainerLocation.Sidebar),o(dQ.ViewContainerLocation.Panel),o(dQ.ViewContainerLocation.AuxiliaryBar),this.terminalGroupService.groups.forEach((t,i)=>{t.terminalInstances.forEach((t,o)=>{let n=(0,J.localize)(8231,"{0}: {1}",`${i+1}.${o+1}`,t.title);e.push({label:n,containerLabel:(0,J.localize)(8232,"Terminal"),accept:async()=>{await this.terminalGroupService.showPanel(!0),this.terminalService.setActiveInstance(t)}})})}),this.debugService.getModel().getSessions(!0).filter(e=>e.hasSeparateRepl()).forEach((t,i)=>{let o=t.name;e.push({label:o,containerLabel:(0,J.localize)(8233,"Debug Console"),accept:async()=>{await this.debugService.focusStackFrame(void 0,void 0,t,{explicit:!0}),this.viewsService.isViewVisible(d1.REPL_VIEW_ID)||await this.viewsService.openView(d1.REPL_VIEW_ID,!0)}})}),this.outputService.getChannelDescriptors()))e.push({label:t.label,containerLabel:(0,J.localize)(8234,"Output"),accept:()=>this.outputService.showChannel(t.id)});return e}includeViewContainer(e){let t=this.viewDescriptorService.getViewContainerById(e.id);return!t?.hideIfEmpty||this.viewDescriptorService.getViewContainerModel(t).activeViewDescriptors.length>0}};d3=z=(0,Y.__decorate)([(0,Y.__param)(0,dY.IViewDescriptorService),(0,Y.__param)(1,dZ.IViewsService),(0,Y.__param)(2,ty.IOutputService),(0,Y.__param)(3,dX.ITerminalService),(0,Y.__param)(4,dX.ITerminalGroupService),(0,Y.__param)(5,d2.IDebugService),(0,Y.__param)(6,d0.IPaneCompositePartService),(0,Y.__param)(7,ev.IContextKeyService)],d3);class d5 extends dJ.Action2{static{this.ID="workbench.action.openView"}constructor(){super({id:d5.ID,title:(0,J.localize2)(8235,"Open View"),category:tg.Categories.View,f1:!0})}async run(e){e.get(eW.IQuickInputService).quickAccess.show(d3.PREFIX)}}class d4 extends dJ.Action2{static{this.ID="workbench.action.quickOpenView"}static{this.KEYBINDING={primary:ec.KeyMod.CtrlCmd|ec.KeyCode.KeyQ,mac:{primary:ec.KeyMod.WinCtrl|ec.KeyCode.KeyQ},linux:{primary:0}}}constructor(){super({id:d4.ID,title:(0,J.localize2)(8236,"Quick Open View"),category:tg.Categories.View,f1:!1,keybinding:{weight:eb.KeybindingWeight.WorkbenchContrib,when:void 0,...d4.KEYBINDING}})}async run(e){let t=e.get(eM.IKeybindingService),i=e.get(eW.IQuickInputService),o=t.lookupKeybindings(d4.ID);i.quickAccess.show(d3.PREFIX,{quickNavigateConfiguration:{keybindings:o},itemActivation:dq.ItemActivation.FIRST})}}let d6=ee.Registry.as(dM.Extensions.Quickaccess);d6.registerQuickAccessProvider({ctor:d$,prefix:d$.PREFIX,placeholder:(0,J.localize)(8215,"Type '{0}' to get help on the actions you can take from here.",d$.PREFIX),helpEntries:[{description:(0,J.localize)(8216,"Show all Quick Access Providers"),commandCenterOrder:70,commandCenterLabel:(0,J.localize)(8217,"More")}]}),d6.registerQuickAccessProvider({ctor:d3,prefix:d3.PREFIX,contextKey:"inViewsPicker",placeholder:(0,J.localize)(8218,"Type the name of a view, output channel or terminal to open."),helpEntries:[{description:(0,J.localize)(8219,"Open View"),commandId:d5.ID}]}),em.MenuRegistry.appendMenuItem(em.MenuId.MenubarViewMenu,{group:"1_open",command:{id:d5.ID,title:(0,J.localize)(8224,"&&Open View...")},order:2}),em.MenuRegistry.appendMenuItem(em.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"workbench.action.gotoLine",title:(0,J.localize)(8225,"Go to &&Line/Column...")},order:1}),(0,em.registerAction2)(dV),(0,em.registerAction2)(d5),(0,em.registerAction2)(d4);let d8=ey.ContextKeyExpr.and(dg.inQuickPickContext,ey.ContextKeyExpr.has("inViewsPicker")),d9=d4.KEYBINDING,d7="workbench.action.quickOpenNavigateNextInViewPicker";eb.KeybindingsRegistry.registerCommandAndKeybindingRule({id:d7,weight:eb.KeybindingWeight.WorkbenchContrib+50,handler:(0,dg.getQuickNavigateHandler)(d7,!0),when:d8,primary:d9.primary,linux:d9.linux,mac:d9.mac});let ce="workbench.action.quickOpenNavigatePreviousInViewPicker";eb.KeybindingsRegistry.registerCommandAndKeybindingRule({id:ce,weight:eb.KeybindingWeight.WorkbenchContrib+50,handler:(0,dg.getQuickNavigateHandler)(ce,!1),when:d8,primary:d9.primary|ec.KeyMod.Shift,linux:d9.linux,mac:{primary:d9.mac.primary|ec.KeyMod.Shift}});var ct=em,ci=e.i(797837),co=Z,cn=e.i(308955);let cr=class extends co.Disposable{static{this.ID="workbench.contrib.externalUriResolver"}constructor(e,t){super(),t.options?.resolveExternalUri&&this._register(e.registerExternalUriResolver({resolveExternalUri:async e=>({resolved:await t.options.resolveExternalUri(e),dispose:()=>{}})}))}};cr=(0,Y.__decorate)([(0,Y.__param)(0,no.IOpenerService),(0,Y.__param)(1,cn.IBrowserWorkbenchEnvironmentService)],cr);let cs=ip.URI.parse("trustedDomains:/Trusted Domains"),ca="http.linkProtectionTrustedDomains",cl="http.linkProtectionTrustedDomainsContent",cd={id:"workbench.action.manageTrustedDomain",description:{description:(0,J.localize2)(10482,"Manage Trusted Domains"),args:[]},handler:async e=>{e.get(tS.IEditorService).openEditor({resource:cs,languageId:"jsonc",options:{pinned:!0}})}};async function cc(e,t,i,o,n,r,s){let a=ip.URI.parse(t),l=a.authority.split("."),d=l.slice(l.length-2).join("."),c=[];if(c.push({type:"item",label:(0,J.localize)(10483,"Trust {0}",t),id:"trust",toTrust:t,picked:!0}),4===l.length&&l.every(e=>Number.isInteger(+e)||Number.isInteger(+e.split(":")[0]))){if(a.authority.includes(":")){let e=a.authority.split(":")[0];c.push({type:"item",label:(0,J.localize)(10484,"Trust {0} on all ports",e),toTrust:e+":*",id:"trust"})}}else c.push({type:"item",label:(0,J.localize)(10485,"Trust {0} and all its subdomains",d),toTrust:"*."+d,id:"trust"});c.push({type:"item",label:(0,J.localize)(10486,"Trust all domains (disables link protection)"),toTrust:"*",id:"trust"}),c.push({type:"item",label:(0,J.localize)(10487,"Manage Trusted Domains"),id:"manage"});let u=await o.pick(c,{activeItem:c[0]});if(u&&u.id)switch(u.id){case"manage":return await r.openEditor({resource:cs.with({fragment:i.toString()}),languageId:"jsonc",options:{pinned:!0}}),e;case"trust":{let t=u.toTrust;if(-1===e.indexOf(t))return n.remove(cl,td.StorageScope.APPLICATION),n.store(ca,JSON.stringify([...e,t]),td.StorageScope.APPLICATION,td.StorageTarget.USER),[...e,t]}}return[]}async function cu(e){let{defaultTrustedDomains:t,trustedDomains:i}=ch(e);return{defaultTrustedDomains:t,trustedDomains:i}}function ch(e){let t=e.get(tc.IStorageService),i=e.get(dA.IProductService),o=e.get(cn.IBrowserWorkbenchEnvironmentService),n=[...i.linkProtectionTrustedDomains??[],...o.options?.additionalTrustedDomains??[]],r=[];try{let e=t.get(ca,td.StorageScope.APPLICATION);e&&(r=JSON.parse(e))}catch(e){}return{defaultTrustedDomains:n,trustedDomains:r}}var cp=e.i(790059);let cg={type:tC.FileType.File,ctime:Date.now(),mtime:Date.now(),size:0},cm=`// Links matching one or more entries in the list below can be opened without link protection.
// The following examples show what entries can look like:
// - "https://microsoft.com": Matches this specific domain using https
// - "https://microsoft.com:8080": Matches this specific domain on this port using https
// - "https://microsoft.com:*": Matches this specific domain on any port using https
// - "https://microsoft.com/foo": Matches https://microsoft.com/foo and https://microsoft.com/foo/bar,
//   but not https://microsoft.com/foobar or https://microsoft.com/bar
// - "https://*.microsoft.com": Match all domains ending in "microsoft.com" using https
// - "microsoft.com": Match this specific domain using either http or https
// - "*.microsoft.com": Match all domains ending in "microsoft.com" using either http or https
// - "http://192.168.0.1: Matches this specific IP using http
// - "http://192.168.0.*: Matches all IP's with this prefix using http
// - "*": Match all domains using either http or https
//
`,c_=`//
// You can use the "Manage Trusted Domains" command to open this file.
// Save this file to apply the trusted domains rules.
`,cf=`[
	// "https://microsoft.com"
]`,cy=class{static{this.ID="workbench.contrib.trustedDomainsFileSystemProvider"}constructor(e,t,i){this.fileService=e,this.storageService=t,this.instantiationService=i,this.capabilities=tC.FileSystemProviderCapabilities.FileReadWrite,this.onDidChangeCapabilities=eE.Event.None,this.onDidChangeFile=eE.Event.None,this.fileService.registerProvider("trustedDomains",this)}stat(e){return Promise.resolve(cg)}async readFile(e){let t,i=this.storageService.get(cl,td.StorageScope.APPLICATION),o=e.fragment,{defaultTrustedDomains:n,trustedDomains:r}=await this.instantiationService.invokeFunction(cu);return(!i||-1===i.indexOf(cm)||-1===i.indexOf(c_)||-1===i.indexOf(o??"")||[...n,...r].some(e=>!(0,ih.assertIsDefined)(i).includes(e)))&&(t=cm,n.length>0?(t+=`// By default, VS Code trusts "localhost" as well as the following domains:
`,n.forEach(e=>{t+=`// - "${e}"
`})):t+=`// By default, VS Code trusts "localhost".
`,t+=c_,t+=o?`
// Currently configuring trust for ${o}
`:"",0===r.length?t+=cf:t+=JSON.stringify(r,null,2),i=t),n3.VSBuffer.fromString(i).buffer}writeFile(e,t,i){try{let e=n3.VSBuffer.wrap(t).toString(),i=(0,cp.parse)(e);this.storageService.store(cl,e,td.StorageScope.APPLICATION,td.StorageTarget.USER),this.storageService.store(ca,JSON.stringify(i)||"",td.StorageScope.APPLICATION,td.StorageTarget.USER)}catch(e){}return Promise.resolve()}watch(e,t){return{dispose(){}}}mkdir(e){return Promise.resolve(void 0)}readdir(e){return Promise.resolve(void 0)}delete(e,t){return Promise.resolve(void 0)}rename(e,t,i){return Promise.resolve(void 0)}};cy=(0,Y.__decorate)([(0,Y.__param)(0,n5.IFileService),(0,Y.__param)(1,tc.IStorageService),(0,Y.__param)(2,eC.IInstantiationService)],cy);var cv=e.i(533412),cC=Z;let cb=(e,t)=>{let i=e.with({query:null,fragment:null}).toString(!0);t=t.replace(/\/+$/,"");let o=Array.from({length:(i=i.replace(/\/+$/,"")).length+1}).map(()=>Array.from({length:t.length+1}).map(()=>void 0));if(/^[^./:]*:\/\//.test(t))return cS(o,i,t,0,0);let n=/^(https?):\/\//.exec(i)?.[1];return!!n&&cS(o,i,`${n}://${t}`,0,0)},cS=(e,t,i,o,n)=>{if(e[o]?.[n]!==void 0)return e[o][n];let r=[];if(o===t.length)return n===i.length;if(n===i.length)return"/"===t.slice(o)[0];if(t[o]===i[n]&&r.push(cS(e,t,i,o+1,n+1)),i[n]+i[n+1]==="*."&&(["/",":"].includes(t[o])||r.push(cS(e,t,i,o+1,n)),r.push(cS(e,t,i,o,n+2))),"*"===i[n]&&(o+1===t.length?r.push(cS(e,t,i,o+1,n+1)):r.push(cS(e,t,i,o+1,n)),r.push(cS(e,t,i,o,n+1))),i[n]+i[n+1]===":*")if(":"===t[o]){let s=o+1;do s++;while(/[0-9]/.test(t[s]))r.push(cS(e,t,i,s,n+2))}else r.push(cS(e,t,i,o,n+2));return e[o][n]=r.some(e=>!0===e)};e.s(["testUrlMatchesGlob",()=>cb],257912);let cw=class extends cC.Disposable{constructor(e,t){super(),this._instantiationService=e,this._storageService=t;const i=()=>new el.WindowIdleValue(iC.mainWindow,()=>{let{defaultTrustedDomains:e,trustedDomains:t}=this._instantiationService.invokeFunction(ch);return[...e,...t]});this._staticTrustedDomainsResult=i(),this._register(this._storageService.onDidChangeValue(td.StorageScope.APPLICATION,ca,this._store)(()=>{this._staticTrustedDomainsResult?.dispose(),this._staticTrustedDomainsResult=i()}))}isValid(e){let{defaultTrustedDomains:t,trustedDomains:i}=this._instantiationService.invokeFunction(ch);return cD(e,[...t,...i])}};cw=(0,Y.__decorate)([(0,Y.__param)(0,eC.IInstantiationService),(0,Y.__param)(1,tc.IStorageService)],cw);let cE=/^localhost(:\d+)?$/i,cI=/^127.0.0.1(:\d+)?$/;function cx(e){try{let t="string"==typeof e?ip.URI.parse(e,!0):e;if(["github.com"].includes(t.authority))return t.with({path:t.path.toLowerCase()}).toString(!0);return t.toString(!0)}catch{return e.toString()}}function cD(e,t){var i;if(e=ip.URI.parse(cx(e)),t=t.map(cx),i=e.authority,cE.test(i)||cI.test(i))return!0;for(let i=0;i<t.length;i++)if("*"===t[i]||cb(e,t[i]))return!0;return!1}e.s(["TrustedDomainService",()=>cw,"isURLDomainTrusted",()=>cD],231018);var ck=e.i(736758);let cA=class{constructor(e,t,i,o,n,r,s,a,l,d,c,u){this._openerService=e,this._storageService=t,this._dialogService=i,this._productService=o,this._quickInputService=n,this._editorService=r,this._clipboardService=s,this._telemetryService=a,this._instantiationService=l,this._configurationService=d,this._workspaceTrustService=c,this._trustedDomainService=u,this._openerService.registerValidator({shouldOpen:(e,t)=>this.validateLink(e,t)})}async validateLink(e,t){let i;if(!(0,cv.matchesScheme)(e,cv.Schemas.http)&&!(0,cv.matchesScheme)(e,cv.Schemas.https)||t?.fromWorkspace&&this._workspaceTrustService.isWorkspaceTrusted()&&!this._configurationService.getValue("workbench.trustedDomains.promptInTrustedWorkspace")||(i="string"==typeof e?ip.URI.parse(e):e,await this._trustedDomainService.isValid(i)))return!0;{let{scheme:t,authority:o,path:n,query:r,fragment:s}=i,a=`${t}://${o}${n}`,l=`${r?"?"+r:""}${s?"#"+s:""}`,d=Math.min(Math.max(5,Math.max(0,60-a.length)),l.length);d===l.length?a+=l:a+=l.charAt(0)+"..."+l.substring(l.length-d+1);let{result:c}=await this._dialogService.prompt({type:oY.default.Info,message:(0,J.localize)(10488,"Do you want {0} to open the external website?",this._productService.nameShort),detail:"string"==typeof e?e:a,buttons:[{label:(0,J.localize)(10489,"&&Open"),run:()=>!0},{label:(0,J.localize)(10490,"&&Copy"),run:()=>(this._clipboardService.writeText("string"==typeof e?e:i.toString(!0)),!1)},{label:(0,J.localize)(10491,"Configure &&Trusted Domains"),run:async()=>{let{trustedDomains:e}=this._instantiationService.invokeFunction(ch),n=`${t}://${o}`,r=await cc(e,n,i,this._quickInputService,this._storageService,this._editorService);return!!(-1!==r.indexOf("*")||cD(i,r))}}],cancelButton:{run:()=>!1}});return c}}};cA=(0,Y.__decorate)([(0,Y.__param)(0,no.IOpenerService),(0,Y.__param)(1,tc.IStorageService),(0,Y.__param)(2,tf.IDialogService),(0,Y.__param)(3,dA.IProductService),(0,Y.__param)(4,eW.IQuickInputService),(0,Y.__param)(5,tS.IEditorService),(0,Y.__param)(6,e9.IClipboardService),(0,Y.__param)(7,nn.ITelemetryService),(0,Y.__param)(8,eC.IInstantiationService),(0,Y.__param)(9,es.IConfigurationService),(0,Y.__param)(10,lL.IWorkspaceTrustManagementService),(0,Y.__param)(11,ck.ITrustedDomainService)],cA);var cM=e.i(78732);class cL extends ct.Action2{constructor(){super({id:"workbench.action.url.openUrl",title:(0,J.localize2)(10492,"Open URL"),category:tg.Categories.Developer,f1:!0})}async run(e){let t=e.get(eW.IQuickInputService),i=e.get(ci.IURLService);return t.input({prompt:(0,J.localize)(10493,"URL to open")}).then(e=>{if(e){let t=ip.URI.parse(e);i.open(t,{originalUrl:e})}})}}(0,ct.registerAction2)(cL),e3.CommandsRegistry.registerCommand(cd),ct.MenuRegistry.appendMenuItem(ct.MenuId.CommandPalette,{command:{id:cd.id,title:cd.description.description}}),ee.Registry.as(et.Extensions.Workbench).registerWorkbenchContribution(cA,en.LifecyclePhase.Restored),(0,et.registerWorkbenchContribution2)(cy.ID,cy,et.WorkbenchPhase.BlockRestore),(0,et.registerWorkbenchContribution2)(cr.ID,cr,et.WorkbenchPhase.BlockRestore),ee.Registry.as(ei.Extensions.Configuration).registerConfiguration({...cM.workbenchConfigurationNodeBase,properties:{"workbench.trustedDomains.promptInTrustedWorkspace":{scope:ei.ConfigurationScope.APPLICATION,type:"boolean",default:!1,description:(0,J.localize)(10494,"When enabled, trusted domain prompts will appear when opening links in trusted workspaces.")}}});var cT=e.i(535429),cR=Z,cN=e.i(890696),cP=e.i(281034),cO=e.i(977857),cF=e.i(239686),cK=e.i(47179);(h=B||(B={})).titleSeparator="window.titleSeparator",h.title="window.title";let cW=(()=>{if(e8.isMacintosh&&e8.isNative)return"${activeEditorShort}${separator}${rootName}${separator}${profileName}";let e="${dirty}${activeEditorShort}${separator}${rootName}${separator}${profileName}${separator}${appName}";return e8.isWeb?e+"${separator}${remoteName}":e})(),cz=e8.isMacintosh?"  ":" - ",cV=class extends cR.Disposable{static{V=this}static{this.NLS_USER_IS_ADMIN=e8.isWindows?(0,J.localize)(3374,"[Administrator]"):(0,J.localize)(3375,"[Superuser]")}static{this.NLS_EXTENSION_HOST=(0,J.localize)(3376,"[Extension Development Host]")}static{this.TITLE_DIRTY=" "}get value(){return this.title??""}get workspaceName(){return this.labelService.getWorkspaceLabel(this.contextService.getWorkspace())}get fileName(){let e=this.editorService.activeEditor;if(!e)return;let t=e.getTitle(cN.Verbosity.SHORT),i=e?.isDirty()&&!e.isSaving()?V.TITLE_DIRTY:"";return`${i}${t}`}constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this.configurationService=i,this.contextKeyService=o,this.environmentService=r,this.contextService=s,this.labelService=a,this.userDataProfileService=l,this.productService=d,this.viewsService=c,this.properties={isPure:!0,isAdmin:!1,prefix:void 0},this.variables=new Map,this.activeEditorListeners=this._register(new cR.DisposableStore),this.titleUpdater=this._register(new ta.RunOnceScheduler(()=>this.doUpdateTitle(),0)),this.onDidChangeEmitter=new eE.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.titleIncludesFocusedView=!1,this.editorService=n.createScoped(t,this._store),this.windowId=e.vscodeWindowId,this.updateTitleIncludesFocusedView(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.onConfigurationChanged(e))),this._register(this.editorService.onDidActiveEditorChange(()=>this.onActiveEditorChange())),this._register(this.contextService.onDidChangeWorkspaceFolders(()=>this.titleUpdater.schedule())),this._register(this.contextService.onDidChangeWorkbenchState(()=>this.titleUpdater.schedule())),this._register(this.contextService.onDidChangeWorkspaceName(()=>this.titleUpdater.schedule())),this._register(this.labelService.onDidChangeFormatters(()=>this.titleUpdater.schedule())),this._register(this.userDataProfileService.onDidChangeCurrentProfile(()=>this.titleUpdater.schedule())),this._register(this.viewsService.onDidChangeFocusedView(()=>{this.titleIncludesFocusedView&&this.titleUpdater.schedule()})),this._register(this.contextKeyService.onDidChangeContext(e=>{e.affectsSome(this.variables)&&this.titleUpdater.schedule()}))}onConfigurationChanged(e){e.affectsConfiguration(B.title)&&this.updateTitleIncludesFocusedView(),(e.affectsConfiguration(B.title)||e.affectsConfiguration(B.titleSeparator))&&this.titleUpdater.schedule()}updateTitleIncludesFocusedView(){let e=this.configurationService.getValue(B.title);this.titleIncludesFocusedView="string"==typeof e&&e.includes("${focusedView}")}onActiveEditorChange(){this.activeEditorListeners.clear(),this.titleUpdater.schedule();let e=this.editorService.activeEditor;if(e&&(this.activeEditorListeners.add(e.onDidChangeDirty(()=>this.titleUpdater.schedule())),this.activeEditorListeners.add(e.onDidChangeLabel(()=>this.titleUpdater.schedule()))),this.titleIncludesFocusedView){let e=this.editorService.activeTextEditorControl,t=[];for(let i of((0,id.isCodeEditor)(e)?t.push(e):(0,id.isDiffEditor)(e)&&t.push(e.getOriginalEditor(),e.getModifiedEditor()),t))this.activeEditorListeners.add(i.onDidBlurEditorText(()=>this.titleUpdater.schedule())),this.activeEditorListeners.add(i.onDidFocusEditorText(()=>this.titleUpdater.schedule()))}}doUpdateTitle(){let e=this.getFullWindowTitle();if(e!==this.title){let t=e;(0,t2.trim)(t)||(t=this.productService.nameLong);let i=(0,el.getWindowById)(this.windowId,!0).window;!i.document.title&&e8.isMacintosh&&t===this.productService.nameLong&&(i.document.title=`${this.productService.nameLong} ${V.TITLE_DIRTY}`),i.document.title=t,this.title=e,this.onDidChangeEmitter.fire()}}getFullWindowTitle(){let{prefix:e,suffix:t}=this.getTitleDecorations(),i=this.getWindowTitle()||this.productService.nameLong;return e&&(i=`${e} ${i}`),t&&(i=`${i} ${t}`),i.replace(/[^\S ]/g," ")}getTitleDecorations(){let e,t;return this.properties.prefix&&(e=this.properties.prefix),this.environmentService.isExtensionDevelopment&&(e=e?`${V.NLS_EXTENSION_HOST} - ${e}`:V.NLS_EXTENSION_HOST),this.properties.isAdmin&&(t=V.NLS_USER_IS_ADMIN),{prefix:e,suffix:t}}updateProperties(e){let t="boolean"==typeof e.isAdmin?e.isAdmin:this.properties.isAdmin,i="boolean"==typeof e.isPure?e.isPure:this.properties.isPure,o="string"==typeof e.prefix?e.prefix:this.properties.prefix;(t!==this.properties.isAdmin||i!==this.properties.isPure||o!==this.properties.prefix)&&(this.properties.isAdmin=t,this.properties.isPure=i,this.properties.prefix=o,this.titleUpdater.schedule())}registerVariables(e){let t=!1;for(let{name:i,contextKey:o}of e)this.variables.has(o)||(this.variables.set(o,i),t=!0);t&&this.titleUpdater.schedule()}getWindowTitle(){let e,t,i,o=this.editorService.activeEditor,n=this.contextService.getWorkspace();n.configuration?e=n.configuration:n.folders.length&&(e=n.folders[0].uri);let r=cN.EditorResourceAccessor.getOriginalUri(o,{supportSideBySide:cN.SideBySideEditor.PRIMARY}),s=r?(0,nI.dirname)(r):void 0;if(s?.path==="."&&(s=void 0),this.contextService.getWorkbenchState()===cP.WorkbenchState.FOLDER?t=n.folders[0]:r&&(t=this.contextService.getWorkspaceFolder(r)??void 0),this.environmentService.remoteAuthority&&!e8.isWeb)i=this.labelService.getHostLabel(cv.Schemas.vscodeRemote,this.environmentService.remoteAuthority);else{let e=(0,cK.getVirtualWorkspaceLocation)(n);e&&(i=this.labelService.getHostLabel(e.scheme,e.authority))}let a=o?o.getTitle(cN.Verbosity.SHORT):"",l=o?o.getTitle(cN.Verbosity.MEDIUM):a,d=o?o.getTitle(cN.Verbosity.LONG):l,c=s?(0,nI.basename)(s):"",u=s?this.labelService.getUriLabel(s,{relative:!0}):"",h=s?this.labelService.getUriLabel(s):"",p=this.labelService.getWorkspaceLabel(n),g=this.labelService.getWorkspaceLabel(n,{verbose:cF.Verbosity.SHORT}),m=e?this.labelService.getUriLabel(e):"",_=t?t.name:"",f=t?this.labelService.getUriLabel(t.uri):"",y=o?.isDirty()&&!o.isSaving()?V.TITLE_DIRTY:"",v=this.productService.nameLong,C=this.userDataProfileService.currentProfile.isDefault?"":this.userDataProfileService.currentProfile.name,b=this.viewsService.getFocusedViewName(),S={};for(let[e,t]of this.variables)S[t]=this.contextKeyService.getContextKeyValue(e)??"";let w=this.configurationService.getValue(B.title);"string"!=typeof w&&(w=cW);let E=this.configurationService.getValue(B.titleSeparator);return"string"!=typeof E&&(E=cz),(0,cO.template)(w,{...S,activeEditorShort:a,activeEditorLong:d,activeEditorMedium:l,activeFolderShort:c,activeFolderMedium:u,activeFolderLong:h,rootName:p,rootPath:m,rootNameShort:g,folderName:_,folderPath:f,dirty:y,appName:v,remoteName:i,profileName:C,focusedView:b,separator:{label:E}})}isCustomTitleFormat(){let e=this.configurationService.inspect(B.title),t=this.configurationService.inspect(B.titleSeparator);return e.value!==e.defaultValue||t.value!==t.defaultValue}};cV=V=(0,Y.__decorate)([(0,Y.__param)(2,es.IConfigurationService),(0,Y.__param)(3,ev.IContextKeyService),(0,Y.__param)(4,tS.IEditorService),(0,Y.__param)(5,cn.IBrowserWorkbenchEnvironmentService),(0,Y.__param)(6,n4.IWorkspaceContextService),(0,Y.__param)(7,nM.ILabelService),(0,Y.__param)(8,tb.IUserDataProfileService),(0,Y.__param)(9,dA.IProductService),(0,Y.__param)(10,dZ.IViewsService)],cV),e.s(["WindowTitle",()=>cV,"defaultWindowTitle",()=>cW,"defaultWindowTitleSeparator",()=>cz],946935);var cB=e.i(413117),cH=Z,cU=e.i(912097);let cG=class extends cH.Disposable{static{H=this}static{this.SETTING_ID_PATTERNS="workbench.editor.customLabels.patterns"}static{this.SETTING_ID_ENABLED="workbench.editor.customLabels.enabled"}constructor(e,t){super(),this.configurationService=e,this.workspaceContextService=t,this._onDidChange=this._register(new eE.Emitter),this.onDidChange=this._onDidChange.event,this.patterns=[],this.enabled=!0,this.cache=new iy.MRUCache(1e3),this._templateRegexValidation=/[a-zA-Z0-9]/,this._parsedTemplateExpression=/\$\{(dirname|filename|extname|extname\((?<extnameN>[-+]?\d+)\)|dirname\((?<dirnameN>[-+]?\d+)\))\}/g,this._filenameCaptureExpression=/(?<filename>^\.*[^.]*)/,this.storeEnablementState(),this.storeCustomPatterns(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{if(e.affectsConfiguration(H.SETTING_ID_ENABLED)){let e=this.enabled;this.storeEnablementState(),e!==this.enabled&&this.patterns.length>0&&this._onDidChange.fire()}else e.affectsConfiguration(H.SETTING_ID_PATTERNS)&&(this.cache.clear(),this.storeCustomPatterns(),this._onDidChange.fire())}))}storeEnablementState(){this.enabled=this.configurationService.getValue(H.SETTING_ID_ENABLED)}storeCustomPatterns(){this.patterns=[];let e=this.configurationService.getValue(H.SETTING_ID_PATTERNS);for(let t in e){let i=e[t];if(!this._templateRegexValidation.test(i))continue;let o=(0,cU.isAbsolute)(t),n=(0,cB.parse)(t);this.patterns.push({pattern:t,template:i,isAbsolutePath:o,parsedPattern:n})}this.patterns.sort((e,t)=>this.patternWeight(t.pattern)-this.patternWeight(e.pattern))}patternWeight(e){let t=0;for(let i of e.split("/"))"**"===i?t+=1:"*"===i?t+=10:i.includes("*")||i.includes("?")?t+=50:""!==i&&(t+=100);return t}getName(e){if(!this.enabled||0===this.patterns.length)return;let t=e.toString(),i=this.cache.get(t);if(void 0!==i)return i??void 0;let o=this.applyPatterns(e);return this.cache.set(t,o??null),o}applyPatterns(e){let t,i=this.workspaceContextService.getWorkspaceFolder(e);for(let o of this.patterns){let n;if(i&&!o.isAbsolutePath?(t||(t=(0,nI.relativePath)((0,nI.dirname)(i.uri),e)??e.path),n=t):n=e.path,o.parsedPattern(n))return this.applyTemplate(o.template,e,n)}}applyTemplate(e,t,i){let o;return e.replace(this._parsedTemplateExpression,(e,n,...r)=>{o=o??(0,cU.parse)(t.path);let{dirnameN:s="0",extnameN:a="0"}=r.pop();if("filename"===n){let{filename:e}=this._filenameCaptureExpression.exec(o.base)?.groups??{};if(e)return e}else if("extname"===n){let e=this.getExtnames(o.base);if(e)return e}else if(n.startsWith("extname")){let e=parseInt(a),t=this.getNthExtname(o.base,e);if(t)return t}else if(n.startsWith("dirname")){let e=parseInt(s),t=this.getNthDirname((0,cU.dirname)(i),e);if(t)return t}return e})}removeLeadingDot(e){let t=e;for(;t.startsWith(".");)t=t.slice(1);return t}getNthDirname(e,t){let i=(e=e.startsWith("/")?e.slice(1):e).split("/");return this.getNthFragment(i,t)}getExtnames(e){return this.removeLeadingDot(e).split(".").slice(1).join(".")}getNthExtname(e,t){let i=this.removeLeadingDot(e).split(".");return i.shift(),this.getNthFragment(i,t)}getNthFragment(e,t){let i=e.length,o=e[t<0?Math.abs(t)-1:i-t-1];if(void 0!==o&&""!==o)return o}};cG=H=(0,Y.__decorate)([(0,Y.__param)(0,es.IConfigurationService),(0,Y.__param)(1,n4.IWorkspaceContextService)],cG),e.s(["CustomEditorLabelService",()=>cG],305634);let cq=ee.Registry.as(ei.Extensions.Configuration);(0,et.registerWorkbenchContribution2)(cM.ConfigurationMigrationWorkbenchContribution.ID,cM.ConfigurationMigrationWorkbenchContribution,et.WorkbenchPhase.Eventually),(0,et.registerWorkbenchContribution2)(cM.DynamicWorkbenchSecurityConfiguration.ID,cM.DynamicWorkbenchSecurityConfiguration,et.WorkbenchPhase.AfterRestored),cq.registerConfiguration({...cM.workbenchConfigurationNodeBase,properties:{"workbench.externalBrowser":{type:"string",markdownDescription:(0,J.localize)(3416,"Configure the browser to use for opening http or https links externally. This can either be the name of the browser (`edge`, `chrome`, `firefox`) or an absolute path to the browser's executable. Will use the system default if not set."),included:e8.isNative,restricted:!0},"workbench.editor.titleScrollbarSizing":{type:"string",enum:["default","large"],enumDescriptions:[(0,J.localize)(3417,"The default size."),(0,J.localize)(3418,"Increases the size, so it can be grabbed more easily with the mouse.")],description:(0,J.localize)(3419,"Controls the height of the scrollbars used for tabs and breadcrumbs in the editor title area."),default:"default"},[cT.LayoutSettings.EDITOR_TABS_MODE]:{type:"string",enum:[cT.EditorTabsMode.MULTIPLE,cT.EditorTabsMode.SINGLE,cT.EditorTabsMode.NONE],enumDescriptions:[(0,J.localize)(3420,"Each editor is displayed as a tab in the editor title area."),(0,J.localize)(3421,"The active editor is displayed as a single large tab in the editor title area."),(0,J.localize)(3422,"The editor title area is not displayed.")],description:(0,J.localize)(3423,"Controls whether opened editors should show as individual tabs, one single large tab or if the title area should not be shown."),default:"multiple"},[cT.LayoutSettings.EDITOR_ACTIONS_LOCATION]:{type:"string",enum:[cT.EditorActionsLocation.DEFAULT,cT.EditorActionsLocation.TITLEBAR,cT.EditorActionsLocation.HIDDEN],markdownEnumDescriptions:[(0,J.localize)(3424,"Show editor actions in the window title bar when {0} is set to {1}. Otherwise, editor actions are shown in the editor tab bar.","`#workbench.editor.showTabs#`","`none`"),(0,J.localize)(3425,"Show editor actions in the window title bar. If {0} is set to {1}, editor actions are hidden.","`#window.customTitleBarVisibility#`","`never`"),(0,J.localize)(3426,"Editor actions are not shown.")],markdownDescription:(0,J.localize)(3427,"Controls where the editor actions are shown."),default:"default"},"workbench.editor.alwaysShowEditorActions":{type:"boolean",markdownDescription:(0,J.localize)(3428,"Controls whether to always show the editor actions, even when the editor group is not active."),default:!1},"workbench.editor.wrapTabs":{type:"boolean",markdownDescription:(0,J.localize)(3429,"Controls whether tabs should be wrapped over multiple lines when exceeding available space or whether a scrollbar should appear instead. This value is ignored when {0} is not set to '{1}'.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.scrollToSwitchTabs":{type:"boolean",markdownDescription:(0,J.localize)(3430,"Controls whether scrolling over tabs will open them or not. By default tabs will only reveal upon scrolling, but not open. You can press and hold the Shift-key while scrolling to change this behavior for that duration. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.highlightModifiedTabs":{type:"boolean",markdownDescription:(0,J.localize)(3431,"Controls whether a top border is drawn on tabs for editors that have unsaved changes. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","multiple"),default:!1},"workbench.editor.decorations.badges":{type:"boolean",markdownDescription:(0,J.localize)(3432,"Controls whether editor file decorations should use badges."),default:!0},"workbench.editor.decorations.colors":{type:"boolean",markdownDescription:(0,J.localize)(3433,"Controls whether editor file decorations should use colors."),default:!0},[cG.SETTING_ID_ENABLED]:{type:"boolean",markdownDescription:(0,J.localize)(3434,"Controls whether the custom workbench editor labels should be applied."),default:!0},[cG.SETTING_ID_PATTERNS]:{type:"object",markdownDescription:(0,J.localize)(3435,"Controls the rendering of the editor label. Each __Item__ is a pattern that matches a file path. Both relative and absolute file paths are supported. The relative path must include the WORKSPACE_FOLDER (e.g `WORKSPACE_FOLDER/src/**.tsx` or `*/src/**.tsx`). Absolute patterns must start with a `/`. In case multiple patterns match, the longest matching path will be picked. Each __Value__ is the template for the rendered editor when the __Item__ matches. Variables are substituted based on the context:")+"\n- "+[(0,J.localize)(3436,"`${dirname}`: name of the folder in which the file is located (e.g. `WORKSPACE_FOLDER/folder/file.txt -> folder`)."),(0,J.localize)(3437,"`${dirname(N)}`: name of the nth parent folder in which the file is located (e.g. `N=2: WORKSPACE_FOLDER/static/folder/file.txt -> WORKSPACE_FOLDER`). Folders can be picked from the start of the path by using negative numbers (e.g. `N=-1: WORKSPACE_FOLDER/folder/file.txt -> WORKSPACE_FOLDER`). If the __Item__ is an absolute pattern path, the first folder (`N=-1`) refers to the first folder in the absolute path, otherwise it corresponds to the workspace folder."),(0,J.localize)(3438,"`${filename}`: name of the file without the file extension (e.g. `WORKSPACE_FOLDER/folder/file.txt -> file`)."),(0,J.localize)(3439,"`${extname}`: the file extension (e.g. `WORKSPACE_FOLDER/folder/file.txt -> txt`)."),(0,J.localize)(3440,"`${extname(N)}`: the nth extension of the file separated by '.' (e.g. `N=2: WORKSPACE_FOLDER/folder/file.ext1.ext2.ext3 -> ext1`). Extension can be picked from the start of the extension by using negative numbers (e.g. `N=-1: WORKSPACE_FOLDER/folder/file.ext1.ext2.ext3 -> ext2`).")].join("\n- ")+"\n\n"+(0,J.localize)(3441,'Example: `"**/static/**/*.html": "${filename} - ${dirname} (${extname})"` will render a file `WORKSPACE_FOLDER/static/folder/file.html` as `file - folder (html)`.'),additionalProperties:{type:["string","null"],markdownDescription:(0,J.localize)(3442,"The template which should be rendered when the pattern matches. May include the variables ${dirname}, ${filename} and ${extname}."),minLength:1,pattern:".*[a-zA-Z0-9].*"},default:{}},"workbench.editor.labelFormat":{type:"string",enum:["default","short","medium","long"],enumDescriptions:[(0,J.localize)(3443,"Show the name of the file. When tabs are enabled and two files have the same name in one group the distinguishing sections of each file's path are added. When tabs are disabled, the path relative to the workspace folder is shown if the editor is active."),(0,J.localize)(3444,"Show the name of the file followed by its directory name."),(0,J.localize)(3445,"Show the name of the file followed by its path relative to the workspace folder."),(0,J.localize)(3446,"Show the name of the file followed by its absolute path.")],default:"default",description:(0,J.localize)(3447,"Controls the format of the label for an editor.")},"workbench.editor.untitled.labelFormat":{type:"string",enum:["content","name"],enumDescriptions:[(0,J.localize)(3448,"The name of the untitled file is derived from the contents of its first line unless it has an associated file path. It will fallback to the name in case the line is empty or contains no word characters."),(0,J.localize)(3449,"The name of the untitled file is not derived from the contents of the file.")],default:"content",description:(0,J.localize)(3450,"Controls the format of the label for an untitled editor.")},"workbench.editor.empty.hint":{type:"string",enum:["text","hidden"],default:"text",markdownDescription:(0,J.localize)(3451,"Controls if the empty editor text hint should be visible in the editor.")},"workbench.editor.languageDetection":{type:"boolean",default:!0,description:(0,J.localize)(3452,"Controls whether the language in a text editor is automatically detected unless the language has been explicitly set by the language picker. This can also be scoped by language so you can specify which languages you do not want to be switched off of. This is useful for languages like Markdown that often contain other languages that might trick language detection into thinking it's the embedded language and not Markdown."),scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE},"workbench.editor.historyBasedLanguageDetection":{type:"boolean",default:!0,description:(0,J.localize)(3453,"Enables use of editor history in language detection. This causes automatic language detection to favor languages that have been recently opened and allows for automatic language detection to operate with smaller inputs.")},"workbench.editor.preferHistoryBasedLanguageDetection":{type:"boolean",default:!1,description:(0,J.localize)(3454,"When enabled, a language detection model that takes into account editor history will be given higher precedence.")},"workbench.editor.languageDetectionHints":{type:"object",default:{untitledEditors:!0,notebookEditors:!0},description:(0,J.localize)(3455,"When enabled, shows a Status bar Quick Fix when the editor language doesn't match detected content language."),additionalProperties:!1,properties:{untitledEditors:{type:"boolean",description:(0,J.localize)(3456,"Show in untitled text editors")},notebookEditors:{type:"boolean",description:(0,J.localize)(3457,"Show in notebook editors")}}},"workbench.editor.tabActionLocation":{type:"string",enum:["left","right"],default:"right",markdownDescription:(0,J.localize)(3458,"Controls the position of the editor's tabs action buttons (close, unpin). This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.tabActionCloseVisibility":{type:"boolean",default:!0,description:(0,J.localize)(3459,"Controls the visibility of the tab close action button.")},"workbench.editor.tabActionUnpinVisibility":{type:"boolean",default:!0,description:(0,J.localize)(3460,"Controls the visibility of the tab unpin action button.")},"workbench.editor.tabSizing":{type:"string",enum:["fit","shrink","fixed"],default:"fit",enumDescriptions:[(0,J.localize)(3461,"Always keep tabs large enough to show the full editor label."),(0,J.localize)(3462,"Allow tabs to get smaller when the available space is not enough to show all tabs at once."),(0,J.localize)(3463,"Make all tabs the same size, while allowing them to get smaller when the available space is not enough to show all tabs at once.")],markdownDescription:(0,J.localize)(3464,"Controls the size of editor tabs. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.tabSizingFixedMinWidth":{type:"number",default:50,minimum:38,markdownDescription:(0,J.localize)(3465,"Controls the minimum width of tabs when {0} size is set to {1}.","`#workbench.editor.tabSizing#`","`fixed`")},"workbench.editor.tabSizingFixedMaxWidth":{type:"number",default:160,minimum:38,markdownDescription:(0,J.localize)(3466,"Controls the maximum width of tabs when {0} size is set to {1}.","`#workbench.editor.tabSizing#`","`fixed`")},"window.density.editorTabHeight":{type:"string",enum:["default","compact"],default:"default",markdownDescription:(0,J.localize)(3467,"Controls the height of editor tabs. Also applies to the title control bar when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.pinnedTabSizing":{type:"string",enum:["normal","compact","shrink"],default:"normal",enumDescriptions:[(0,J.localize)(3468,"A pinned tab inherits the look of non pinned tabs."),(0,J.localize)(3469,"A pinned tab will show in a compact form with only icon or first letter of the editor name."),(0,J.localize)(3470,"A pinned tab shrinks to a compact fixed size showing parts of the editor name.")],markdownDescription:(0,J.localize)(3471,"Controls the size of pinned editor tabs. Pinned tabs are sorted to the beginning of all opened tabs and typically do not close until unpinned. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.pinnedTabsOnSeparateRow":{type:"boolean",default:!1,markdownDescription:(0,J.localize)(3472,"When enabled, displays pinned tabs in a separate row above all other tabs. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`")},"workbench.editor.preventPinnedEditorClose":{type:"string",enum:["keyboardAndMouse","keyboard","mouse","never"],default:"keyboardAndMouse",enumDescriptions:[(0,J.localize)(3473,"Always prevent closing the pinned editor when using mouse middle click or keyboard."),(0,J.localize)(3474,"Prevent closing the pinned editor when using the keyboard."),(0,J.localize)(3475,"Prevent closing the pinned editor when using mouse middle click."),(0,J.localize)(3476,"Never prevent closing a pinned editor.")],description:(0,J.localize)(3477,"Controls whether pinned editors should close when keyboard or middle mouse click is used for closing.")},"workbench.editor.splitSizing":{type:"string",enum:["auto","distribute","split"],default:"auto",enumDescriptions:[(0,J.localize)(3478,"Splits the active editor group to equal parts, unless all editor groups are already in equal parts. In that case, splits all the editor groups to equal parts."),(0,J.localize)(3479,"Splits all the editor groups to equal parts."),(0,J.localize)(3480,"Splits the active editor group to equal parts.")],description:(0,J.localize)(3481,"Controls the size of editor groups when splitting them.")},"workbench.editor.splitOnDragAndDrop":{type:"boolean",default:!0,description:(0,J.localize)(3482,"Controls if editor groups can be split from drag and drop operations by dropping an editor or file on the edges of the editor area.")},"workbench.editor.dragToOpenWindow":{type:"boolean",default:!0,markdownDescription:(0,J.localize)(3483,"Controls if editors can be dragged out of the window to open them in a new window. Press and hold the `Alt` key while dragging to toggle this dynamically.")},"workbench.editor.focusRecentEditorAfterClose":{type:"boolean",description:(0,J.localize)(3484,"Controls whether editors are closed in most recently used order or from left to right."),default:!0},"workbench.editor.showIcons":{type:"boolean",description:(0,J.localize)(3485,"Controls whether opened editors should show with an icon or not. This requires a file icon theme to be enabled as well."),default:!0},"workbench.editor.enablePreview":{type:"boolean",description:(0,J.localize)(3486,"Controls whether preview mode is used when editors open. There is a maximum of one preview mode editor per editor group. This editor displays its filename in italics on its tab or title label and in the Open Editors view. Its contents will be replaced by the next editor opened in preview mode. Making a change in a preview mode editor will persist it, as will a double-click on its label, or the 'Keep Open' option in its label context menu. Opening a file from Explorer with a double-click persists its editor immediately."),default:!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",markdownDescription:(0,J.localize)(3487,"Controls whether editors opened from Quick Open show as preview editors. Preview editors do not stay open, and are reused until explicitly set to be kept open (via double-click or editing). When enabled, hold Ctrl before selection to open an editor as a non-preview. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.enablePreviewFromCodeNavigation":{type:"boolean",markdownDescription:(0,J.localize)(3488,"Controls whether editors remain in preview when a code navigation is started from them. Preview editors do not stay open, and are reused until explicitly set to be kept open (via double-click or editing). This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),default:!1},"workbench.editor.closeOnFileDelete":{type:"boolean",description:(0,J.localize)(3489,"Controls whether editors showing a file that was opened during the session should close automatically when getting deleted or renamed by some other process. Disabling this will keep the editor open  on such an event. Note that deleting from within the application will always close the editor and that editors with unsaved changes will never close to preserve your data."),default:!1},"workbench.editor.openPositioning":{type:"string",enum:["left","right","first","last"],default:"right",markdownDescription:(0,J.localize)(3490,"Controls where editors open. Select {0} or {1} to open editors to the left or right of the currently active one. Select {2} or {3} to open editors independently from the currently active one.","`left`","`right`","`first`","`last`")},"workbench.editor.openSideBySideDirection":{type:"string",enum:["right","down"],default:"right",markdownDescription:(0,J.localize)(3491,"Controls the default direction of editors that are opened side by side (for example, from the Explorer). By default, editors will open on the right hand side of the currently active one. If changed to `down`, the editors will open below the currently active one.")},"workbench.editor.closeEmptyGroups":{type:"boolean",description:(0,J.localize)(3492,"Controls the behavior of empty editor groups when the last tab in the group is closed. When enabled, empty groups will automatically close. When disabled, empty groups will remain part of the grid."),default:!0},"workbench.editor.revealIfOpen":{type:"boolean",description:(0,J.localize)(3493,"Controls whether an editor is revealed in any of the visible groups if opened. If disabled, an editor will prefer to open in the currently active editor group. If enabled, an already opened editor will be revealed instead of opened again in the currently active editor group. Note that there are some cases where this setting is ignored, such as when forcing an editor to open in a specific group or to the side of the currently active group."),default:!1},"workbench.editor.mouseBackForwardToNavigate":{type:"boolean",description:(0,J.localize)(3494,"Enables the use of mouse buttons four and five for commands 'Go Back' and 'Go Forward'."),default:!0},"workbench.editor.navigationScope":{type:"string",enum:["default","editorGroup","editor"],default:"default",markdownDescription:(0,J.localize)(3495,"Controls the scope of history navigation in editors for commands such as 'Go Back' and 'Go Forward'."),enumDescriptions:[(0,J.localize)(3496,"Navigate across all opened editors and editor groups."),(0,J.localize)(3497,"Navigate only in editors of the active editor group."),(0,J.localize)(3498,"Navigate only in the active editor.")]},"workbench.editor.restoreViewState":{type:"boolean",markdownDescription:(0,J.localize)(3499,"Restores the last editor view state (such as scroll position) when re-opening editors after they have been closed. Editor view state is stored per editor group and discarded when a group closes. Use the {0} setting to use the last known view state across all editor groups in case no previous view state was found for a editor group.","`#workbench.editor.sharedViewState#`"),default:!0,scope:ei.ConfigurationScope.LANGUAGE_OVERRIDABLE},"workbench.editor.sharedViewState":{type:"boolean",description:(0,J.localize)(3500,"Preserves the most recent editor view state (such as scroll position) across all editor groups and restores that if no specific editor view state is found for the editor group."),default:!1},"workbench.editor.splitInGroupLayout":{type:"string",enum:["vertical","horizontal"],default:"horizontal",markdownDescription:(0,J.localize)(3501,"Controls the layout for when an editor is split in an editor group to be either vertical or horizontal."),enumDescriptions:[(0,J.localize)(3502,"Editors are positioned from top to bottom."),(0,J.localize)(3503,"Editors are positioned from left to right.")]},"workbench.editor.centeredLayoutAutoResize":{type:"boolean",default:!0,description:(0,J.localize)(3504,"Controls if the centered layout should automatically resize to maximum width when more than one group is open. Once only one group is open it will resize back to the original centered width.")},"workbench.editor.centeredLayoutFixedWidth":{type:"boolean",default:!1,description:(0,J.localize)(3505,"Controls whether the centered layout tries to maintain constant width when the window is resized.")},"workbench.editor.doubleClickTabToToggleEditorGroupSizes":{type:"string",enum:["maximize","expand","off"],default:"expand",markdownDescription:(0,J.localize)(3506,"Controls how the editor group is resized when double clicking on a tab. This value is ignored when {0} is not set to {1}.","`#workbench.editor.showTabs#`","`multiple`"),enumDescriptions:[(0,J.localize)(3507,"All other editor groups are hidden and the current editor group is maximized to take up the entire editor area."),(0,J.localize)(3508,"The editor group takes as much space as possible by making all other editor groups as small as possible."),(0,J.localize)(3509,"No editor group is resized when double clicking on a tab.")]},"workbench.editor.limit.enabled":{type:"boolean",default:!1,description:(0,J.localize)(3510,"Controls if the number of opened editors should be limited or not. When enabled, less recently used editors will close to make space for newly opening editors.")},"workbench.editor.limit.value":{type:"number",default:10,exclusiveMinimum:0,markdownDescription:(0,J.localize)(3511,"Controls the maximum number of opened editors. Use the {0} setting to control this limit per editor group or across all groups.","`#workbench.editor.limit.perEditorGroup#`")},"workbench.editor.limit.excludeDirty":{type:"boolean",default:!1,description:(0,J.localize)(3512,"Controls if the maximum number of opened editors should exclude dirty editors for counting towards the configured limit.")},"workbench.editor.limit.perEditorGroup":{type:"boolean",default:!1,description:(0,J.localize)(3513,"Controls if the limit of maximum opened editors should apply per editor group or across all editor groups.")},"workbench.localHistory.enabled":{type:"boolean",default:!0,description:(0,J.localize)(3514,"Controls whether local file history is enabled. When enabled, the file contents of an editor that is saved will be stored to a backup location to be able to restore or review the contents later. Changing this setting has no effect on existing local file history entries."),scope:ei.ConfigurationScope.RESOURCE},"workbench.localHistory.maxFileSize":{type:"number",default:256,minimum:1,description:(0,J.localize)(3515,"Controls the maximum size of a file (in KB) to be considered for local file history. Files that are larger will not be added to the local file history. Changing this setting has no effect on existing local file history entries."),scope:ei.ConfigurationScope.RESOURCE},"workbench.localHistory.maxFileEntries":{type:"number",default:50,minimum:0,description:(0,J.localize)(3516,"Controls the maximum number of local file history entries per file. When the number of local file history entries exceeds this number for a file, the oldest entries will be discarded."),scope:ei.ConfigurationScope.RESOURCE},"workbench.localHistory.exclude":{type:"object",patternProperties:{".*":{type:"boolean"}},markdownDescription:(0,J.localize)(3517,"Configure paths or [glob patterns](https://aka.ms/vscode-glob-patterns) for excluding files from the local file history. Glob patterns are always evaluated relative to the path of the workspace folder unless they are absolute paths. Changing this setting has no effect on existing local file history entries."),scope:ei.ConfigurationScope.RESOURCE},"workbench.localHistory.mergeWindow":{type:"number",default:10,minimum:1,markdownDescription:(0,J.localize)(3518,"Configure an interval in seconds during which the last entry in local file history is replaced with the entry that is being added. This helps reduce the overall number of entries that are added, for example when auto save is enabled. This setting is only applied to entries that have the same source of origin. Changing this setting has no effect on existing local file history entries."),scope:ei.ConfigurationScope.RESOURCE},"workbench.commandPalette.history":{type:"number",description:(0,J.localize)(3519,"Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history."),default:50,minimum:0},"workbench.commandPalette.preserveInput":{type:"boolean",description:(0,J.localize)(3520,"Controls whether the last typed input to the command palette should be restored when opening it the next time."),default:!1},"workbench.commandPalette.experimental.suggestCommands":{type:"boolean",tags:["experimental"],description:(0,J.localize)(3521,"Controls whether the command palette should have a list of commonly used commands."),default:!1},"workbench.commandPalette.experimental.askChatLocation":{type:"string",tags:["experimental"],description:(0,J.localize)(3522,"Controls where the command palette should ask chat questions."),default:"chatView",enum:["chatView","quickChat"],enumDescriptions:[(0,J.localize)(3523,"Ask chat questions in the Chat view."),(0,J.localize)(3524,"Ask chat questions in Quick Chat.")]},"workbench.commandPalette.experimental.enableNaturalLanguageSearch":{type:"boolean",tags:["experimental"],description:(0,J.localize)(3525,"Controls whether the command palette should include similar commands. You must have an extension installed that provides Natural Language support."),default:!0},"workbench.quickOpen.closeOnFocusLost":{type:"boolean",description:(0,J.localize)(3526,"Controls whether Quick Open should close automatically once it loses focus."),default:!0},"workbench.quickOpen.preserveInput":{type:"boolean",description:(0,J.localize)(3527,"Controls whether the last typed input to Quick Open should be restored when opening it the next time."),default:!1},"workbench.settings.openDefaultSettings":{type:"boolean",description:(0,J.localize)(3528,"Controls whether opening settings also opens an editor showing all default settings."),default:!1},"workbench.settings.useSplitJSON":{type:"boolean",markdownDescription:(0,J.localize)(3529,"Controls whether to use the split JSON editor when editing settings as JSON."),default:!1},"workbench.settings.openDefaultKeybindings":{type:"boolean",description:(0,J.localize)(3530,"Controls whether opening keybinding settings also opens an editor showing all default keybindings."),default:!1},"workbench.sideBar.location":{type:"string",enum:["left","right"],default:"left",description:(0,J.localize)(3531,"Controls the location of the primary side bar and activity bar. They can either show on the left or right of the workbench. The secondary side bar will show on the opposite side of the workbench.")},"workbench.panel.showLabels":{type:"boolean",default:!0,description:(0,J.localize)(3532,"Controls whether activity items in the panel title are shown as label or icon.")},"workbench.panel.defaultLocation":{type:"string",enum:["left","bottom","top","right"],default:"bottom",description:(0,J.localize)(3533,"Controls the default location of the panel (Terminal, Debug Console, Output, Problems) in a new workspace. It can either show at the bottom, top, right, or left of the editor area.")},"workbench.panel.opensMaximized":{type:"string",enum:["always","never","preserve"],default:"preserve",description:(0,J.localize)(3534,"Controls whether the panel opens maximized. It can either always open maximized, never open maximized, or open to the last state it was in before being closed."),enumDescriptions:[(0,J.localize)(3535,"Always maximize the panel when opening it."),(0,J.localize)(3536,"Never maximize the panel when opening it. The panel will open un-maximized."),(0,J.localize)(3537,"Open the panel to the state that it was in, before it was closed.")]},"workbench.statusBar.visible":{type:"boolean",default:!0,description:(0,J.localize)(3538,"Controls the visibility of the status bar at the bottom of the workbench.")},[cT.LayoutSettings.ACTIVITY_BAR_LOCATION]:{type:"string",enum:["default","top","bottom","hidden"],default:"default",markdownDescription:(0,J.localize)(3539,"Controls the location of the Activity Bar relative to the Primary and Secondary Side Bars."),enumDescriptions:[(0,J.localize)(3540,"Show the Activity Bar on the side of the Primary Side Bar and on top of the Secondary Side Bar."),(0,J.localize)(3541,"Show the Activity Bar on top of the Primary and Secondary Side Bars."),(0,J.localize)(3542,"Show the Activity Bar at the bottom of the Primary and Secondary Side Bars."),(0,J.localize)(3543,"Hide the Activity Bar in the Primary and Secondary Side Bars.")]},"workbench.activityBar.iconClickBehavior":{type:"string",enum:["toggle","focus"],default:"toggle",markdownDescription:(0,J.localize)(3544,"Controls the behavior of clicking an Activity Bar icon in the workbench. This value is ignored when {0} is not set to {1}.","`#workbench.activityBar.location#`","`default`"),enumDescriptions:[(0,J.localize)(3545,"Hide the Primary Side Bar if the clicked item is already visible."),(0,J.localize)(3546,"Focus the Primary Side Bar if the clicked item is already visible.")]},"workbench.view.alwaysShowHeaderActions":{type:"boolean",default:!1,description:(0,J.localize)(3547,"Controls the visibility of view header actions. View header actions may either be always visible, or only visible when that view is focused or hovered over.")},"workbench.view.showQuietly":{type:"object",description:(0,J.localize)(3548,"If an extension requests a hidden view to be shown, display a clickable status bar indicator instead."),scope:ei.ConfigurationScope.WINDOW,properties:{"workbench.panel.output":{type:"boolean",description:(0,J.localize)(3549,"Output view")}},additionalProperties:!1},"workbench.fontAliasing":{type:"string",enum:["default","antialiased","none","auto"],default:"default",description:(0,J.localize)(3550,"Controls font aliasing method in the workbench."),enumDescriptions:[(0,J.localize)(3551,"Sub-pixel font smoothing. On most non-retina displays this will give the sharpest text."),(0,J.localize)(3552,"Smooth the font on the level of the pixel, as opposed to the subpixel. Can make the font appear lighter overall."),(0,J.localize)(3553,"Disables font smoothing. Text will show with jagged sharp edges."),(0,J.localize)(3554,"Applies `default` or `antialiased` automatically based on the DPI of displays.")],included:e8.isMacintosh},"workbench.settings.editor":{type:"string",enum:["ui","json"],enumDescriptions:[(0,J.localize)(3555,"Use the settings UI editor."),(0,J.localize)(3556,"Use the JSON file editor.")],description:(0,J.localize)(3557,"Determines which settings editor to use by default."),default:"ui",scope:ei.ConfigurationScope.WINDOW},"workbench.hover.delay":{type:"number",description:(0,J.localize)(3558,"Controls the delay in milliseconds after which the hover is shown for workbench items (ex. some extension provided tree view items). Already visible items may require a refresh before reflecting this setting change."),default:e8.isMacintosh?1500:500,minimum:0},"workbench.reduceMotion":{type:"string",description:(0,J.localize)(3559,"Controls whether the workbench should render with fewer animations."),enumDescriptions:[(0,J.localize)(3560,"Always render with reduced motion."),(0,J.localize)(3561,"Do not render with reduced motion"),(0,J.localize)(3562,"Render with reduced motion based on OS configuration.")],default:"auto",tags:["accessibility"],enum:["on","off","auto"]},"workbench.navigationControl.enabled":{type:"boolean",default:!0,markdownDescription:e8.isWeb?(0,J.localize)(3563,"Controls whether the navigation control in the title bar is shown."):(0,J.localize)(3564,"Controls whether the navigation control is shown in the custom title bar. This setting only has an effect when {0} is not set to {1}.","`#window.customTitleBarVisibility#`","`never`")},[cT.LayoutSettings.LAYOUT_ACTIONS]:{type:"boolean",default:!0,markdownDescription:e8.isWeb?(0,J.localize)(3565,"Controls whether the layout control in the title bar is shown."):(0,J.localize)(3566,"Controls whether the layout control is shown in the custom title bar. This setting only has an effect when {0} is not set to {1}.","`#window.customTitleBarVisibility#`","`never`")},"workbench.layoutControl.type":{type:"string",enum:["menu","toggles","both"],enumDescriptions:[(0,J.localize)(3567,"Shows a single button with a dropdown of layout options."),(0,J.localize)(3568,"Shows several buttons for toggling the visibility of the panels and side bar."),(0,J.localize)(3569,"Shows both the dropdown and toggle buttons.")],default:"both",description:(0,J.localize)(3570,"Controls whether the layout control in the custom title bar is displayed as a single menu button or with multiple UI toggles.")},"workbench.tips.enabled":{type:"boolean",default:!0,description:(0,J.localize)(3571,"When enabled, will show the watermark tips when no editor is open.")}}}),o=(0,J.localize)(3572,"Controls the window title based on the current context such as the opened workspace or active editor. Variables are substituted based on the context:")+"\n- "+[(0,J.localize)(3573,"`${activeEditorShort}`: the file name (e.g. myFile.txt)."),(0,J.localize)(3574,"`${activeEditorMedium}`: the path of the file relative to the workspace folder (e.g. myFolder/myFileFolder/myFile.txt)."),(0,J.localize)(3575,"`${activeEditorLong}`: the full path of the file (e.g. /Users/Development/myFolder/myFileFolder/myFile.txt)."),(0,J.localize)(3576,"`${activeFolderShort}`: the name of the folder the file is contained in (e.g. myFileFolder)."),(0,J.localize)(3577,"`${activeFolderMedium}`: the path of the folder the file is contained in, relative to the workspace folder (e.g. myFolder/myFileFolder)."),(0,J.localize)(3578,"`${activeFolderLong}`: the full path of the folder the file is contained in (e.g. /Users/Development/myFolder/myFileFolder)."),(0,J.localize)(3579,"`${folderName}`: name of the workspace folder the file is contained in (e.g. myFolder)."),(0,J.localize)(3580,"`${folderPath}`: file path of the workspace folder the file is contained in (e.g. /Users/Development/myFolder)."),(0,J.localize)(3581,"`${rootName}`: name of the workspace with optional remote name and workspace indicator if applicable (e.g. myFolder, myRemoteFolder [SSH] or myWorkspace (Workspace))."),(0,J.localize)(3582,"`${rootNameShort}`: shortened name of the workspace without suffixes (e.g. myFolder, myRemoteFolder or myWorkspace)."),(0,J.localize)(3583,"`${rootPath}`: file path of the opened workspace or folder (e.g. /Users/Development/myWorkspace)."),(0,J.localize)(3584,"`${profileName}`: name of the profile in which the workspace is opened (e.g. Data Science (Profile)). Ignored if default profile is used."),(0,J.localize)(3585,"`${appName}`: e.g. VS Code."),(0,J.localize)(3586,"`${remoteName}`: e.g. SSH"),(0,J.localize)(3587,"`${dirty}`: an indicator for when the active editor has unsaved changes."),(0,J.localize)(3588,"`${focusedView}`: the name of the view that is currently focused."),(0,J.localize)(3589,"`${activeRepositoryName}`: the name of the active repository (e.g. vscode)."),(0,J.localize)(3590,"`${activeRepositoryBranchName}`: the name of the active branch in the active repository (e.g. main)."),(0,J.localize)(3591,'`${separator}`: a conditional separator (" - ") that only shows when surrounded by variables with values or static text.')].join("\n- "),cq.registerConfiguration({...cM.windowConfigurationNodeBase,properties:{"window.title":{type:"string",default:cW,markdownDescription:o},"window.titleSeparator":{type:"string",default:cz,markdownDescription:(0,J.localize)(3592,"Separator used by {0}.","`#window.title#`")},[cT.LayoutSettings.COMMAND_CENTER]:{type:"boolean",default:!0,markdownDescription:e8.isWeb?(0,J.localize)(3593,"Show command launcher together with the window title."):(0,J.localize)(3594,"Show command launcher together with the window title. This setting only has an effect when {0} is not set to {1}.","`#window.customTitleBarVisibility#`","`never`")},"window.menuBarVisibility":{type:"string",enum:["classic","visible","toggle","hidden","compact"],markdownEnumDescriptions:[(0,J.localize)(3595,"Menu is displayed at the top of the window and only hidden in full screen mode."),(0,J.localize)(3596,"Menu is always visible at the top of the window even in full screen mode."),e8.isMacintosh?(0,J.localize)(3597,"Menu is hidden but can be displayed at the top of the window by executing the `Focus Application Menu` command."):(0,J.localize)(3598,"Menu is hidden but can be displayed at the top of the window via the Alt key."),(0,J.localize)(3599,"Menu is always hidden."),e8.isWeb?(0,J.localize)(3600,"Menu is displayed as a compact button in the side bar."):(0,J.localize)(3601,"Menu is displayed as a compact button in the side bar. This value is ignored when {0} is {1}.","`#window.titleBarStyle#`","`native`")],default:e8.isWeb?"compact":"classic",scope:ei.ConfigurationScope.APPLICATION,markdownDescription:e8.isMacintosh?(0,J.localize)(3602,"Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and executing `Focus Application Menu` will show it. A setting of 'compact' will move the menu into the side bar."):(0,J.localize)(3603,"Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and a single press of the Alt key will show it. A setting of 'compact' will move the menu into the side bar."),included:e8.isWindows||e8.isLinux||e8.isWeb},"window.enableMenuBarMnemonics":{type:"boolean",default:!0,scope:ei.ConfigurationScope.APPLICATION,description:(0,J.localize)(3604,"Controls whether the main menus can be opened via Alt-key shortcuts. Disabling mnemonics allows to bind these Alt-key shortcuts to editor commands instead."),included:e8.isWindows||e8.isLinux},"window.customMenuBarAltFocus":{type:"boolean",default:!0,scope:ei.ConfigurationScope.APPLICATION,markdownDescription:(0,J.localize)(3605,"Controls whether the menu bar will be focused by pressing the Alt-key. This setting has no effect on toggling the menu bar with the Alt-key."),included:e8.isWindows||e8.isLinux},"window.openFilesInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[(0,J.localize)(3606,"Files will open in a new window."),(0,J.localize)(3607,"Files will open in the window with the files' folder open or the last active window."),e8.isMacintosh?(0,J.localize)(3608,"Files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder."):(0,J.localize)(3609,"Files will open in a new window unless picked from within the application (e.g. via the File menu).")],default:"off",scope:ei.ConfigurationScope.APPLICATION,markdownDescription:e8.isMacintosh?(0,J.localize)(3610,"Controls whether files should open in a new window when using a command line or file dialog.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option)."):(0,J.localize)(3611,"Controls whether files should open in a new window when using a command line or file dialog.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).")},"window.openFoldersInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[(0,J.localize)(3612,"Folders will open in a new window."),(0,J.localize)(3613,"Folders will replace the last active window."),(0,J.localize)(3614,"Folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu).")],default:"default",scope:ei.ConfigurationScope.APPLICATION,markdownDescription:(0,J.localize)(3615,"Controls whether folders should open in a new window or replace the last active window.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).")},"window.confirmBeforeClose":{type:"string",enum:["always","keyboardOnly","never"],enumDescriptions:[e8.isWeb?(0,J.localize)(3616,"Always try to ask for confirmation. Note that browsers may still decide to close a tab or window without confirmation."):(0,J.localize)(3617,"Always ask for confirmation."),e8.isWeb?(0,J.localize)(3618,"Only ask for confirmation if a keybinding was used to close the window. Note that detection may not be possible in some cases."):(0,J.localize)(3619,"Only ask for confirmation if a keybinding was used."),e8.isWeb?(0,J.localize)(3620,"Never explicitly ask for confirmation unless data loss is imminent."):(0,J.localize)(3621,"Never explicitly ask for confirmation.")],default:e8.isWeb&&!(0,df.isStandalone)()?"keyboardOnly":"never",markdownDescription:e8.isWeb?(0,J.localize)(3622,"Controls whether to show a confirmation dialog before closing the browser tab or window. Note that even if enabled, browsers may still decide to close a tab or window without confirmation and that this setting is only a hint that may not work in all cases."):(0,J.localize)(3623,"Controls whether to show a confirmation dialog before closing a window or quitting the application."),scope:ei.ConfigurationScope.APPLICATION}}}),(0,et.registerWorkbenchContribution2)(cM.DynamicWindowConfiguration.ID,cM.DynamicWindowConfiguration,et.WorkbenchPhase.Eventually),cq.registerConfiguration({...cM.problemsConfigurationNodeBase,properties:{"problems.visibility":{type:"boolean",default:!0,description:(0,J.localize)(3624,"Controls whether the problems are visible throughout the editor and workbench.")}}}),cq.registerConfiguration({id:"zenMode",order:9,title:(0,J.localize)(3625,"Zen Mode"),type:"object",properties:{"zenMode.fullScreen":{type:"boolean",default:!0,description:(0,J.localize)(3626,"Controls whether turning on Zen Mode also puts the workbench into full screen mode.")},"zenMode.centerLayout":{type:"boolean",default:!0,description:(0,J.localize)(3627,"Controls whether turning on Zen Mode also centers the layout.")},"zenMode.showTabs":{type:"string",enum:["multiple","single","none"],description:(0,J.localize)(3628,"Controls whether turning on Zen Mode should show multiple editor tabs, a single editor tab, or hide the editor title area completely."),enumDescriptions:[(0,J.localize)(3629,"Each editor is displayed as a tab in the editor title area."),(0,J.localize)(3630,"The active editor is displayed as a single large tab in the editor title area."),(0,J.localize)(3631,"The editor title area is not displayed.")],default:"multiple"},"zenMode.hideStatusBar":{type:"boolean",default:!0,description:(0,J.localize)(3632,"Controls whether turning on Zen Mode also hides the status bar at the bottom of the workbench.")},"zenMode.hideActivityBar":{type:"boolean",default:!0,description:(0,J.localize)(3633,"Controls whether turning on Zen Mode also hides the activity bar either at the left or right of the workbench.")},"zenMode.hideLineNumbers":{type:"boolean",default:!0,description:(0,J.localize)(3634,"Controls whether turning on Zen Mode also hides the editor line numbers.")},"zenMode.restore":{type:"boolean",default:!0,description:(0,J.localize)(3635,"Controls whether a window should restore to Zen Mode if it was exited in Zen Mode.")},"zenMode.silentNotifications":{type:"boolean",default:!0,description:(0,J.localize)(3636,"Controls whether notifications do not disturb mode should be enabled while in Zen Mode. If true, only error notifications will pop out.")}}}),ee.Registry.as(cM.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:"workbench.activityBar.visible",migrateFn:e=>{let t=[];return void 0!==e&&t.push(["workbench.activityBar.visible",{value:void 0}]),!1===e&&t.push([cT.LayoutSettings.ACTIVITY_BAR_LOCATION,{value:cT.ActivityBarPosition.HIDDEN}]),t}}]),ee.Registry.as(cM.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:cT.LayoutSettings.ACTIVITY_BAR_LOCATION,migrateFn:e=>{let t=[];return"side"===e&&t.push([cT.LayoutSettings.ACTIVITY_BAR_LOCATION,{value:cT.ActivityBarPosition.DEFAULT}]),t}}]),ee.Registry.as(cM.Extensions.ConfigurationMigration).registerConfigurationMigrations([{key:"workbench.editor.doubleClickTabToToggleEditorGroupSizes",migrateFn:e=>{let t=[];return"boolean"==typeof e&&t.push(["workbench.editor.doubleClickTabToToggleEditorGroupSizes",{value:e=e?"expand":"off"}]),t}},{key:cT.LayoutSettings.EDITOR_TABS_MODE,migrateFn:e=>{let t=[];return"boolean"==typeof e&&(e=e?cT.EditorTabsMode.MULTIPLE:cT.EditorTabsMode.SINGLE,t.push([cT.LayoutSettings.EDITOR_TABS_MODE,{value:e}])),t}},{key:"workbench.editor.tabCloseButton",migrateFn:e=>{let t=[];return"left"===e||"right"===e?t.push(["workbench.editor.tabActionLocation",{value:e}]):"off"===e&&t.push(["workbench.editor.tabActionCloseVisibility",{value:!1}]),t}},{key:"zenMode.hideTabs",migrateFn:e=>{let t=[["zenMode.hideTabs",{value:void 0}]];return!0===e&&t.push(["zenMode.showTabs",{value:"single"}]),t}}]),e.s([],347714);let c$=()=>!1,cj=()=>!1,cQ=dW.prototype.getCommandPicks;dW.prototype.getCommandPicks=async function(e){let t=await cQ.call(this,e);return c$()||(t=t.map(e=>({...e,buttons:void 0}))),t};let cY=class{constructor(e){this.instantiationService=e,this.workbenchQuickInputService=e.createInstance(dm)}get activeService(){let e=dh.StandaloneServices.get(eQ.ICodeEditorService).getFocusedCodeEditor();return null==e||cj(e,e instanceof d_.StandaloneCodeEditor)?this.workbenchQuickInputService:(this.standaloneQuickInputService??(this.standaloneQuickInputService=this.instantiationService.createInstance(du.StandaloneQuickInputService)),this.standaloneQuickInputService)}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}get backButton(){return this.activeService.backButton}get onShow(){return this.activeService.onShow}get onHide(){return this.activeService.onHide}createQuickWidget(){return this.activeService.createQuickWidget()}pick(e,t={},i=ed.CancellationToken.None){return this.activeService.pick(e,t,i)}input(e,t){return this.activeService.input(e,t)}createQuickPick(e={useSeparators:!1}){return this.activeService.createQuickPick(e)}createInputBox(){return this.activeService.createInputBox()}focus(){return this.activeService.focus()}toggle(){return this.activeService.toggle()}navigate(e,t){return this.activeService.navigate(e,t)}accept(){return this.activeService.accept()}back(){return this.activeService.back()}cancel(){return this.activeService.cancel()}};function cZ({isKeybindingConfigurationVisible:e,shouldUseGlobalPicker:t}={}){return null!=e&&(c$=e),null!=t&&(cj=t),{[eW.IQuickInputService.toString()]:new dc.SyncDescriptor(cY,[],!0)}}cY=(0,Y.__decorate)([(0,Y.__param)(0,eC.IInstantiationService)],cY),e.s(["default",()=>cZ],405035);var cX=e.i(155941),cJ=e.i(618284),c0=e.i(790728);e.i(456369);let c1=/^([^.]+\..+)[:=](.+)$/;class c2{get remoteAuthority(){return this.options.remoteAuthority}get expectsResolverExtension(){return!!this.options.remoteAuthority?.includes("+")&&!this.options.webSocketFactory}get isBuilt(){return!!this.productService.commit}get logLevel(){let e=this.payload?.get("logLevel");return e?e.split(",").find(e=>!c1.test(e)):this.options.developmentOptions?.logLevel!==void 0?(0,c0.LogLevelToString)(this.options.developmentOptions?.logLevel):void 0}get extensionLogLevel(){let e=this.payload?.get("logLevel");if(e){let t=[];for(let i of e.split(",")){let e=c1.exec(i);e&&e[1]&&e[2]&&t.push([e[1],e[2]])}return t.length?t:void 0}return this.options.developmentOptions?.extensionLogLevel!==void 0?this.options.developmentOptions?.extensionLogLevel.map(([e,t])=>[e,(0,c0.LogLevelToString)(t)]):void 0}get profDurationMarkers(){let e=this.payload?.get("profDurationMarkers");if(e){let t=[];for(let i of e.split(","))t.push(i);return 2===t.length?t:void 0}}get windowLogsPath(){return this.logsHome}get logFile(){return(0,nI.joinPath)(this.windowLogsPath,"window.log")}get userRoamingDataHome(){return ip.URI.file("/User").with({scheme:cv.Schemas.vscodeUserData})}get argvResource(){return(0,nI.joinPath)(this.userRoamingDataHome,"argv.json")}get cacheHome(){return(0,nI.joinPath)(this.userRoamingDataHome,"caches")}get workspaceStorageHome(){return(0,nI.joinPath)(this.userRoamingDataHome,"workspaceStorage")}get localHistoryHome(){return(0,nI.joinPath)(this.userRoamingDataHome,"History")}get stateResource(){return(0,nI.joinPath)(this.userRoamingDataHome,"State","storage.json")}get userDataSyncHome(){return(0,nI.joinPath)(this.userRoamingDataHome,"sync",this.workspaceId)}get sync(){}get keyboardLayoutResource(){return(0,nI.joinPath)(this.userRoamingDataHome,"keyboardLayout.json")}get untitledWorkspacesHome(){return(0,nI.joinPath)(this.userRoamingDataHome,"Workspaces")}get serviceMachineIdResource(){return(0,nI.joinPath)(this.userRoamingDataHome,"machineid")}get extHostLogsPath(){return(0,nI.joinPath)(this.logsHome,"exthost")}get extHostTelemetryLogFile(){return(0,nI.joinPath)(this.extHostLogsPath,"extensionTelemetry.log")}get debugExtensionHost(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.params}get isExtensionDevelopment(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.isExtensionDevelopment}get extensionDevelopmentLocationURI(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionDevelopmentLocationURI}get extensionDevelopmentLocationKind(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionDevelopmentKind}get extensionTestsLocationURI(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionTestsLocationURI}get extensionEnabledProposedApi(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionEnabledProposedApi}get debugRenderer(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.debugRenderer}get enableSmokeTestDriver(){return this.options.developmentOptions?.enableSmokeTestDriver}get disableExtensions(){return this.payload?.get("disableExtensions")==="true"}get enableExtensions(){return this.options.enabledExtensions}get webviewExternalEndpoint(){let e=this.options.webviewEndpoint||this.productService.webviewContentExternalBaseUrlTemplate||"https://{{uuid}}.vscode-cdn.net/{{quality}}/{{commit}}/out/vs/workbench/contrib/webview/browser/pre/",t=this.payload?.get("webviewExternalEndpointCommit");return e.replace("{{commit}}",t??this.productService.commit??"ef65ac1ba57f57f2a3961bfe94aa20481caca4c6").replace("{{quality}}",(t?"insider":this.productService.quality)??"insider")}get extensionTelemetryLogResource(){return(0,nI.joinPath)(this.logsHome,"extensionTelemetry.log")}get disableTelemetry(){return!1}get verbose(){return this.payload?.get("verbose")==="true"}get logExtensionHostCommunication(){return this.payload?.get("logExtensionHostCommunication")==="true"}get skipReleaseNotes(){return this.payload?.get("skipReleaseNotes")==="true"}get skipWelcome(){return this.payload?.get("skipWelcome")==="true"}get disableWorkspaceTrust(){return!this.options.enableWorkspaceTrust}get profile(){return this.payload?.get("profile")}constructor(e,t,i,o){if(this.workspaceId=e,this.logsHome=t,this.options=i,this.productService=o,this.extensionHostDebugEnvironment=void 0,this.editSessionId=this.options.editSessionId,i.workspaceProvider&&Array.isArray(i.workspaceProvider.payload))try{this.payload=new Map(i.workspaceProvider.payload)}catch(e){(0,e$.onUnexpectedError)(e)}}resolveExtensionHostDebugEnvironment(){let e={params:{port:null,break:!1},debugRenderer:!1,isExtensionDevelopment:!1,extensionDevelopmentLocationURI:void 0,extensionDevelopmentKind:void 0};if(this.payload)for(let[t,i]of this.payload)switch(t){case"extensionDevelopmentPath":e.extensionDevelopmentLocationURI||(e.extensionDevelopmentLocationURI=[]),e.extensionDevelopmentLocationURI.push(ip.URI.parse(i)),e.isExtensionDevelopment=!0;break;case"extensionDevelopmentKind":e.extensionDevelopmentKind=[i];break;case"extensionTestsPath":e.extensionTestsLocationURI=ip.URI.parse(i);break;case"debugRenderer":e.debugRenderer="true"===i;break;case"debugId":e.params.debugId=i;break;case"inspect-brk-extensions":e.params.port=parseInt(i),e.params.break=!0;break;case"inspect-extensions":e.params.port=parseInt(i);break;case"enableProposedApi":e.extensionEnabledProposedApi=[]}let t=this.options.developmentOptions;return t&&!e.isExtensionDevelopment&&(t.extensions?.length&&(e.extensionDevelopmentLocationURI=t.extensions.map(e=>ip.URI.revive(e)),e.isExtensionDevelopment=!0),t.extensionTestsPath&&(e.extensionTestsLocationURI=ip.URI.revive(t.extensionTestsPath))),e}get filesToOpenOrCreate(){if(this.payload){let e=this.payload.get("openFile");if(e){let t=ip.URI.parse(e);if(this.payload.has("gotoLineMode")){let e=(0,cJ.parseLineAndColumnAware)(t.path);return[{fileUri:t.with({path:e.path}),options:{selection:(0,ih.isUndefined)(e.line)?void 0:{startLineNumber:e.line,startColumn:e.column||1}}}]}return[{fileUri:t}]}}}get filesToDiff(){if(this.payload){let e=this.payload.get("diffFilePrimary"),t=this.payload.get("diffFileSecondary");if(e&&t)return[{fileUri:ip.URI.parse(t)},{fileUri:ip.URI.parse(e)}]}}get filesToMerge(){if(this.payload){let e=this.payload.get("mergeFile1"),t=this.payload.get("mergeFile2"),i=this.payload.get("mergeFileBase"),o=this.payload.get("mergeFileResult");if(e&&t&&i&&o)return[{fileUri:ip.URI.parse(e)},{fileUri:ip.URI.parse(t)},{fileUri:ip.URI.parse(i)},{fileUri:ip.URI.parse(o)}]}}}c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"remoteAuthority",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"expectsResolverExtension",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"isBuilt",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"logLevel",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"windowLogsPath",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"logFile",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"userRoamingDataHome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"argvResource",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"cacheHome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"workspaceStorageHome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"localHistoryHome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"stateResource",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"userDataSyncHome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"sync",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"keyboardLayoutResource",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"untitledWorkspacesHome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"serviceMachineIdResource",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extHostLogsPath",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extHostTelemetryLogFile",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"debugExtensionHost",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"isExtensionDevelopment",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extensionDevelopmentLocationURI",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extensionDevelopmentLocationKind",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extensionTestsLocationURI",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extensionEnabledProposedApi",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"debugRenderer",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"enableSmokeTestDriver",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"disableExtensions",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"enableExtensions",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"webviewExternalEndpoint",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"extensionTelemetryLogResource",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"disableTelemetry",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"verbose",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"logExtensionHostCommunication",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"skipReleaseNotes",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"skipWelcome",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"disableWorkspaceTrust",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"profile",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"filesToOpenOrCreate",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"filesToDiff",null),c2.__decorator=(0,Y.__decorate)([cX.memoize],c2.prototype,"filesToMerge",null);var c3=e.i(239548);let c5=class extends c2{constructor(e=(0,c3.getWorkspaceIdentifier)().id,t=(0,c3.getWorkbenchConstructionOptions)(),i){super(e,c3.logsPath,t,i)}};function c4(e){return{[tE.IEnvironmentService.toString()]:new dc.SyncDescriptor(c5,[void 0,e],!0)}}c5=(0,Y.__decorate)([(0,Y.__param)(2,dA.IProductService)],c5),e.s(["default",()=>c4],355788),(0,ti.default)(".monaco-workbench .part{box-sizing:border-box;overflow:hidden}.monaco-workbench .part>.drop-block-overlay.visible{visibility:visible}.monaco-workbench .part>.drop-block-overlay{height:100%;opacity:0;position:absolute;top:0;visibility:hidden;width:100%;z-index:12}.monaco-workbench .part>.header-or-footer,.monaco-workbench .part>.title{box-sizing:border-box;display:none;display:flex;height:35px;overflow:hidden}.monaco-workbench .part>.title{padding-left:8px;padding-right:8px}.monaco-workbench .part>.title>.title-label{line-height:35px;overflow:hidden;padding-left:12px;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .part>.title>.title-label h2{cursor:default;font-size:11px;font-weight:400;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .part>.title>.title-label a{cursor:default;font-size:13px;text-decoration:none}.monaco-workbench .part>.title>.title-actions{flex:1;height:35px;padding-left:5px}.monaco-workbench .part>.title>.title-actions .action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}.monaco-workbench .part>.title>.title-actions .action-label .label{display:none}.monaco-workbench .part>.content{font-size:13px}.monaco-workbench .part.editor>.content .editor-group-container>.monaco-progress-container,.monaco-workbench .part>.content>.monaco-progress-container{left:0;position:absolute;top:33px;z-index:5}",{});var c6=e.i(577707);class c8 extends c6.Component{get dimension(){return this._dimension}get contentPosition(){return this._contentPosition}constructor(e,t,i,o,n){super(e,i,o),this.options=t,this.layoutService=n,this._onDidVisibilityChange=this._register(new eE.Emitter),this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._onDidChange=this._register(new eE.Emitter),this._register(n.registerPart(this))}onThemeChange(e){this.parent&&super.onThemeChange(e)}create(e,t){this.parent=e,this.titleArea=this.createTitleArea(e,t),this.contentArea=this.createContentArea(e,t),this.partLayout=new c9(this.options,this.contentArea),this.updateStyles()}getContainer(){return this.parent}createTitleArea(e,t){}getTitleArea(){return this.titleArea}createContentArea(e,t){}getContentArea(){return this.contentArea}setHeaderArea(e){if(this.headerArea)throw Error("Header already exists");this.parent&&this.titleArea&&((0,el.prepend)(this.parent,e),e.classList.add("header-or-footer"),e.classList.add("header"),this.headerArea=e,this.partLayout?.setHeaderVisibility(!0),this.relayout())}setFooterArea(e){if(this.footerArea)throw Error("Footer already exists");this.parent&&this.titleArea&&(this.parent.appendChild(e),e.classList.add("header-or-footer"),e.classList.add("footer"),this.footerArea=e,this.partLayout?.setFooterVisibility(!0),this.relayout())}removeHeaderArea(){this.headerArea&&(this.headerArea.remove(),this.headerArea=void 0,this.partLayout?.setHeaderVisibility(!1),this.relayout())}removeFooterArea(){this.footerArea&&(this.footerArea.remove(),this.footerArea=void 0,this.partLayout?.setFooterVisibility(!1),this.relayout())}relayout(){this.dimension&&this.contentPosition&&this.layout(this.dimension.width,this.dimension.height,this.contentPosition.top,this.contentPosition.left)}layoutContents(e,t){return(0,ih.assertIsDefined)(this.partLayout).layout(e,t)}get onDidChange(){return this._onDidChange.event}layout(e,t,i,o){this._dimension=new el.Dimension(e,t),this._contentPosition={top:i,left:o}}setVisible(e){this._onDidVisibilityChange.fire(e)}}class c9{static{this.HEADER_HEIGHT=35}static{this.TITLE_HEIGHT=44}static{this.Footer_HEIGHT=35}constructor(e,t){this.options=e,this.contentArea=t,this.headerVisible=!1,this.footerVisible=!1}layout(e,t){let i,o,n;i=this.options.hasTitle?new el.Dimension(e,Math.min(t,c9.TITLE_HEIGHT)):el.Dimension.None,o=this.headerVisible?new el.Dimension(e,Math.min(t,c9.HEADER_HEIGHT)):el.Dimension.None,n=this.footerVisible?new el.Dimension(e,Math.min(t,c9.Footer_HEIGHT)):el.Dimension.None;let r=e;this.options&&"function"==typeof this.options.borderWidth&&(r-=this.options.borderWidth());let s=new el.Dimension(r,t-i.height-o.height-n.height);return this.contentArea&&(0,el.size)(this.contentArea,s.width,s.height),{headerSize:o,titleSize:i,contentSize:s,footerSize:n}}setFooterVisibility(e){this.footerVisible=e}setHeaderVisibility(e){this.headerVisible=e}}class c7 extends c6.Component{constructor(){super(...arguments),this._parts=new Set}get parts(){return Array.from(this._parts)}registerPart(e){return this._parts.add(e),(0,Z.toDisposable)(()=>this.unregisterPart(e))}unregisterPart(e){this._parts.delete(e)}getPart(e){return this.getPartByDocument(e.ownerDocument)}getPartByDocument(e){if(this._parts.size>1){for(let t of this._parts)if(t.element?.ownerDocument===e)return t}return this.mainPart}get activePart(){return this.getPartByDocument((0,el.getActiveDocument)())}}e.s(["MultiWindowParts",()=>c7,"Part",()=>c8],480332),(0,ti.default)('.monaco-workbench .part.activitybar{height:100%;width:48px}.monaco-workbench .activitybar.bordered:before{border-color:inherit;box-sizing:border-box;content:"";float:left;height:100%;position:absolute;width:0}.monaco-workbench .activitybar.left.bordered:before{border-right-style:solid;border-right-width:1px;right:0}.monaco-workbench .activitybar.right.bordered:before{border-left-style:solid;border-left-width:1px;left:0}.monaco-workbench .activitybar>.content{display:flex;flex-direction:column;height:100%;justify-content:space-between}.monaco-workbench .activitybar>.content .monaco-action-bar{background-color:inherit;text-align:left}.monaco-workbench .activitybar .action-item:focus{outline:0!important}.monaco-workbench .activitybar>.content>.composite-bar{margin-bottom:auto}.monaco-workbench .activitybar .menubar,.monaco-workbench .activitybar .menubar.compact .toolbar-toggle-more{height:35px;width:100%}',{}),(0,ti.default)('.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item{display:block;position:relative}.monaco-workbench .activitybar>.content .composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .activitybar>.content .composite-bar>.monaco-action-bar .action-item:before{background-color:transparent;content:"";display:none;height:2px;position:absolute;transition-delay:.1s;transition-duration:0ms;transition-property:background-color;width:48px}.monaco-workbench .activitybar>.content.dragged-over .composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .activitybar>.content.dragged-over .composite-bar>.monaco-action-bar .action-item:before{display:block}.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:before{transition-delay:0s}.monaco-workbench .activitybar>.content.dragged-over-head>.composite-bar>.monaco-action-bar .action-item:first-of-type:before,.monaco-workbench .activitybar>.content.dragged-over-tail>.composite-bar>.monaco-action-bar .action-item:last-of-type:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom+.action-item:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item:last-of-type.bottom:after{background-color:var(--insert-border-color)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label{box-sizing:border-box;display:flex;height:48px;margin-right:0;overflow:hidden;position:relative;width:48px;z-index:1}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label:not(.codicon){font-size:15px;line-height:40px;padding:0 0 0 48px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label.codicon{align-items:center;font-size:24px;justify-content:center}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.active .action-label.codicon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .action-label.codicon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .action-label.codicon{color:var(--vscode-activityBar-foreground)!important}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.active .action-label.uri-icon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .action-label.uri-icon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .action-label.uri-icon{background-color:var(--vscode-activityBar-foreground)!important}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-left:2px solid;content:"";height:100%;position:absolute;top:0;width:0;z-index:1}.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-color:var(--vscode-activityBar-activeBorder)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before{height:100%;top:0}.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator.action-item,.monaco-workbench.hc-light .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator{display:none}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.clicked:focus .active-item-indicator:before,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.clicked:focus:before{border-left:none!important}.monaco-workbench .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item .active-item-indicator:before{left:0}.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item .active-item-indicator:before{right:0}.monaco-workbench.hc-black .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-black .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-light .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-light .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before{outline:none}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{bottom:0;height:100%;left:0;margin:auto;overflow:hidden;position:absolute;top:0;width:100%}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge{z-index:2}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{z-index:1}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator{pointer-events:none}.monaco-workbench.border .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator{left:-2px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .badge-content{border-radius:20px;font-size:9px;font-weight:600;height:16px;line-height:16px;min-width:8px;padding:0 4px;position:absolute;right:8px;text-align:center;top:24px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge .profile-text-overlay{background-color:var(--vscode-profileBadge-background);border:2px solid var(--vscode-activityBar-background);border-radius:7px;color:var(--vscode-profileBadge-foreground);font-size:9px;font-weight:600;line-height:10px;padding:2px 3px;position:absolute;right:6px;top:24px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:active .profile-text-overlay,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .profile-text-overlay,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .profile-text-overlay{color:var(--vscode-activityBar-foreground)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .codicon.badge-content{font-size:12px;font-weight:unset;justify-content:center;padding:0}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .codicon.badge-content:before{text-align:center;vertical-align:baseline}.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .badge,.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{left:auto;right:0}',{});var ue=em,ut=em,ui=e.i(257945),uo=e5,un=e.i(539502),ur=e.i(36048),us=e.i(312371),ua=e.i(429053),ul=em,ud=e.i(595904);class uc extends uo.Action{constructor(e){super(e.id,e.name,e.classNames?.join(" "),!0),this.item=e,this._onDidChangeCompositeBarActionItem=this._register(new eE.Emitter),this.onDidChangeCompositeBarActionItem=this._onDidChangeCompositeBarActionItem.event,this._onDidChangeActivity=this._register(new eE.Emitter),this.onDidChangeActivity=this._onDidChangeActivity.event}get compositeBarActionItem(){return this.item}set compositeBarActionItem(e){this._label=e.name,this.item=e,this._onDidChangeCompositeBarActionItem.fire(this)}get activity(){return this._activity}set activity(e){this._activity=e,this._onDidChangeActivity.fire(e)}activate(){this.checked||this._setChecked(!0)}deactivate(){this.checked&&this._setChecked(!1)}}let uu=class extends ua.BaseActionViewItem{constructor(e,t,i,o,n,r,s){super(null,e,t),this.badgesEnabled=i,this.themeService=o,this.hoverService=n,this.configurationService=r,this.keybindingService=s,this.badgeDisposable=this._register(new Z.MutableDisposable),this.options=t,this._register(this.themeService.onDidColorThemeChange(this.onThemeChange,this)),this._register(e.onDidChangeCompositeBarActionItem(()=>this.update())),this._register(eE.Event.filter(s.onDidUpdateKeybindings,()=>this.keybindingLabel!==this.computeKeybindingLabel())(()=>this.updateTitle())),this._register(e.onDidChangeActivity(()=>this.updateActivity()))}get compositeBarActionItem(){return this._action.compositeBarActionItem}updateStyles(){let e=this.themeService.getColorTheme(),t=this.options.colors(e);if(this.label){if(this.options.icon){let e=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor;this.compositeBarActionItem.iconUrl?(this.label.style.backgroundColor=e?e.toString():"",this.label.style.color=""):(this.label.style.color=e?e.toString():"",this.label.style.backgroundColor="")}else{let e=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor,i=this._action.checked?t.activeBorderBottomColor:null;this.label.style.color=e?e.toString():"",this.label.style.borderBottomColor=i?i.toString():""}this.container.style.setProperty("--insert-border-color",t.dragAndDropBorder?t.dragAndDropBorder.toString():"")}if(this.badgeContent){let i=this.getActivity()?.badge.getColors(e),o=i?.badgeForeground??t.badgeForeground??e.getColor(nF.badgeForeground),n=i?.badgeBackground??t.badgeBackground??e.getColor(nF.badgeBackground),r=i?.badgeBorder??e.getColor(nR.contrastBorder);this.badgeContent.style.color=o?o.toString():"",this.badgeContent.style.backgroundColor=n?n.toString():"",this.badgeContent.style.borderStyle=r&&!this.options.compact?"solid":"",this.badgeContent.style.borderWidth=r?"1px":"",this.badgeContent.style.borderColor=r?r.toString():""}}render(e){super.render(e),this.container=e,this.options.icon&&this.container.classList.add("icon"),this.options.hasPopup?(this.container.setAttribute("role","button"),this.container.setAttribute("aria-haspopup","true")):this.container.setAttribute("role","tab"),this._register((0,el.addDisposableListener)(this.container,el.EventType.MOUSE_DOWN,()=>{this.container.classList.add("clicked")})),this._register((0,el.addDisposableListener)(this.container,el.EventType.MOUSE_UP,()=>{this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.mouseUpTimeout=setTimeout(()=>{this.container.classList.remove("clicked")},800)})),this._register(this.hoverService.setupDelayedHover(this.container,()=>({content:this.computeTitle(),position:{hoverPosition:this.options.hoverOptions.position()},persistence:{hideOnKeyDown:!0},appearance:{showPointer:!0,compact:!0}}),{groupId:"composite-bar-actions"})),this.label=(0,el.append)(e,(0,el.$)("a")),this.badge=(0,el.append)(e,(0,el.$)(".badge")),this.badgeContent=(0,el.append)(this.badge,(0,el.$)(".badge-content")),(0,el.append)(e,(0,el.$)(".active-item-indicator")),(0,el.hide)(this.badge),this.update(),this.updateStyles(),this.updateTitle()}onThemeChange(e){this.updateStyles()}update(){this.updateLabel(),this.updateActivity(),this.updateTitle(),this.updateStyles()}getActivity(){if(this._action instanceof uc)return this._action.activity}updateActivity(){if(!this.badge||!this.badgeContent||!(this._action instanceof uc))return;let e=this.getActivity();this.badgeDisposable.value=new Z.DisposableStore,(0,el.clearNode)(this.badgeContent),(0,el.hide)(this.badge);let t=this.badgesEnabled(this.compositeBarActionItem.id);if(e&&t){let{badge:t}=e,i=[];if(this.options.compact&&i.push("compact"),t instanceof un.ProgressBadge)(0,el.show)(this.badge),i.push("progress-badge");else if(t instanceof un.NumberBadge){if(t.number){let e=t.number.toString();if(t.number>999){let i=t.number/1e3,o=Math.floor(i);e=i>o?`${o}K+`:`${i}K`}this.options.compact&&e.length>=3&&i.push("compact-content"),this.badgeContent.textContent=e,(0,el.show)(this.badge)}}else if(t instanceof un.IconBadge){i.push("icon-badge");let e=["icon-overlay",...rD.ThemeIcon.asClassNameArray(t.icon)];this.badgeContent.classList.add(...e),this.badgeDisposable.value.add((0,Z.toDisposable)(()=>this.badgeContent?.classList.remove(...e))),(0,el.show)(this.badge)}i.length&&(this.badge.classList.add(...i),this.badgeDisposable.value.add((0,Z.toDisposable)(()=>this.badge.classList.remove(...i))))}this.updateTitle(),this.updateStyles()}updateLabel(){this.label.className="action-label",this.compositeBarActionItem.classNames&&this.label.classList.add(...this.compositeBarActionItem.classNames),this.options.icon||(this.label.textContent=this.action.label)}updateTitle(){let e=this.computeTitle();[this.label,this.badge,this.container].forEach(t=>{t&&(t.setAttribute("aria-label",e),t.setAttribute("title",""),t.removeAttribute("title"))})}computeTitle(){this.keybindingLabel=this.computeKeybindingLabel();let e=this.keybindingLabel?(0,J.localize)(2733,"{0} ({1})",this.compositeBarActionItem.name,this.keybindingLabel):this.compositeBarActionItem.name,t=this.action.activity?.badge;return t?.getDescription()&&(e=(0,J.localize)(2734,"{0} - {1}",e,t.getDescription())),e}computeKeybindingLabel(){let e=this.compositeBarActionItem.keybindingId?this.keybindingService.lookupKeybinding(this.compositeBarActionItem.keybindingId):null;return e?.getLabel()}dispose(){super.dispose(),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()}};uu=(0,Y.__decorate)([(0,Y.__param)(3,iq.IThemeService),(0,Y.__param)(4,iZ.IHoverService),(0,Y.__param)(5,es.IConfigurationService),(0,Y.__param)(6,eM.IKeybindingService)],uu);class uh extends uc{constructor(e){super({id:"additionalComposites.action",name:(0,J.localize)(2735,"Additional Views"),classNames:rD.ThemeIcon.asClassNameArray(tP.Codicon.more)}),this.showMenu=e}async run(){this.showMenu()}}let up=class extends uu{constructor(e,t,i,o,n,r,s,a,l,d,c,u){super(e,{icon:!0,colors:r,hasPopup:!0,hoverOptions:s},()=>!0,l,d,c,u),this.getOverflowingComposites=t,this.getActiveCompositeId=i,this.getBadge=o,this.getCompositeOpenAction=n,this.contextMenuService=a}showMenu(){this.contextMenuService.showContextMenu({getAnchor:()=>this.container,getActions:()=>this.getActions(),getCheckedActionsRepresentation:()=>"radio"})}getActions(){return this.getOverflowingComposites().map(e=>{let t,i=this.getCompositeOpenAction(e.id);i.checked=this.getActiveCompositeId()===i.id;let o=this.getBadge(e.id);return o instanceof un.NumberBadge&&(t=o.number),t?i.label=(0,J.localize)(2736,"{0} ({1})",e.name,t):i.label=e.name||"",i})}};up=(0,Y.__decorate)([(0,Y.__param)(7,eJ.IContextMenuService),(0,Y.__param)(8,iq.IThemeService),(0,Y.__param)(9,iZ.IHoverService),(0,Y.__param)(10,es.IConfigurationService),(0,Y.__param)(11,eM.IKeybindingService)],up);let ug=class extends uo.Action{constructor(e){super("activitybar.manage.extension",(0,J.localize)(2737,"Manage Extension")),this.commandService=e}run(e){return this.commandService.executeCommand("_extensions.manage",e)}};ug=(0,Y.__decorate)([(0,Y.__param)(0,iT.ICommandService)],ug);let um=class extends uu{static{U=this}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g){super(t,e,a.areBadgesEnabled.bind(a),u,h,p,d),this.compositeActivityAction=t,this.toggleCompositePinnedAction=i,this.toggleCompositeBadgeAction=o,this.compositeContextMenuActionsProvider=n,this.contextMenuActionsProvider=r,this.dndHandler=s,this.compositeBar=a,this.contextMenuService=l,this.commandService=g,U.manageExtensionAction||(U.manageExtensionAction=c.createInstance(ug))}render(e){let t;super.render(e),this.updateChecked(),this.updateEnabled(),this._register((0,el.addDisposableListener)(this.container,el.EventType.CONTEXT_MENU,t=>{el.EventHelper.stop(t,!0),this.showContextMenu(e)})),this._register(us.CompositeDragAndDropObserver.INSTANCE.registerDraggable(this.container,()=>({type:"composite",id:this.compositeBarActionItem.id}),{onDragOver:i=>{let o=i.dragAndDropData.getData().id!==this.compositeBarActionItem.id&&this.dndHandler.onDragOver(i.dragAndDropData,this.compositeBarActionItem.id,i.eventData);(0,us.toggleDropEffect)(i.eventData.dataTransfer,"move",o),t=this.updateFromDragging(e,o,i.eventData)},onDragLeave:i=>{t=this.updateFromDragging(e,!1,i.eventData)},onDragEnd:i=>{t=this.updateFromDragging(e,!1,i.eventData)},onDrop:i=>{el.EventHelper.stop(i.eventData,!0),this.dndHandler.drop(i.dragAndDropData,this.compositeBarActionItem.id,i.eventData,t),t=this.updateFromDragging(e,!1,i.eventData)},onDragStart:e=>{e.dragAndDropData.getData().id===this.compositeBarActionItem.id&&(e.eventData.dataTransfer&&(e.eventData.dataTransfer.effectAllowed="move"),this.blur())}})),[this.badge,this.label].forEach(e=>this._register(new ur.DelayedDragHandler(e,()=>{this.action.checked||this.action.run()}))),this.updateStyles()}updateFromDragging(e,t,i){let o=e.getBoundingClientRect(),n=i.clientX,r=i.clientY,s=o.bottom-o.top,a=o.right-o.left,l=r<=o.top+.4*s,d=r>o.bottom-.4*s,c=r<=o.top+.5*s,u=n<=o.left+.4*a,h=n>o.right-.4*a,p=n<=o.left+.5*a,g=e.classList,m={vertical:g.contains("top")?"top":g.contains("bottom")?"bottom":void 0,horizontal:g.contains("left")?"left":g.contains("right")?"right":void 0},_=l||c&&!m.vertical||!d&&"top"===m.vertical,f=d||!c&&!m.vertical||!l&&"bottom"===m.vertical,y=u||p&&!m.horizontal||!h&&"left"===m.horizontal,v=h||!p&&!m.horizontal||!u&&"right"===m.horizontal;if(e.classList.toggle("top",t&&_),e.classList.toggle("bottom",t&&f),e.classList.toggle("left",t&&y),e.classList.toggle("right",t&&v),t)return{verticallyBefore:_,horizontallyBefore:y}}showContextMenu(e){let t=[];this.compositeBarActionItem.keybindingId&&t.push((0,ud.createConfigureKeybindingAction)(this.commandService,this.keybindingService,this.compositeBarActionItem.keybindingId)),t.push(this.toggleCompositePinnedAction,this.toggleCompositeBadgeAction);let i=this.compositeContextMenuActionsProvider(this.compositeBarActionItem.id);i.length&&t.push(...i),this.compositeActivityAction.compositeBarActionItem.extensionId&&(t.push(new uo.Separator),t.push(U.manageExtensionAction)),this.compositeBar.isPinned(this.compositeBarActionItem.id)?(this.toggleCompositePinnedAction.label=(0,J.localize)(2738,"Hide '{0}'",this.compositeBarActionItem.name),this.toggleCompositePinnedAction.checked=!1,this.toggleCompositePinnedAction.enabled=this.compositeBar.getPinnedCompositeIds().length>1):(this.toggleCompositePinnedAction.label=(0,J.localize)(2739,"Keep '{0}'",this.compositeBarActionItem.name),this.toggleCompositePinnedAction.enabled=!0),this.compositeBar.areBadgesEnabled(this.compositeBarActionItem.id)?this.toggleCompositeBadgeAction.label=(0,J.localize)(2740,"Hide Badge"):this.toggleCompositeBadgeAction.label=(0,J.localize)(2741,"Show Badge");let o=this.contextMenuActionsProvider();o.length&&(t.push(new uo.Separator),t.push(...o));let n=(0,el.getDomNodePagePosition)(e),r={x:Math.floor(n.left+n.width/2),y:n.top+n.height};this.contextMenuService.showContextMenu({getAnchor:()=>r,getActions:()=>t,getActionsContext:()=>this.compositeBarActionItem.id})}updateChecked(){this.action.checked?(this.container.classList.add("checked"),this.container.setAttribute("aria-label",this.getTooltip()??this.container.title),this.container.setAttribute("aria-expanded","true"),this.container.setAttribute("aria-selected","true")):(this.container.classList.remove("checked"),this.container.setAttribute("aria-label",this.getTooltip()??this.container.title),this.container.setAttribute("aria-expanded","false"),this.container.setAttribute("aria-selected","false")),this.updateStyles()}updateEnabled(){this.element&&(this.action.enabled?this.element.classList.remove("disabled"):this.element.classList.add("disabled"))}dispose(){super.dispose(),this.label.remove()}};um=U=(0,Y.__decorate)([(0,Y.__param)(8,eJ.IContextMenuService),(0,Y.__param)(9,eM.IKeybindingService),(0,Y.__param)(10,eC.IInstantiationService),(0,Y.__param)(11,iq.IThemeService),(0,Y.__param)(12,iZ.IHoverService),(0,Y.__param)(13,es.IConfigurationService),(0,Y.__param)(14,iT.ICommandService)],um);class u_ extends uo.Action{constructor(e,t){super("show.toggleCompositePinned",e?e.name:(0,J.localize)(2742,"Toggle View Pinned")),this.activity=e,this.compositeBar=t,this.checked=!!this.activity&&this.compositeBar.isPinned(this.activity.id)}async run(e){let t=this.activity?this.activity.id:e;this.compositeBar.isPinned(t)?this.compositeBar.unpin(t):this.compositeBar.pin(t)}}class uf extends uo.Action{constructor(e,t){super("show.toggleCompositeBadge",e?e.name:(0,J.localize)(2743,"Toggle View Badge")),this.compositeBarActionItem=e,this.compositeBar=t,this.checked=!1}async run(e){let t=this.compositeBarActionItem?this.compositeBarActionItem.id:e;this.compositeBar.toggleBadgeEnablement(t)}}class uy extends ul.Action2{constructor(e,t,i){super(e),this.location=t,this.offset=i}async run(e){let t,i=e.get(d0.IPaneCompositePartService),o=i.getActivePaneComposite(this.location);if(!o)return;let n=i.getVisiblePaneCompositeIds(this.location);for(let e=0;e<n.length;e++)if(n[e]===o.getId()){t=n[(e+n.length+this.offset)%n.length];break}void 0!==t&&await i.openPaneComposite(t,this.location,!0)}}let uv=(0,nw.registerIcon)("auxiliarybar-right-layout-icon",tP.Codicon.layoutSidebarRight,(0,J.localize)(2715,"Icon to toggle the auxiliary bar off in its right position.")),uC=(0,nw.registerIcon)("auxiliarybar-right-off-layout-icon",tP.Codicon.layoutSidebarRightOff,(0,J.localize)(2716,"Icon to toggle the auxiliary bar on in its right position.")),ub=(0,nw.registerIcon)("auxiliarybar-left-layout-icon",tP.Codicon.layoutSidebarLeft,(0,J.localize)(2717,"Icon to toggle the auxiliary bar in its left position.")),uS=(0,nw.registerIcon)("auxiliarybar-left-off-layout-icon",tP.Codicon.layoutSidebarLeftOff,(0,J.localize)(2718,"Icon to toggle the auxiliary bar on in its left position."));class uw extends ut.Action2{static{this.ID="workbench.action.toggleAuxiliaryBar"}static{this.LABEL=(0,J.localize2)(2719,"Toggle Secondary Side Bar Visibility")}constructor(){super({id:uw.ID,title:uw.LABEL,toggled:{condition:ui.AuxiliaryBarVisibleContext,title:(0,J.localize)(2720,"Secondary Side Bar"),mnemonicTitle:(0,J.localize)(2721,"Secondary Si&&de Bar")},category:tg.Categories.View,f1:!0,keybinding:{weight:eb.KeybindingWeight.WorkbenchContrib,primary:ec.KeyMod.CtrlCmd|ec.KeyMod.Alt|ec.KeyCode.KeyB},menu:[{id:ut.MenuId.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:1},{id:ut.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:2}]})}async run(e){let t=e.get(e4.IWorkbenchLayoutService);t.setPartHidden(t.isVisible(cT.Parts.AUXILIARYBAR_PART),cT.Parts.AUXILIARYBAR_PART)}}(0,ut.registerAction2)(uw),(0,ut.registerAction2)(class e extends ut.Action2{static{this.ID="workbench.action.focusAuxiliaryBar"}static{this.LABEL=(0,J.localize2)(2722,"Focus into Secondary Side Bar")}constructor(){super({id:e.ID,title:e.LABEL,category:tg.Categories.View,f1:!0})}async run(e){let t=e.get(d0.IPaneCompositePartService),i=e.get(e4.IWorkbenchLayoutService);i.isVisible(cT.Parts.AUXILIARYBAR_PART)||i.setPartHidden(!1,cT.Parts.AUXILIARYBAR_PART);let o=t.getActivePaneComposite(dQ.ViewContainerLocation.AuxiliaryBar);o?.focus()}}),ut.MenuRegistry.appendMenuItems([{id:ut.MenuId.LayoutControlMenu,item:{group:"2_pane_toggles",command:{id:uw.ID,title:(0,J.localize)(2723,"Toggle Secondary Side Bar"),toggled:{condition:ui.AuxiliaryBarVisibleContext,icon:ub},icon:uS},when:ey.ContextKeyExpr.and(ey.ContextKeyExpr.or(ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","toggles"),ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","both")),ey.ContextKeyExpr.equals("config.workbench.sideBar.location","right")),order:0}},{id:ut.MenuId.LayoutControlMenu,item:{group:"2_pane_toggles",command:{id:uw.ID,title:(0,J.localize)(2723,"Toggle Secondary Side Bar"),toggled:{condition:ui.AuxiliaryBarVisibleContext,icon:uv},icon:uC},when:ey.ContextKeyExpr.and(ey.ContextKeyExpr.or(ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","toggles"),ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","both")),ey.ContextKeyExpr.equals("config.workbench.sideBar.location","left")),order:2}},{id:ut.MenuId.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:uw.ID,title:(0,J.localize2)(2724,"Hide Secondary Side Bar")},when:ey.ContextKeyExpr.and(ui.AuxiliaryBarVisibleContext,ey.ContextKeyExpr.equals("viewLocation",(0,dQ.ViewContainerLocationToString)(dQ.ViewContainerLocation.AuxiliaryBar))),order:2}}]),(0,ut.registerAction2)(class extends uy{constructor(){super({id:"workbench.action.previousAuxiliaryBarView",title:(0,J.localize2)(2725,"Previous Secondary Side Bar View"),category:tg.Categories.View,f1:!0},dQ.ViewContainerLocation.AuxiliaryBar,-1)}}),(0,ut.registerAction2)(class extends uy{constructor(){super({id:"workbench.action.nextAuxiliaryBarView",title:(0,J.localize2)(2726,"Next Secondary Side Bar View"),category:tg.Categories.View,f1:!0},dQ.ViewContainerLocation.AuxiliaryBar,1)}}),e.s(["ToggleAuxiliaryBarAction",()=>uw],427944),(0,ti.default)(".monaco-workbench.nopanel .part.panel{display:none!important;visibility:hidden!important}.monaco-workbench .part.panel.bottom .composite.title{border-top-style:solid;border-top-width:1px}.monaco-workbench.nomaineditorarea .part.panel.bottom .composite.title{border-top-width:0}.monaco-workbench .part.panel.top{border-bottom-style:solid;border-bottom-width:1px}.monaco-workbench.nomaineditorarea .part.panel.top{border-bottom-width:0}.monaco-workbench .part.panel.right{border-left-style:solid;border-left-width:1px}.monaco-workbench.nomaineditorarea .part.panel.right{border-left-width:0}.monaco-workbench .part.panel.left{border-right-style:solid;border-right-width:1px}.monaco-workbench.nomaineditorarea .part.panel.left{border-right-width:0}.monaco-workbench .part.panel>.content .monaco-editor,.monaco-workbench .part.panel>.content .monaco-editor .margin,.monaco-workbench .part.panel>.content .monaco-editor .monaco-editor-background{background-color:var(--vscode-panel-background)}.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor,.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor .margin,.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor .monaco-editor-background{background-color:inherit}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-panelTitle-activeBorder)!important}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-panelTitle-activeForeground)!important}.monaco-workbench .part.panel .monaco-inputbox{border-color:var(--vscode-panelInput-border,transparent)!important}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus{outline:none}.monaco-workbench .part.basepanel.right .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.right .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.right .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(-90deg)}.monaco-workbench .part.basepanel.left .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.left .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.left .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(90deg)}.monaco-workbench .part.basepanel.top .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.top .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.top .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(180deg)}",{}),e.s([],491701);var uE=em;let uI=(0,nw.registerIcon)("panel-maximize",tP.Codicon.chevronUp,(0,J.localize)(3283,"Icon to maximize a panel.")),ux=(0,nw.registerIcon)("panel-restore",tP.Codicon.chevronDown,(0,J.localize)(3284,"Icon to restore a panel.")),uD=(0,nw.registerIcon)("panel-close",tP.Codicon.close,(0,J.localize)(3285,"Icon to close a panel.")),uk=(0,nw.registerIcon)("panel-layout-icon",tP.Codicon.layoutPanel,(0,J.localize)(3286,"Icon to toggle the panel off when it is on.")),uA=(0,nw.registerIcon)("panel-layout-icon-off",tP.Codicon.layoutPanelOff,(0,J.localize)(3287,"Icon to toggle the panel on when it is off."));class uM extends uE.Action2{static{this.ID="workbench.action.togglePanel"}static{this.LABEL=(0,J.localize2)(3288,"Toggle Panel Visibility")}constructor(){super({id:uM.ID,title:uM.LABEL,toggled:{condition:ui.PanelVisibleContext,title:(0,J.localize)(3289,"Panel"),mnemonicTitle:(0,J.localize)(3290,"&&Panel")},f1:!0,category:tg.Categories.View,keybinding:{primary:ec.KeyMod.CtrlCmd|ec.KeyCode.KeyJ,weight:eb.KeybindingWeight.WorkbenchContrib},menu:[{id:uE.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:5},{id:uE.MenuId.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:4}]})}async run(e){let t=e.get(e4.IWorkbenchLayoutService);t.setPartHidden(t.isVisible(cT.Parts.PANEL_PART),cT.Parts.PANEL_PART)}}(0,uE.registerAction2)(uM),(0,uE.registerAction2)(class extends uE.Action2{static{this.ID="workbench.action.focusPanel"}static{this.LABEL=(0,J.localize)(3291,"Focus into Panel")}constructor(){super({id:"workbench.action.focusPanel",title:(0,J.localize2)(3291,"Focus into Panel"),category:tg.Categories.View,f1:!0})}async run(e){let t=e.get(e4.IWorkbenchLayoutService),i=e.get(d0.IPaneCompositePartService);t.isVisible(cT.Parts.PANEL_PART)||t.setPartHidden(!1,cT.Parts.PANEL_PART);let o=i.getActivePaneComposite(dQ.ViewContainerLocation.Panel);o?.focus()}});function uL(e,t,i,o,n){return{id:e,title:t,shortLabel:i,value:o,when:n}}function uT(e,t,i,o){return uL(e,t,i,o,ui.PanelPositionContext.notEqualsTo((0,cT.positionToString)(o)))}function uR(e,t,i,o){return uL(e,t,i,o,ui.PanelAlignmentContext.notEqualsTo(o))}let uN=[uT("workbench.action.positionPanelTop",(0,J.localize2)(3292,"Move Panel To Top"),(0,J.localize)(3293,"Top"),cT.Position.TOP),uT("workbench.action.positionPanelLeft",(0,J.localize2)(3294,"Move Panel Left"),(0,J.localize)(3295,"Left"),cT.Position.LEFT),uT("workbench.action.positionPanelRight",(0,J.localize2)(3296,"Move Panel Right"),(0,J.localize)(3297,"Right"),cT.Position.RIGHT),uT("workbench.action.positionPanelBottom",(0,J.localize2)(3298,"Move Panel To Bottom"),(0,J.localize)(3299,"Bottom"),cT.Position.BOTTOM)],uP=[uR("workbench.action.alignPanelLeft",(0,J.localize2)(3300,"Set Panel Alignment to Left"),(0,J.localize)(3301,"Left"),"left"),uR("workbench.action.alignPanelRight",(0,J.localize2)(3302,"Set Panel Alignment to Right"),(0,J.localize)(3303,"Right"),"right"),uR("workbench.action.alignPanelCenter",(0,J.localize2)(3304,"Set Panel Alignment to Center"),(0,J.localize)(3305,"Center"),"center"),uR("workbench.action.alignPanelJustify",(0,J.localize2)(3306,"Set Panel Alignment to Justify"),(0,J.localize)(3307,"Justify"),"justify")];uE.MenuRegistry.appendMenuItem(uE.MenuId.MenubarAppearanceMenu,{submenu:uE.MenuId.PanelPositionMenu,title:(0,J.localize)(3308,"Panel Position"),group:"3_workbench_layout_move",order:4}),uN.forEach((e,t)=>{let{id:i,title:o,shortLabel:n,value:r,when:s}=e;(0,uE.registerAction2)(class extends uE.Action2{constructor(){super({id:i,title:o,category:tg.Categories.View,f1:!0})}run(e){e.get(e4.IWorkbenchLayoutService).setPanelPosition(void 0===r?cT.Position.BOTTOM:r)}}),uE.MenuRegistry.appendMenuItem(uE.MenuId.PanelPositionMenu,{command:{id:i,title:n,toggled:s.negate()},order:5+t})}),uE.MenuRegistry.appendMenuItem(uE.MenuId.MenubarAppearanceMenu,{submenu:uE.MenuId.PanelAlignmentMenu,title:(0,J.localize)(3309,"Align Panel"),group:"3_workbench_layout_move",order:5}),uP.forEach(e=>{let{id:t,title:i,shortLabel:o,value:n,when:r}=e;(0,uE.registerAction2)(class extends uE.Action2{constructor(){super({id:t,title:i,category:tg.Categories.View,toggled:r.negate(),f1:!0})}run(e){e.get(e4.IWorkbenchLayoutService).setPanelAlignment(void 0===n?"center":n)}}),uE.MenuRegistry.appendMenuItem(uE.MenuId.PanelAlignmentMenu,{command:{id:t,title:o,toggled:r.negate()},order:5})}),(0,uE.registerAction2)(class extends uy{constructor(){super({id:"workbench.action.previousPanelView",title:(0,J.localize2)(3310,"Previous Panel View"),category:tg.Categories.View,f1:!0},dQ.ViewContainerLocation.Panel,-1)}}),(0,uE.registerAction2)(class extends uy{constructor(){super({id:"workbench.action.nextPanelView",title:(0,J.localize2)(3311,"Next Panel View"),category:tg.Categories.View,f1:!0},dQ.ViewContainerLocation.Panel,1)}}),(0,uE.registerAction2)(class extends uE.Action2{constructor(){super({id:"workbench.action.toggleMaximizedPanel",title:(0,J.localize2)(3312,"Toggle Maximized Panel"),tooltip:(0,J.localize)(3313,"Maximize Panel Size"),category:tg.Categories.View,f1:!0,icon:uI,precondition:ey.ContextKeyExpr.or(ui.PanelAlignmentContext.isEqualTo("center"),ey.ContextKeyExpr.and(ui.PanelPositionContext.notEqualsTo("bottom"),ui.PanelPositionContext.notEqualsTo("top"))),toggled:{condition:ui.PanelMaximizedContext,icon:ux,tooltip:(0,J.localize)(3314,"Restore Panel Size")},menu:[{id:uE.MenuId.PanelTitle,group:"navigation",order:1,when:ey.ContextKeyExpr.or(ui.PanelAlignmentContext.isEqualTo("center"),ey.ContextKeyExpr.and(ui.PanelPositionContext.notEqualsTo("bottom"),ui.PanelPositionContext.notEqualsTo("top")))}]})}run(e){let t=e.get(e4.IWorkbenchLayoutService),i=e.get(iR.INotificationService);"center"!==t.getPanelAlignment()&&(0,cT.isHorizontal)(t.getPanelPosition())?i.warn((0,J.localize)(3315,"Maximizing the panel is only supported when it is center aligned.")):t.isVisible(cT.Parts.PANEL_PART)?t.toggleMaximizedPanel():(t.setPartHidden(!1,cT.Parts.PANEL_PART),t.isPanelMaximized()||t.toggleMaximizedPanel())}}),(0,uE.registerAction2)(class extends uE.Action2{constructor(){super({id:"workbench.action.closePanel",title:(0,J.localize2)(3316,"Hide Panel"),category:tg.Categories.View,icon:uD,menu:[{id:uE.MenuId.CommandPalette,when:ui.PanelVisibleContext},{id:uE.MenuId.PanelTitle,group:"navigation",order:2}]})}run(e){e.get(e4.IWorkbenchLayoutService).setPartHidden(!0,cT.Parts.PANEL_PART)}}),(0,uE.registerAction2)(class extends uE.Action2{constructor(){super({id:"workbench.action.closeAuxiliaryBar",title:(0,J.localize2)(3317,"Hide Secondary Side Bar"),category:tg.Categories.View,icon:uD,menu:[{id:uE.MenuId.CommandPalette,when:ui.AuxiliaryBarVisibleContext},{id:uE.MenuId.AuxiliaryBarTitle,group:"navigation",order:2,when:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.DEFAULT)}]})}run(e){e.get(e4.IWorkbenchLayoutService).setPartHidden(!0,cT.Parts.AUXILIARYBAR_PART)}}),uE.MenuRegistry.appendMenuItems([{id:uE.MenuId.LayoutControlMenu,item:{group:"2_pane_toggles",command:{id:uM.ID,title:(0,J.localize)(3318,"Toggle Panel"),icon:uA,toggled:{condition:ui.PanelVisibleContext,icon:uk}},when:ey.ContextKeyExpr.or(ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","toggles"),ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","both")),order:1}},{id:uE.MenuId.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:uM.ID,title:(0,J.localize2)(3319,"Hide Panel")},when:ey.ContextKeyExpr.and(ui.PanelVisibleContext,ey.ContextKeyExpr.equals("viewLocation",(0,dQ.ViewContainerLocationToString)(dQ.ViewContainerLocation.Panel))),order:2}}]);class uO extends uE.Action2{constructor(e,t,i){super(i),this.source=e,this.destination=t}run(e){let t=e.get(dY.IViewDescriptorService),i=e.get(e4.IWorkbenchLayoutService),o=e.get(dZ.IViewsService),n=t.getViewContainersByLocation(this.source),r=t.getViewContainersByLocation(this.destination);if(n.length){let e=o.getVisibleViewContainer(this.source);n.forEach(e=>t.moveViewContainerToLocation(e,this.destination,void 0,this.desc.id)),i.setPartHidden(!1,this.destination===dQ.ViewContainerLocation.Panel?cT.Parts.PANEL_PART:cT.Parts.AUXILIARYBAR_PART),e&&0===r.length&&o.openViewContainer(e.id,!0)}}}class uF extends uO{static{this.ID="workbench.action.movePanelToSidePanel"}constructor(){super(dQ.ViewContainerLocation.Panel,dQ.ViewContainerLocation.AuxiliaryBar,{id:uF.ID,title:(0,J.localize2)(3320,"Move Panel Views To Secondary Side Bar"),category:tg.Categories.View,f1:!1})}}class uK extends uO{static{this.ID="workbench.action.movePanelToSecondarySideBar"}constructor(){super(dQ.ViewContainerLocation.Panel,dQ.ViewContainerLocation.AuxiliaryBar,{id:uK.ID,title:(0,J.localize2)(3320,"Move Panel Views To Secondary Side Bar"),category:tg.Categories.View,f1:!0})}}(0,uE.registerAction2)(uF),(0,uE.registerAction2)(uK);class uW extends uO{static{this.ID="workbench.action.moveSidePanelToPanel"}constructor(){super(dQ.ViewContainerLocation.AuxiliaryBar,dQ.ViewContainerLocation.Panel,{id:uW.ID,title:(0,J.localize2)(3321,"Move Secondary Side Bar Views To Panel"),category:tg.Categories.View,f1:!1})}}class uz extends uO{static{this.ID="workbench.action.moveSecondarySideBarToPanel"}constructor(){super(dQ.ViewContainerLocation.AuxiliaryBar,dQ.ViewContainerLocation.Panel,{id:uz.ID,title:(0,J.localize2)(3321,"Move Secondary Side Bar Views To Panel"),category:tg.Categories.View,f1:!0})}}(0,uE.registerAction2)(uW),(0,uE.registerAction2)(uz),e.s(["TogglePanelAction",()=>uM],410416);var uV=e.i(481150);let uB=(0,nw.registerIcon)("menuBar",tP.Codicon.layoutMenubar,(0,J.localize)(2499,"Represents the menu bar")),uH=(0,nw.registerIcon)("activity-bar-left",tP.Codicon.layoutActivitybarLeft,(0,J.localize)(2500,"Represents the activity bar in the left position")),uU=(0,nw.registerIcon)("activity-bar-right",tP.Codicon.layoutActivitybarRight,(0,J.localize)(2501,"Represents the activity bar in the right position")),uG=(0,nw.registerIcon)("panel-left",tP.Codicon.layoutSidebarLeft,(0,J.localize)(2502,"Represents a side bar in the left position"));(0,nw.registerIcon)("panel-left-off",tP.Codicon.layoutSidebarLeftOff,(0,J.localize)(2503,"Represents a side bar in the left position toggled off"));let uq=(0,nw.registerIcon)("panel-right",tP.Codicon.layoutSidebarRight,(0,J.localize)(2504,"Represents side bar in the right position"));(0,nw.registerIcon)("panel-right-off",tP.Codicon.layoutSidebarRightOff,(0,J.localize)(2505,"Represents side bar in the right position toggled off"));let u$=(0,nw.registerIcon)("panel-bottom",tP.Codicon.layoutPanel,(0,J.localize)(2506,"Represents the bottom panel")),uj=(0,nw.registerIcon)("statusBar",tP.Codicon.layoutStatusbar,(0,J.localize)(2507,"Represents the status bar")),uQ=(0,nw.registerIcon)("panel-align-left",tP.Codicon.layoutPanelLeft,(0,J.localize)(2508,"Represents the bottom panel alignment set to the left")),uY=(0,nw.registerIcon)("panel-align-right",tP.Codicon.layoutPanelRight,(0,J.localize)(2509,"Represents the bottom panel alignment set to the right")),uZ=(0,nw.registerIcon)("panel-align-center",tP.Codicon.layoutPanelCenter,(0,J.localize)(2510,"Represents the bottom panel alignment set to the center")),uX=(0,nw.registerIcon)("panel-align-justify",tP.Codicon.layoutPanelJustify,(0,J.localize)(2511,"Represents the bottom panel alignment set to justified")),uJ=(0,nw.registerIcon)("fullscreen",tP.Codicon.screenFull,(0,J.localize)(2512,"Represents full screen")),u0=(0,nw.registerIcon)("centerLayoutIcon",tP.Codicon.layoutCentered,(0,J.localize)(2513,"Represents centered layout mode")),u1=(0,nw.registerIcon)("zenMode",tP.Codicon.target,(0,J.localize)(2514,"Represents zen mode"));(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.closeSidebar",title:(0,J.localize2)(2515,"Close Primary Side Bar"),category:tg.Categories.View,f1:!0})}run(e){e.get(e4.IWorkbenchLayoutService).setPartHidden(!0,cT.Parts.SIDEBAR_PART)}});let u2="workbench.action.toggleActivityBarVisibility";(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.toggleCenteredLayout",title:{...(0,J.localize2)(2516,"Toggle Centered Layout"),mnemonicTitle:(0,J.localize)(2517,"&&Centered Layout")},precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated(),category:tg.Categories.View,f1:!0,toggled:ui.IsMainEditorCenteredLayoutContext,menu:[{id:ue.MenuId.MenubarAppearanceMenu,group:"1_toggle_view",order:3}]})}run(e){let t=e.get(e4.IWorkbenchLayoutService);t.centerMainEditorLayout(!t.isMainEditorLayoutCentered())}});let u3="workbench.sideBar.location";class u5 extends ue.Action2{constructor(e,t,i){super({id:e,title:t,f1:!1}),this.position=i}async run(e){let t=e.get(e4.IWorkbenchLayoutService),i=e.get(es.IConfigurationService);if(t.getSideBarPosition()!==this.position)return i.updateValue(u3,(0,cT.positionToString)(this.position))}}class u4 extends u5{static{this.ID="workbench.action.moveSideBarRight"}constructor(){super(u4.ID,(0,J.localize2)(2518,"Move Primary Side Bar Right"),cT.Position.RIGHT)}}class u6 extends u5{static{this.ID="workbench.action.moveSideBarLeft"}constructor(){super(u6.ID,(0,J.localize2)(2519,"Move Primary Side Bar Left"),cT.Position.LEFT)}}(0,ue.registerAction2)(u4),(0,ue.registerAction2)(u6);class u8 extends ue.Action2{static{this.ID="workbench.action.toggleSidebarPosition"}static{this.LABEL=(0,J.localize)(2520,"Toggle Primary Side Bar Position")}static getLabel(e){return e.getSideBarPosition()===cT.Position.LEFT?(0,J.localize)(2518,"Move Primary Side Bar Right"):(0,J.localize)(2519,"Move Primary Side Bar Left")}constructor(){super({id:u8.ID,title:(0,J.localize2)(2520,"Toggle Primary Side Bar Position"),category:tg.Categories.View,f1:!0})}run(e){let t=e.get(e4.IWorkbenchLayoutService),i=e.get(es.IConfigurationService),o=t.getSideBarPosition()===cT.Position.LEFT?"right":"left";return i.updateValue(u3,o)}}(0,ue.registerAction2)(u8);let u9=(0,nw.registerIcon)("configure-layout-icon",tP.Codicon.layout,(0,J.localize)(2521,"Icon represents workbench layout configuration."));(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.toggleEditorVisibility",title:{...(0,J.localize2)(2530,"Toggle Editor Area Visibility"),mnemonicTitle:(0,J.localize)(2531,"Show &&Editor Area")},category:tg.Categories.View,f1:!0,toggled:ui.MainEditorAreaVisibleContext,precondition:ey.ContextKeyExpr.and(ui.IsAuxiliaryWindowFocusedContext.toNegated(),ey.ContextKeyExpr.or(ui.PanelAlignmentContext.isEqualTo("center"),ui.PanelPositionContext.notEqualsTo("bottom")))})}run(e){e.get(e4.IWorkbenchLayoutService).toggleMaximizedPanel()}});class u7 extends ue.Action2{static{this.ID="workbench.action.toggleSidebarVisibility"}constructor(){super({id:u7.ID,title:(0,J.localize2)(2533,"Toggle Primary Side Bar Visibility"),toggled:{condition:ui.SideBarVisibleContext,title:(0,J.localize)(2534,"Primary Side Bar"),mnemonicTitle:(0,J.localize)(2535,"&&Primary Side Bar")},category:tg.Categories.View,f1:!0,keybinding:{weight:eb.KeybindingWeight.WorkbenchContrib,primary:ec.KeyMod.CtrlCmd|ec.KeyCode.KeyB},menu:[{id:ue.MenuId.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:0},{id:ue.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:1}]})}run(e){let t=e.get(e4.IWorkbenchLayoutService);t.setPartHidden(t.isVisible(cT.Parts.SIDEBAR_PART),cT.Parts.SIDEBAR_PART)}}(0,ue.registerAction2)(u7);class he extends ue.Action2{static{this.ID="workbench.action.toggleStatusbarVisibility"}static{this.statusbarVisibleKey="workbench.statusBar.visible"}constructor(){super({id:he.ID,title:{...(0,J.localize2)(2538,"Toggle Status Bar Visibility"),mnemonicTitle:(0,J.localize)(2539,"S&&tatus Bar")},category:tg.Categories.View,f1:!0,toggled:ey.ContextKeyExpr.equals("config.workbench.statusBar.visible",!0),menu:[{id:ue.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:3}]})}run(e){let t=e.get(e4.IWorkbenchLayoutService),i=e.get(es.IConfigurationService),o=t.isVisible(cT.Parts.STATUSBAR_PART,iC.mainWindow);return i.updateValue(he.statusbarVisibleKey,!o)}}(0,ue.registerAction2)(he);class ht extends ue.Action2{constructor(e,t,i,o,n,r){super({id:o,title:i,category:tg.Categories.View,precondition:n,metadata:r?{description:r}:void 0,f1:!0}),this.settingName=e,this.value=t}run(e){return e.get(es.IConfigurationService).updateValue(this.settingName,this.value)}}class hi extends ht{static{this.ID="workbench.action.hideEditorTabs"}constructor(){super(cT.LayoutSettings.EDITOR_TABS_MODE,cT.EditorTabsMode.NONE,(0,J.localize2)(2540,"Hide Editor Tabs"),hi.ID,ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_TABS_MODE}`,cT.EditorTabsMode.NONE).negate(),ui.InEditorZenModeContext.negate()),(0,J.localize2)(2541,"Hide Tab Bar"))}}class ho extends ht{static{this.ID="workbench.action.zenHideEditorTabs"}constructor(){super(cT.ZenModeSettings.SHOW_TABS,cT.EditorTabsMode.NONE,(0,J.localize2)(2542,"Hide Editor Tabs in Zen Mode"),ho.ID,ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.ZenModeSettings.SHOW_TABS}`,cT.EditorTabsMode.NONE).negate(),ui.InEditorZenModeContext),(0,J.localize2)(2543,"Hide Tab Bar in Zen Mode"))}}class hn extends ht{static{this.ID="workbench.action.showMultipleEditorTabs"}constructor(){super(cT.LayoutSettings.EDITOR_TABS_MODE,cT.EditorTabsMode.MULTIPLE,(0,J.localize2)(2544,"Show Multiple Editor Tabs"),hn.ID,ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_TABS_MODE}`,cT.EditorTabsMode.MULTIPLE).negate(),ui.InEditorZenModeContext.negate()),(0,J.localize2)(2545,"Show Tab Bar with multiple tabs"))}}class hr extends ht{static{this.ID="workbench.action.zenShowMultipleEditorTabs"}constructor(){super(cT.ZenModeSettings.SHOW_TABS,cT.EditorTabsMode.MULTIPLE,(0,J.localize2)(2546,"Show Multiple Editor Tabs in Zen Mode"),hr.ID,ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.ZenModeSettings.SHOW_TABS}`,cT.EditorTabsMode.MULTIPLE).negate(),ui.InEditorZenModeContext),(0,J.localize2)(2547,"Show Tab Bar in Zen Mode"))}}class hs extends ht{static{this.ID="workbench.action.showEditorTab"}constructor(){super(cT.LayoutSettings.EDITOR_TABS_MODE,cT.EditorTabsMode.SINGLE,(0,J.localize2)(2548,"Show Single Editor Tab"),hs.ID,ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_TABS_MODE}`,cT.EditorTabsMode.SINGLE).negate(),ui.InEditorZenModeContext.negate()),(0,J.localize2)(2549,"Show Tab Bar with one Tab"))}}class ha extends ht{static{this.ID="workbench.action.zenShowEditorTab"}constructor(){super(cT.ZenModeSettings.SHOW_TABS,cT.EditorTabsMode.SINGLE,(0,J.localize2)(2550,"Show Single Editor Tab in Zen Mode"),ha.ID,ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.ZenModeSettings.SHOW_TABS}`,cT.EditorTabsMode.SINGLE).negate(),ui.InEditorZenModeContext),(0,J.localize2)(2551,"Show Tab Bar in Zen Mode with one Tab"))}}(0,ue.registerAction2)(hi),(0,ue.registerAction2)(ho),(0,ue.registerAction2)(hn),(0,ue.registerAction2)(hr),(0,ue.registerAction2)(hs),(0,ue.registerAction2)(ha);class hl extends ue.Action2{static{this.ID="workbench.action.editorActionsTitleBar"}constructor(){super({id:hl.ID,title:(0,J.localize2)(2553,"Move Editor Actions to Title Bar"),category:tg.Categories.View,precondition:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_ACTIONS_LOCATION}`,cT.EditorActionsLocation.TITLEBAR).negate(),metadata:{description:(0,J.localize2)(2554,"Move Editor Actions from the tab bar to the title bar")},f1:!0})}run(e){return e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.EDITOR_ACTIONS_LOCATION,cT.EditorActionsLocation.TITLEBAR)}}(0,ue.registerAction2)(hl);class hd extends ue.Action2{static{this.ID="workbench.action.editorActionsDefault"}constructor(){super({id:hd.ID,title:(0,J.localize2)(2555,"Move Editor Actions to Tab Bar"),category:tg.Categories.View,precondition:ey.ContextKeyExpr.and(ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_ACTIONS_LOCATION}`,cT.EditorActionsLocation.DEFAULT).negate(),ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_TABS_MODE}`,cT.EditorTabsMode.NONE).negate()),metadata:{description:(0,J.localize2)(2556,"Move Editor Actions from the title bar to the tab bar")},f1:!0})}run(e){return e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.EDITOR_ACTIONS_LOCATION,cT.EditorActionsLocation.DEFAULT)}}(0,ue.registerAction2)(hd);class hc extends ue.Action2{static{this.ID="workbench.action.hideEditorActions"}constructor(){super({id:hc.ID,title:(0,J.localize2)(2557,"Hide Editor Actions"),category:tg.Categories.View,precondition:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_ACTIONS_LOCATION}`,cT.EditorActionsLocation.HIDDEN).negate(),metadata:{description:(0,J.localize2)(2558,"Hide Editor Actions in the tab and title bar")},f1:!0})}run(e){return e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.EDITOR_ACTIONS_LOCATION,cT.EditorActionsLocation.HIDDEN)}}(0,ue.registerAction2)(hc);class hu extends ue.Action2{static{this.ID="workbench.action.showEditorActions"}constructor(){super({id:hu.ID,title:(0,J.localize2)(2559,"Show Editor Actions"),category:tg.Categories.View,precondition:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_ACTIONS_LOCATION}`,cT.EditorActionsLocation.HIDDEN),metadata:{description:(0,J.localize2)(2560,"Make Editor Actions visible.")},f1:!0})}run(e){return e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.EDITOR_ACTIONS_LOCATION,cT.EditorActionsLocation.DEFAULT)}}(0,ue.registerAction2)(hu);class hh extends ue.Action2{static{this.ID="workbench.action.configureEditorTabs"}constructor(){super({id:hh.ID,title:(0,J.localize2)(2562,"Configure Tabs"),category:tg.Categories.View})}run(e){e.get(dK.IPreferencesService).openSettings({jsonEditor:!1,query:"workbench.editor tab"})}}(0,ue.registerAction2)(hh);class hp extends ue.Action2{static{this.ID="workbench.action.configureEditor"}constructor(){super({id:hp.ID,title:(0,J.localize2)(2563,"Configure Editors"),category:tg.Categories.View})}run(e){e.get(dK.IPreferencesService).openSettings({jsonEditor:!1,query:"workbench.editor"})}}(0,ue.registerAction2)(hp),(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.toggleSeparatePinnedEditorTabs",title:(0,J.localize2)(2564,"Separate Pinned Editor Tabs"),category:tg.Categories.View,precondition:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.EDITOR_TABS_MODE}`,cT.EditorTabsMode.MULTIPLE),metadata:{description:(0,J.localize2)(2565,"Toggle whether pinned editor tabs are shown on a separate row above unpinned tabs.")},f1:!0})}run(e){let t=e.get(es.IConfigurationService),i=t.getValue("workbench.editor.pinnedTabsOnSeparateRow");return t.updateValue("workbench.editor.pinnedTabsOnSeparateRow",!i)}}),(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.toggleZenMode",title:{...(0,J.localize2)(2566,"Toggle Zen Mode"),mnemonicTitle:(0,J.localize)(2567,"Zen Mode")},precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated(),category:tg.Categories.View,f1:!0,keybinding:{weight:eb.KeybindingWeight.WorkbenchContrib,primary:(0,ec.KeyChord)(ec.KeyMod.CtrlCmd|ec.KeyCode.KeyK,ec.KeyCode.KeyZ)},toggled:ui.InEditorZenModeContext,menu:[{id:ue.MenuId.MenubarAppearanceMenu,group:"1_toggle_view",order:2}]})}run(e){return e.get(e4.IWorkbenchLayoutService).toggleZenMode()}}),eb.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:eb.KeybindingWeight.EditorContrib-1e3,handler(e){let t=e.get(e4.IWorkbenchLayoutService),i=e.get(ev.IContextKeyService);ui.InEditorZenModeContext.getValue(i)&&t.toggleZenMode()},when:ui.InEditorZenModeContext,primary:(0,ec.KeyChord)(ec.KeyCode.Escape,ec.KeyCode.Escape)}),(e8.isWindows||e8.isLinux||e8.isWeb)&&(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.toggleMenuBar",title:{...(0,J.localize2)(2568,"Toggle Menu Bar"),mnemonicTitle:(0,J.localize)(2569,"Menu &&Bar")},category:tg.Categories.View,f1:!0,toggled:ey.ContextKeyExpr.and(l0.IsMacNativeContext.toNegated(),ey.ContextKeyExpr.notEquals("config.window.menuBarVisibility","hidden"),ey.ContextKeyExpr.notEquals("config.window.menuBarVisibility","toggle"),ey.ContextKeyExpr.notEquals("config.window.menuBarVisibility","compact")),menu:[{id:ue.MenuId.MenubarAppearanceMenu,group:"2_workbench_layout",order:0}]})}run(e){return e.get(e4.IWorkbenchLayoutService).toggleMenuBar()}}),(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.resetViewLocations",title:(0,J.localize2)(2571,"Reset View Locations"),category:tg.Categories.View,f1:!0})}run(e){return e.get(dY.IViewDescriptorService).reset()}}),(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.moveView",title:(0,J.localize2)(2572,"Move View"),category:tg.Categories.View,f1:!0})}async run(e){let t,i=e.get(dY.IViewDescriptorService),o=e.get(eC.IInstantiationService),n=e.get(eW.IQuickInputService),r=e.get(ev.IContextKeyService),s=e.get(d0.IPaneCompositePartService),a=ui.FocusedViewContext.getValue(r);a&&i.getViewDescriptorById(a)?.canMoveView&&(t=a);try{if(!(t=await this.getView(n,i,s,t)))return;let e=new hg;o.invokeFunction(i=>e.run(i,t))}catch{}}getViewItems(e,t){let i=[];return t.getVisiblePaneCompositeIds(dQ.ViewContainerLocation.Sidebar).forEach(t=>{let o=e.getViewContainerById(t),n=e.getViewContainerModel(o),r=!1;n.visibleViewDescriptors.forEach(e=>{e.canMoveView&&(r||(i.push({type:"separator",label:(0,J.localize)(2573,"Side Bar / {0}",n.title)}),r=!0),i.push({id:e.id,label:e.name.value}))})}),t.getPinnedPaneCompositeIds(dQ.ViewContainerLocation.Panel).forEach(t=>{let o=e.getViewContainerById(t),n=e.getViewContainerModel(o),r=!1;n.visibleViewDescriptors.forEach(e=>{e.canMoveView&&(r||(i.push({type:"separator",label:(0,J.localize)(2574,"Panel / {0}",n.title)}),r=!0),i.push({id:e.id,label:e.name.value}))})}),t.getPinnedPaneCompositeIds(dQ.ViewContainerLocation.AuxiliaryBar).forEach(t=>{let o=e.getViewContainerById(t),n=e.getViewContainerModel(o),r=!1;n.visibleViewDescriptors.forEach(e=>{e.canMoveView&&(r||(i.push({type:"separator",label:(0,J.localize)(2575,"Secondary Side Bar / {0}",n.title)}),r=!0),i.push({id:e.id,label:e.name.value}))})}),i}async getView(e,t,i,o){let n=new Z.DisposableStore,r=n.add(e.createQuickPick({useSeparators:!0}));return r.placeholder=(0,J.localize)(2576,"Select a View to Move"),r.items=this.getViewItems(t,i),r.selectedItems=r.items.filter(e=>e.id===o),new Promise((e,t)=>{n.add(r.onDidAccept(()=>{let i=r.selectedItems[0];i.id?e(i.id):t(),r.hide()})),n.add(r.onDidHide(()=>{n.dispose(),t()})),r.show()})}});class hg extends ue.Action2{constructor(){super({id:"workbench.action.moveFocusedView",title:(0,J.localize2)(2577,"Move Focused View"),category:tg.Categories.View,precondition:ui.FocusedViewContext.notEqualsTo(""),f1:!0})}run(e,t){let i=e.get(dY.IViewDescriptorService),o=e.get(dZ.IViewsService),n=e.get(eW.IQuickInputService),r=e.get(ev.IContextKeyService),s=e.get(tf.IDialogService),a=e.get(d0.IPaneCompositePartService),l=t||ui.FocusedViewContext.getValue(r);if(void 0===l||""===l.trim())return void s.error((0,J.localize)(2578,"There is no view currently focused."));let d=i.getViewDescriptorById(l);if(!d||!d.canMoveView)return void s.error((0,J.localize)(2579,"The currently focused view is not movable."));let c=new Z.DisposableStore,u=c.add(n.createQuickPick({useSeparators:!0}));u.placeholder=(0,J.localize)(2580,"Select a Destination for the View"),u.title=(0,J.localize)(2581,"View: Move {0}",d.name.value);let h=[],p=i.getViewContainerByViewId(l),g=i.getViewLocationById(l),m=1===i.getViewContainerModel(p).allViewDescriptors.length;m&&g===dQ.ViewContainerLocation.Panel||h.push({id:"_.panel.newcontainer",label:(0,J.localize)(2582,"New Panel Entry")}),m&&g===dQ.ViewContainerLocation.Sidebar||h.push({id:"_.sidebar.newcontainer",label:(0,J.localize)(2583,"New Side Bar Entry")}),m&&g===dQ.ViewContainerLocation.AuxiliaryBar||h.push({id:"_.auxiliarybar.newcontainer",label:(0,J.localize)(2584,"New Secondary Side Bar Entry")}),h.push({type:"separator",label:(0,J.localize)(2585,"Side Bar")}),h.push(...a.getVisiblePaneCompositeIds(dQ.ViewContainerLocation.Sidebar).filter(e=>e!==i.getViewContainerByViewId(l).id&&!i.getViewContainerById(e).rejectAddedViews).map(e=>({id:e,label:i.getViewContainerModel(i.getViewContainerById(e)).title}))),h.push({type:"separator",label:(0,J.localize)(2586,"Panel")}),h.push(...a.getPinnedPaneCompositeIds(dQ.ViewContainerLocation.Panel).filter(e=>e!==i.getViewContainerByViewId(l).id&&!i.getViewContainerById(e).rejectAddedViews).map(e=>({id:e,label:i.getViewContainerModel(i.getViewContainerById(e)).title}))),h.push({type:"separator",label:(0,J.localize)(2587,"Secondary Side Bar")}),h.push(...a.getPinnedPaneCompositeIds(dQ.ViewContainerLocation.AuxiliaryBar).filter(e=>e!==i.getViewContainerByViewId(l).id&&!i.getViewContainerById(e).rejectAddedViews).map(e=>({id:e,label:i.getViewContainerModel(i.getViewContainerById(e)).title}))),u.items=h,c.add(u.onDidAccept(()=>{let e=u.selectedItems[0];"_.panel.newcontainer"===e.id?(i.moveViewToLocation(d,dQ.ViewContainerLocation.Panel,this.desc.id),o.openView(l,!0)):"_.sidebar.newcontainer"===e.id?(i.moveViewToLocation(d,dQ.ViewContainerLocation.Sidebar,this.desc.id),o.openView(l,!0)):"_.auxiliarybar.newcontainer"===e.id?(i.moveViewToLocation(d,dQ.ViewContainerLocation.AuxiliaryBar,this.desc.id),o.openView(l,!0)):e.id&&(i.moveViewsToContainer([d],i.getViewContainerById(e.id),void 0,this.desc.id),o.openView(l,!0)),u.hide()})),c.add(u.onDidHide(()=>c.dispose())),u.show()}}(0,ue.registerAction2)(hg),(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.resetFocusedViewLocation",title:(0,J.localize2)(2588,"Reset Focused View Location"),category:tg.Categories.View,f1:!0,precondition:ui.FocusedViewContext.notEqualsTo("")})}run(e){let t=e.get(dY.IViewDescriptorService),i=e.get(ev.IContextKeyService),o=e.get(tf.IDialogService),n=e.get(dZ.IViewsService),r=ui.FocusedViewContext.getValue(i),s=null;if(void 0!==r&&""!==r.trim()&&(s=t.getViewDescriptorById(r)),!s)return void o.error((0,J.localize)(2589,"There is no view currently focused."));let a=t.getDefaultContainerById(s.id);a&&a!==t.getViewContainerByViewId(s.id)&&(t.moveViewsToContainer([s],a,void 0,this.desc.id),n.openView(s.id,!0))}});class hm extends ue.Action2{static{this.RESIZE_INCREMENT=60}resizePart(e,t,i,o){let n;if(void 0===o){let e=i.hasFocus(cT.Parts.EDITOR_PART),t=i.hasFocus(cT.Parts.SIDEBAR_PART),o=i.hasFocus(cT.Parts.PANEL_PART),r=i.hasFocus(cT.Parts.AUXILIARYBAR_PART);t?n=cT.Parts.SIDEBAR_PART:o?n=cT.Parts.PANEL_PART:e?n=cT.Parts.EDITOR_PART:r&&(n=cT.Parts.AUXILIARYBAR_PART)}else n=o;n&&i.resizePart(n,e,t)}}(0,ue.registerAction2)(class extends hm{constructor(){super({id:"workbench.action.increaseViewSize",title:(0,J.localize2)(2590,"Increase Current View Size"),f1:!0,precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated()})}run(e){this.resizePart(hm.RESIZE_INCREMENT,hm.RESIZE_INCREMENT,e.get(e4.IWorkbenchLayoutService))}}),(0,ue.registerAction2)(class extends hm{constructor(){super({id:"workbench.action.increaseViewWidth",title:(0,J.localize2)(2591,"Increase Editor Width"),f1:!0,precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated()})}run(e){this.resizePart(hm.RESIZE_INCREMENT,0,e.get(e4.IWorkbenchLayoutService),cT.Parts.EDITOR_PART)}}),(0,ue.registerAction2)(class extends hm{constructor(){super({id:"workbench.action.increaseViewHeight",title:(0,J.localize2)(2592,"Increase Editor Height"),f1:!0,precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated()})}run(e){this.resizePart(0,hm.RESIZE_INCREMENT,e.get(e4.IWorkbenchLayoutService),cT.Parts.EDITOR_PART)}}),(0,ue.registerAction2)(class extends hm{constructor(){super({id:"workbench.action.decreaseViewSize",title:(0,J.localize2)(2593,"Decrease Current View Size"),f1:!0,precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated()})}run(e){this.resizePart(-hm.RESIZE_INCREMENT,-hm.RESIZE_INCREMENT,e.get(e4.IWorkbenchLayoutService))}}),(0,ue.registerAction2)(class extends hm{constructor(){super({id:"workbench.action.decreaseViewWidth",title:(0,J.localize2)(2594,"Decrease Editor Width"),f1:!0,precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated()})}run(e){this.resizePart(-hm.RESIZE_INCREMENT,0,e.get(e4.IWorkbenchLayoutService),cT.Parts.EDITOR_PART)}}),(0,ue.registerAction2)(class extends hm{constructor(){super({id:"workbench.action.decreaseViewHeight",title:(0,J.localize2)(2595,"Decrease Editor Height"),f1:!0,precondition:ui.IsAuxiliaryWindowFocusedContext.toNegated()})}run(e){this.resizePart(0,-hm.RESIZE_INCREMENT,e.get(e4.IWorkbenchLayoutService),cT.Parts.EDITOR_PART)}});let h_=(e,t,i,o)=>({id:e,active:t,label:i,visualIcon:o,activeIcon:tP.Codicon.eye,inactiveIcon:tP.Codicon.eyeClosed,activeAriaLabel:(0,J.localize)(2596,"Select to Hide"),inactiveAriaLabel:(0,J.localize)(2597,"Select to Show"),useButtons:!0}),hf=(e,t,i,o)=>({id:e,active:t,label:i,visualIcon:o,activeIcon:tP.Codicon.check,activeAriaLabel:(0,J.localize)(2598,"Active"),useButtons:!1}),hy=ey.ContextKeyExpr.and(l0.IsMacNativeContext.toNegated(),ey.ContextKeyExpr.notEquals("config.window.menuBarVisibility","hidden"),ey.ContextKeyExpr.notEquals("config.window.menuBarVisibility","toggle"),ey.ContextKeyExpr.notEquals("config.window.menuBarVisibility","compact")),hv=[];e8.isMacintosh&&e8.isNative||hv.push(h_("workbench.action.toggleMenuBar",hy,(0,J.localize)(2599,"Menu Bar"),uB)),hv.push(h_(u2,ey.ContextKeyExpr.notEquals("config.workbench.activityBar.location","hidden"),(0,J.localize)(2600,"Activity Bar"),{whenA:ey.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),iconA:uH,iconB:uU}),h_(u7.ID,ui.SideBarVisibleContext,(0,J.localize)(2601,"Primary Side Bar"),{whenA:ey.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),iconA:uG,iconB:uq}),h_(uw.ID,ui.AuxiliaryBarVisibleContext,(0,J.localize)(2587,"Secondary Side Bar"),{whenA:ey.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),iconA:uq,iconB:uG}),h_(uM.ID,ui.PanelVisibleContext,(0,J.localize)(2586,"Panel"),u$),h_(he.ID,ey.ContextKeyExpr.equals("config.workbench.statusBar.visible",!0),(0,J.localize)(2602,"Status Bar"),uj));let hC=[hf(u6.ID,ey.ContextKeyExpr.equals("config.workbench.sideBar.location","left"),(0,J.localize)(2603,"Left"),uG),hf(u4.ID,ey.ContextKeyExpr.equals("config.workbench.sideBar.location","right"),(0,J.localize)(2604,"Right"),uq)],hb=[hf("workbench.action.alignPanelLeft",ui.PanelAlignmentContext.isEqualTo("left"),(0,J.localize)(2605,"Left"),uQ),hf("workbench.action.alignPanelRight",ui.PanelAlignmentContext.isEqualTo("right"),(0,J.localize)(2606,"Right"),uY),hf("workbench.action.alignPanelCenter",ui.PanelAlignmentContext.isEqualTo("center"),(0,J.localize)(2607,"Center"),uZ),hf("workbench.action.alignPanelJustify",ui.PanelAlignmentContext.isEqualTo("justify"),(0,J.localize)(2608,"Justify"),uX)],hS=[hf("workbench.action.toggleFullScreen",ui.IsMainWindowFullscreenContext,(0,J.localize)(2609,"Full Screen"),uJ),hf("workbench.action.toggleZenMode",ui.InEditorZenModeContext,(0,J.localize)(2610,"Zen Mode"),u1),hf("workbench.action.toggleCenteredLayout",ui.IsMainEditorCenteredLayoutContext,(0,J.localize)(2611,"Centered Layout"),u0)],hw=new Set;for(let{active:e}of[...hv,...hC,...hb,...hS])for(let t of e.keys())hw.add(t);(0,ue.registerAction2)(class extends ue.Action2{constructor(){super({id:"workbench.action.customizeLayout",title:(0,J.localize2)(2612,"Customize Layout..."),f1:!0,icon:u9,menu:[{id:ue.MenuId.LayoutControlMenuSubmenu,group:"z_end"},{id:ue.MenuId.LayoutControlMenu,when:ey.ContextKeyExpr.equals("config.workbench.layoutControl.type","both"),group:"1_layout"}]})}getItems(e,t){let i=i=>{let o=i.active.evaluate(e.getContext(null)),n=i.useButtons?i.label:i.label+(o&&i.activeIcon?` $(${i.activeIcon.id})`:!o&&i.inactiveIcon?` $(${i.inactiveIcon.id})`:""),r=i.label+(o&&i.activeAriaLabel?` (${i.activeAriaLabel})`:!o&&i.inactiveAriaLabel?` (${i.inactiveAriaLabel})`:"");if(i.visualIcon){let t=i.visualIcon;void 0!==t.iconA&&(t=t.whenA.evaluate(e.getContext(null))?t.iconA:t.iconB),n=`$(${t.id}) ${n}`}let s=o?i.activeIcon:i.inactiveIcon;return{type:"item",id:i.id,label:n,ariaLabel:r,keybinding:t.lookupKeybinding(i.id,e),buttons:i.useButtons?[{alwaysVisible:!1,tooltip:r,iconClass:s?rD.ThemeIcon.asClassName(s):void 0}]:void 0}};return[{type:"separator",label:(0,J.localize)(2613,"Visibility")},...hv.map(i),{type:"separator",label:(0,J.localize)(2614,"Primary Side Bar Position")},...hC.map(i),{type:"separator",label:(0,J.localize)(2615,"Panel Alignment")},...hb.map(i),{type:"separator",label:(0,J.localize)(2616,"Modes")},...hS.map(i)]}run(e){let t;if(this._currentQuickPick)return void this._currentQuickPick.hide();let i=e.get(es.IConfigurationService),o=e.get(ev.IContextKeyService),n=e.get(iT.ICommandService),r=e.get(eW.IQuickInputService),s=e.get(eM.IKeybindingService),a=new Z.DisposableStore,l=a.add(r.createQuickPick({useSeparators:!0}));this._currentQuickPick=l,l.items=this.getItems(o,s),l.ignoreFocusOut=!0,l.hideInput=!0,l.title=(0,J.localize)(2617,"Customize Layout");let d={alwaysVisible:!0,iconClass:rD.ThemeIcon.asClassName(tP.Codicon.close),tooltip:(0,J.localize)(2618,"Close")},c={alwaysVisible:!0,iconClass:rD.ThemeIcon.asClassName(tP.Codicon.discard),tooltip:(0,J.localize)(2619,"Restore Defaults")};l.buttons=[c,d],a.add(o.onDidChangeContext(e=>{e.affectsSome(hw)&&(l.items=this.getItems(o,s),t&&(l.activeItems=l.items.filter(e=>e.id===t?.id)),setTimeout(()=>r.focus(),0))})),a.add(l.onDidAccept(e=>{l.selectedItems.length&&(t=l.selectedItems[0],n.executeCommand(t.id))})),a.add(l.onDidTriggerItemButton(e=>{e.item&&(t=e.item,n.executeCommand(t.id))})),a.add(l.onDidTriggerButton(e=>{if(e===d)l.hide();else if(e===c){let e=e=>{let t=i.inspect(e);i.updateValue(e,t.defaultValue)};e("workbench.activityBar.location"),e("workbench.sideBar.location"),e("workbench.statusBar.visible"),e("workbench.panel.defaultLocation"),e8.isMacintosh&&e8.isNative||e("window.menuBarVisibility"),n.executeCommand("workbench.action.alignPanelCenter")}})),a.add(l.onDidHide(()=>{l.dispose()})),a.add(l.onDispose(()=>{this._currentQuickPick=void 0,a.dispose()})),l.show()}}),e.s(["ToggleActivityBarVisibilityActionId",()=>u2,"ToggleSidebarPositionAction",()=>u8],460663);var hE=e.i(640890);(0,ti.default)(".monaco-workbench .menubar .toolbar-toggle-more,.monaco-workbench .menubar>.menubar-menu-button{color:var(--vscode-titleBar-activeForeground)}.monaco-workbench .activitybar .menubar.compact .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button{color:var(--vscode-activityBar-inactiveForeground)}.monaco-workbench .activitybar .menubar.compact:not(:focus-within)>.menubar-menu-button:hover,.monaco-workbench .activitybar .menubar.compact:not(:focus-within)>.menubar-menu-button:hover .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button.open,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button.open .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus .toolbar-toggle-more{color:var(--vscode-activityBar-foreground)}.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus{background-color:var(--vscode-menubar-selectionBackground)}.monaco-workbench .menubar.inactive:not(.compact)>.menubar-menu-button,.monaco-workbench .menubar.inactive:not(.compact)>.menubar-menu-button .toolbar-toggle-more{color:var(--vscode-titleBar-inactiveForeground)}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open .toolbar-toggle-more,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .toolbar-toggle-more,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover .toolbar-toggle-more{color:var(--vscode-menubar-selectionForeground)}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .menubar-menu-title,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover .menubar-menu-title{background-color:var(--vscode-menubar-selectionBackground)}.monaco-workbench .menubar>.menubar-menu-button:hover .menubar-menu-title{outline:dashed 1px var(--vscode-menubar-selectionBorder)}.monaco-workbench .menubar>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:focus .menubar-menu-title{outline:solid 1px var(--vscode-menubar-selectionBorder)}.monaco-workbench .menubar>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:focus .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:hover .menubar-menu-title{outline-color:var(--vscode-menubar-selectionBorder);outline-offset:-1px}",{});var hI=em,hx=Z,hD=e.i(4121),hk=e.i(534888),hA=e.i(153397),hM=e.i(18640),hL=e.i(84389),hT=e.i(941761),hR=e.i(284222),hN=Z;(0,ti.default)(".menubar{box-sizing:border-box;display:flex;flex-shrink:1;height:100%;overflow:hidden}.menubar.overflow-menu-only{width:38px}.fullscreen .menubar:not(.compact){margin:0;padding:4px 5px}.menubar>.menubar-menu-button{-webkit-app-region:no-drag;zoom:1;align-items:center;box-sizing:border-box;cursor:default;display:flex;outline:0!important;white-space:nowrap}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .menubar-menu-title{outline-color:var(--vscode-focusBorder);outline-offset:-1px;outline-style:solid;outline-width:1px}.menubar.compact{flex-shrink:0;overflow:visible}.menubar.compact>.menubar-menu-button{height:100%;padding:0;width:100%}.menubar-menu-title{border-radius:5px;padding:0 8px}.menubar .menubar-menu-items-holder{left:0;opacity:1;position:fixed;z-index:2000}.menubar.compact .menubar-menu-items-holder{position:fixed}.menubar .menubar-menu-items-holder.monaco-menu-container{border:none;outline:0}.menubar .menubar-menu-items-holder.monaco-menu-container :focus{outline:0}.menubar .toolbar-toggle-more{align-items:center;display:flex;height:22px;justify-content:center;padding:0 8px;vertical-align:sub;width:22px}.menubar.compact .toolbar-toggle-more{align-items:center;cursor:pointer;display:flex;justify-content:center;left:0;position:relative;top:0;width:100%}.menubar.compact .toolbar-toggle-more:before,.menubar:not(.compact) .menubar-menu-button:first-child .toolbar-toggle-more:before{content:var(--vscode-icon-menu-content)!important;font-family:var(--vscode-icon-menu-font-family)!important}.menubar.compact>.menubar-menu-button.open .menubar-menu-title,.menubar.compact>.menubar-menu-button:focus .menubar-menu-title,.menubar.compact>.menubar-menu-button:hover .menubar-menu-title{outline-offset:-8px!important;outline-width:1px!important}",{});let hP=el.$;(p=G||(G={}))[p.HIDDEN=0]="HIDDEN",p[p.VISIBLE=1]="VISIBLE",p[p.FOCUSED=2]="FOCUSED",p[p.OPEN=3]="OPEN";class hO extends hN.Disposable{static{this.OVERFLOW_INDEX=-1}constructor(e,t,i){super(),this.container=e,this.options=t,this.menuStyle=i,this._mnemonicsInUse=!1,this.openedViaKeyboard=!1,this.awaitingAltRelease=!1,this.ignoreNextMouseUp=!1,this.updatePending=!1,this.numMenusShown=0,this.overflowLayoutScheduled=void 0,this.menuDisposables=this._register(new hN.DisposableStore),this.container.setAttribute("role","menubar"),this.isCompact&&this.container.classList.add("compact"),this.menus=[],this.mnemonics=new Map,this._focusState=G.VISIBLE,this._onVisibilityChange=this._register(new eE.Emitter),this._onFocusStateChange=this._register(new eE.Emitter),this.createOverflowMenu(),this.menuUpdater=this._register(new ta.RunOnceScheduler(()=>this.update(),200)),this.actionRunner=this.options.actionRunner??this._register(new e5.ActionRunner),this._register(this.actionRunner.onWillRun(()=>{this.setUnfocusedState()})),this._register(el.ModifierKeyEmitter.getInstance().event(this.onModifierKeyToggled,this)),this._register((0,el.addDisposableListener)(this.container,el.EventType.KEY_DOWN,e=>{let t=new ts.StandardKeyboardEvent(e),i=!0,o=e.key?e.key.toLocaleLowerCase():"",n=e8.isMacintosh&&!this.isCompact;if(t.equals(ec.KeyCode.LeftArrow)||n&&t.equals(ec.KeyCode.Tab|ec.KeyMod.Shift))this.focusPrevious();else if(t.equals(ec.KeyCode.RightArrow)||n&&t.equals(ec.KeyCode.Tab))this.focusNext();else if(t.equals(ec.KeyCode.Escape)&&this.isFocused&&!this.isOpen)this.setUnfocusedState();else if(!this.isOpen&&!t.ctrlKey&&this.options.enableMnemonics&&this.mnemonicsInUse&&this.mnemonics.has(o)){let e=this.mnemonics.get(o);this.onMenuTriggered(e,!1)}else i=!1;!this.isCompact&&(t.equals(ec.KeyCode.Tab|ec.KeyMod.Shift)||t.equals(ec.KeyCode.Tab))&&t.preventDefault(),i&&(t.preventDefault(),t.stopPropagation())}));const o=(0,el.getWindow)(this.container);this._register((0,el.addDisposableListener)(o,el.EventType.MOUSE_DOWN,()=>{this.isFocused&&this.setUnfocusedState()})),this._register((0,el.addDisposableListener)(this.container,el.EventType.FOCUS_IN,e=>{e.relatedTarget&&!this.container.contains(e.relatedTarget)&&(this.focusToReturn=e.relatedTarget)})),this._register((0,el.addDisposableListener)(this.container,el.EventType.FOCUS_OUT,e=>{e.relatedTarget?e.relatedTarget&&!this.container.contains(e.relatedTarget)&&(this.focusToReturn=void 0,this.setUnfocusedState()):this.setUnfocusedState()})),this._register((0,el.addDisposableListener)(o,el.EventType.KEY_DOWN,e=>{if(!this.options.enableMnemonics||!e.altKey||e.ctrlKey||e.defaultPrevented)return;let t=e.key.toLocaleLowerCase();if(!this.mnemonics.has(t))return;this.mnemonicsInUse=!0,this.updateMnemonicVisibility(!0);let i=this.mnemonics.get(t);this.onMenuTriggered(i,!1)})),this.setUnfocusedState()}push(e){(0,oD.asArray)(e).forEach(e=>{let t=this.menus.length,i=(0,hR.cleanMnemonic)(e.label),o=hR.MENU_MNEMONIC_REGEX.exec(e.label);if(o){let e=o[1]?o[1]:o[3];this.registerMnemonic(this.menus.length,e)}if(this.isCompact)this.menus.push(e);else{let o=hP("div.menubar-menu-button",{role:"menuitem",tabindex:-1,"aria-label":i,"aria-haspopup":!0}),n=hP("div.menubar-menu-title",{role:"none","aria-hidden":!0});o.appendChild(n),this.container.insertBefore(o,this.overflowMenu.buttonElement),this.updateLabels(n,o,e.label),this._register((0,el.addDisposableListener)(o,el.EventType.KEY_UP,e=>{let i=new ts.StandardKeyboardEvent(e),o=!0;(i.equals(ec.KeyCode.DownArrow)||i.equals(ec.KeyCode.Enter))&&!this.isOpen?(this.focusedMenu={index:t},this.openedViaKeyboard=!0,this.focusState=G.OPEN):o=!1,o&&(i.preventDefault(),i.stopPropagation())})),this._register(hT.Gesture.addTarget(o)),this._register((0,el.addDisposableListener)(o,hT.EventType.Tap,e=>{this.isOpen&&this.focusedMenu&&this.focusedMenu.holder&&(0,el.isAncestor)(e.initialTarget,this.focusedMenu.holder)||(this.ignoreNextMouseUp=!1,this.onMenuTriggered(t,!0),e.preventDefault(),e.stopPropagation())})),this._register((0,el.addDisposableListener)(o,el.EventType.MOUSE_DOWN,e=>{new e7.StandardMouseEvent((0,el.getWindow)(o),e).leftButton?(this.isOpen?this.ignoreNextMouseUp=!1:(this.ignoreNextMouseUp=!0,this.onMenuTriggered(t,!0)),e.preventDefault(),e.stopPropagation()):e.preventDefault()})),this._register((0,el.addDisposableListener)(o,el.EventType.MOUSE_UP,e=>{!e.defaultPrevented&&(this.ignoreNextMouseUp?this.ignoreNextMouseUp=!1:this.isFocused&&this.onMenuTriggered(t,!0))})),this._register((0,el.addDisposableListener)(o,el.EventType.MOUSE_ENTER,()=>{this.isOpen&&!this.isCurrentMenu(t)?(o.focus(),this.cleanupCustomMenu(),this.showCustomMenu(t,!1)):this.isFocused&&!this.isOpen&&(this.focusedMenu={index:t},o.focus())})),this.menus.push({label:e.label,actions:e.actions,buttonElement:o,titleElement:n})}})}createOverflowMenu(){let e=this.isCompact?(0,J.localize)(27,"Application Menu"):(0,J.localize)(28,"More"),t=hP("div.menubar-menu-button",{role:"menuitem",tabindex:this.isCompact?0:-1,"aria-label":e,"aria-haspopup":!0}),i=hP("div.menubar-menu-title.toolbar-toggle-more"+rD.ThemeIcon.asCSSSelector(tP.Codicon.menuBarMore),{role:"none","aria-hidden":!0});t.appendChild(i),this.container.appendChild(t),t.style.visibility="hidden",this._register((0,el.addDisposableListener)(t,el.EventType.KEY_UP,e=>{let t=new ts.StandardKeyboardEvent(e),i=!0,o=[ec.KeyCode.Enter];this.isCompact?(o.push(ec.KeyCode.Space),this.options.compactMode?.horizontal===hR.HorizontalDirection.Right?o.push(ec.KeyCode.RightArrow):this.options.compactMode?.horizontal===hR.HorizontalDirection.Left&&o.push(ec.KeyCode.LeftArrow)):o.push(ec.KeyCode.DownArrow),o.some(e=>t.equals(e))&&!this.isOpen?(this.focusedMenu={index:hO.OVERFLOW_INDEX},this.openedViaKeyboard=!0,this.focusState=G.OPEN):i=!1,i&&(t.preventDefault(),t.stopPropagation())})),this._register(hT.Gesture.addTarget(t)),this._register((0,el.addDisposableListener)(t,hT.EventType.Tap,e=>{this.isOpen&&this.focusedMenu&&this.focusedMenu.holder&&(0,el.isAncestor)(e.initialTarget,this.focusedMenu.holder)||(this.ignoreNextMouseUp=!1,this.onMenuTriggered(hO.OVERFLOW_INDEX,!0),e.preventDefault(),e.stopPropagation())})),this._register((0,el.addDisposableListener)(t,el.EventType.MOUSE_DOWN,e=>{new e7.StandardMouseEvent((0,el.getWindow)(t),e).leftButton?(this.isOpen?this.ignoreNextMouseUp=!1:(this.ignoreNextMouseUp=!0,this.onMenuTriggered(hO.OVERFLOW_INDEX,!0)),e.preventDefault(),e.stopPropagation()):e.preventDefault()})),this._register((0,el.addDisposableListener)(t,el.EventType.MOUSE_UP,e=>{!e.defaultPrevented&&(this.ignoreNextMouseUp?this.ignoreNextMouseUp=!1:this.isFocused&&this.onMenuTriggered(hO.OVERFLOW_INDEX,!0))})),this._register((0,el.addDisposableListener)(t,el.EventType.MOUSE_ENTER,()=>{this.isOpen&&!this.isCurrentMenu(hO.OVERFLOW_INDEX)?(this.overflowMenu.buttonElement.focus(),this.cleanupCustomMenu(),this.showCustomMenu(hO.OVERFLOW_INDEX,!1)):this.isFocused&&!this.isOpen&&(this.focusedMenu={index:hO.OVERFLOW_INDEX},t.focus())})),this.overflowMenu={buttonElement:t,titleElement:i,label:"More",actions:[]}}updateMenu(e){let t=this.menus.filter(t=>t.label===e.label);t&&t.length&&(t[0].actions=e.actions)}dispose(){super.dispose(),this.menus.forEach(e=>{e.titleElement?.remove(),e.buttonElement?.remove()}),this.overflowMenu.titleElement.remove(),this.overflowMenu.buttonElement.remove(),(0,hN.dispose)(this.overflowLayoutScheduled),this.overflowLayoutScheduled=void 0}blur(){this.setUnfocusedState()}getWidth(){if(!this.isCompact&&this.menus){let e=this.menus[0].buttonElement.getBoundingClientRect().left;return(this.hasOverflow?this.overflowMenu.buttonElement.getBoundingClientRect().right:this.menus[this.menus.length-1].buttonElement.getBoundingClientRect().right)-e}return 0}getHeight(){return this.container.clientHeight}toggleFocus(){this.isFocused||"hidden"===this.options.visibility?this.isOpen||this.setUnfocusedState():(this.mnemonicsInUse=!0,this.focusedMenu={index:this.numMenusShown>0?0:hO.OVERFLOW_INDEX},this.focusState=G.FOCUSED)}updateOverflowAction(){if(!this.menus||!this.menus.length)return;let e="overflow-menu-only";this.container.classList.toggle(e,!1);let t=this.container.offsetWidth,i=0,o=this.isCompact,n=this.numMenusShown;this.numMenusShown=0;let r=this.menus.filter(e=>void 0!==e.buttonElement&&void 0!==e.titleElement);for(let e of r){if(!o){let r=e.buttonElement.offsetWidth;i+r>t?o=!0:(i+=r,this.numMenusShown++,this.numMenusShown>n&&(e.buttonElement.style.visibility="visible"))}o&&(e.buttonElement.style.visibility="hidden")}if(this.numMenusShown-1<=r.length/4){for(let e of r)e.buttonElement.style.visibility="hidden";o=!0,this.numMenusShown=0,i=0}if(this.isCompact){this.overflowMenu.actions=[];for(let e=this.numMenusShown;e<this.menus.length;e++)this.overflowMenu.actions.push(new e5.SubmenuAction(`menubar.submenu.${this.menus[e].label}`,this.menus[e].label,this.menus[e].actions||[]));let e=this.options.getCompactMenuActions?.();e&&e.length&&(this.overflowMenu.actions.push(new e5.Separator),this.overflowMenu.actions.push(...e)),this.overflowMenu.buttonElement.style.visibility="visible"}else if(o){for(;i+this.overflowMenu.buttonElement.offsetWidth>t&&this.numMenusShown>0;){this.numMenusShown--;let e=r[this.numMenusShown].buttonElement.offsetWidth;r[this.numMenusShown].buttonElement.style.visibility="hidden",i-=e}this.overflowMenu.actions=[];for(let e=this.numMenusShown;e<r.length;e++)this.overflowMenu.actions.push(new e5.SubmenuAction(`menubar.submenu.${r[e].label}`,r[e].label,r[e].actions||[]));this.overflowMenu.buttonElement.nextElementSibling!==r[this.numMenusShown].buttonElement&&(this.overflowMenu.buttonElement.remove(),this.container.insertBefore(this.overflowMenu.buttonElement,r[this.numMenusShown].buttonElement)),this.overflowMenu.buttonElement.style.visibility="visible"}else this.overflowMenu.buttonElement.remove(),this.container.appendChild(this.overflowMenu.buttonElement),this.overflowMenu.buttonElement.style.visibility="hidden";this.container.classList.toggle(e,0===this.numMenusShown)}updateLabels(e,t,i){let o=(0,hR.cleanMnemonic)(i);if(this.options.enableMnemonics){let t=(0,t2.escape)(i);hR.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let o=hR.MENU_ESCAPED_MNEMONIC_REGEX.exec(t);for(;o&&o[1];)o=hR.MENU_ESCAPED_MNEMONIC_REGEX.exec(t);o?(e.innerText="",e.append((0,t2.ltrim)(t.substr(0,o.index).replace(/&amp;&amp;/g,"&amp;")," "),hP("mnemonic",{"aria-hidden":"true"},o[3]),(0,t2.rtrim)(t.substr(o.index+o[0].length).replace(/&amp;&amp;/g,"&amp;")," "))):e.innerText=t.replace(/&amp;&amp;/g,"&amp;").trim()}else e.innerText=o.replace(/&&/g,"&");let n=hR.MENU_MNEMONIC_REGEX.exec(i);if(n){let e=n[1]?n[1]:n[3];this.options.enableMnemonics?t.setAttribute("aria-keyshortcuts","Alt+"+e.toLocaleLowerCase()):t.removeAttribute("aria-keyshortcuts")}}update(e){if(e&&(this.options=e),this.isFocused){this.updatePending=!0;return}this.menus.forEach(e=>{e.buttonElement&&e.titleElement&&this.updateLabels(e.titleElement,e.buttonElement,e.label)}),this.overflowLayoutScheduled||(this.overflowLayoutScheduled=(0,el.scheduleAtNextAnimationFrame)((0,el.getWindow)(this.container),()=>{this.updateOverflowAction(),this.overflowLayoutScheduled=void 0})),this.setUnfocusedState()}registerMnemonic(e,t){this.mnemonics.set(t.toLocaleLowerCase(),e)}hideMenubar(){"none"!==this.container.style.display&&(this.container.style.display="none",this._onVisibilityChange.fire(!1))}showMenubar(){"flex"!==this.container.style.display&&(this.container.style.display="flex",this._onVisibilityChange.fire(!0),this.updateOverflowAction())}get focusState(){return this._focusState}set focusState(e){if(this._focusState>=G.FOCUSED&&e<G.FOCUSED&&this.updatePending&&(this.menuUpdater.schedule(),this.updatePending=!1),e===this._focusState)return;let t=this.isVisible,i=this.isOpen,o=this.isFocused;switch(this._focusState=e,e){case G.HIDDEN:t&&this.hideMenubar(),i&&this.cleanupCustomMenu(),o&&(this.focusedMenu=void 0,this.focusToReturn&&(this.focusToReturn.focus(),this.focusToReturn=void 0));break;case G.VISIBLE:t||this.showMenubar(),i&&this.cleanupCustomMenu(),o&&(this.focusedMenu&&(this.focusedMenu.index===hO.OVERFLOW_INDEX?this.overflowMenu.buttonElement.blur():this.menus[this.focusedMenu.index].buttonElement?.blur()),this.focusedMenu=void 0,this.focusToReturn&&(this.focusToReturn.focus(),this.focusToReturn=void 0));break;case G.FOCUSED:t||this.showMenubar(),i&&this.cleanupCustomMenu(),this.focusedMenu&&(0===this.focusedMenu.index&&0===this.numMenusShown&&(this.focusedMenu.index=hO.OVERFLOW_INDEX),this.focusedMenu.index===hO.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[this.focusedMenu.index].buttonElement?.focus());break;case G.OPEN:t||this.showMenubar(),this.focusedMenu&&(this.cleanupCustomMenu(),this.showCustomMenu(this.focusedMenu.index,this.openedViaKeyboard))}this._focusState=e,this._onFocusStateChange.fire(this.focusState>=G.FOCUSED)}get isVisible(){return this.focusState>=G.VISIBLE}get isFocused(){return this.focusState>=G.FOCUSED}get isOpen(){return this.focusState>=G.OPEN}get hasOverflow(){return this.isCompact||this.numMenusShown<this.menus.length}get isCompact(){return void 0!==this.options.compactMode}setUnfocusedState(){"toggle"===this.options.visibility||"hidden"===this.options.visibility||"classic"===this.options.visibility&&(0,df.isFullscreen)(iC.mainWindow)?this.focusState=G.HIDDEN:this.focusState=G.VISIBLE,this.ignoreNextMouseUp=!1,this.mnemonicsInUse=!1,this.updateMnemonicVisibility(!1)}focusPrevious(){if(!this.focusedMenu||0===this.numMenusShown)return;let e=(this.focusedMenu.index-1+this.numMenusShown)%this.numMenusShown;this.focusedMenu.index===hO.OVERFLOW_INDEX?e=this.numMenusShown-1:0===this.focusedMenu.index&&this.hasOverflow&&(e=hO.OVERFLOW_INDEX),e!==this.focusedMenu.index&&(this.isOpen?(this.cleanupCustomMenu(),this.showCustomMenu(e)):this.isFocused&&(this.focusedMenu.index=e,e===hO.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[e].buttonElement?.focus()))}focusNext(){if(!this.focusedMenu||0===this.numMenusShown)return;let e=(this.focusedMenu.index+1)%this.numMenusShown;this.focusedMenu.index===hO.OVERFLOW_INDEX?e=0:this.focusedMenu.index===this.numMenusShown-1&&(e=hO.OVERFLOW_INDEX),e!==this.focusedMenu.index&&(this.isOpen?(this.cleanupCustomMenu(),this.showCustomMenu(e)):this.isFocused&&(this.focusedMenu.index=e,e===hO.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[e].buttonElement?.focus()))}updateMnemonicVisibility(e){this.menus&&this.menus.forEach(t=>{if(t.titleElement&&t.titleElement.children.length){let i=t.titleElement.children.item(0);i&&(i.style.textDecoration=this.options.alwaysOnMnemonics||e?"underline":"")}})}get mnemonicsInUse(){return this._mnemonicsInUse}set mnemonicsInUse(e){this._mnemonicsInUse=e}get shouldAltKeyFocus(){return!e8.isMacintosh&&(!this.options.disableAltFocus||"toggle"===this.options.visibility)}get onVisibilityChange(){return this._onVisibilityChange.event}get onFocusStateChange(){return this._onFocusStateChange.event}onMenuTriggered(e,t){this.isOpen?this.isCurrentMenu(e)?this.setUnfocusedState():(this.cleanupCustomMenu(),this.showCustomMenu(e,this.openedViaKeyboard)):(this.focusedMenu={index:e},this.openedViaKeyboard=!t,this.focusState=G.OPEN)}onModifierKeyToggled(e){let t=!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey;"hidden"!==this.options.visibility&&(e.event&&this.shouldAltKeyFocus&&ec.ScanCodeUtils.toEnum(e.event.code)===ec.ScanCode.AltLeft&&e.event.preventDefault(),this.isFocused&&"alt"===e.lastKeyPressed&&e.altKey&&(this.setUnfocusedState(),this.mnemonicsInUse=!1,this.awaitingAltRelease=!0),t&&"alt"===e.lastKeyPressed&&"alt"===e.lastKeyReleased&&!this.awaitingAltRelease&&(!this.isFocused&&this.shouldAltKeyFocus?(this.mnemonicsInUse=!0,this.focusedMenu={index:this.numMenusShown>0?0:hO.OVERFLOW_INDEX},this.focusState=G.FOCUSED):this.isOpen||this.setUnfocusedState()),e.altKey||"alt"!==e.lastKeyReleased||(this.awaitingAltRelease=!1),this.options.enableMnemonics&&this.menus&&!this.isOpen&&this.updateMnemonicVisibility(!this.awaitingAltRelease&&e.altKey||this.mnemonicsInUse))}isCurrentMenu(e){return!!this.focusedMenu&&this.focusedMenu.index===e}cleanupCustomMenu(){this.focusedMenu&&(this.focusedMenu.index===hO.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[this.focusedMenu.index].buttonElement?.focus(),this.focusedMenu.holder&&(this.focusedMenu.holder.parentElement?.classList.remove("open"),this.focusedMenu.holder.remove()),this.focusedMenu.widget?.dispose(),this.focusedMenu={index:this.focusedMenu.index}),this.menuDisposables.clear()}showCustomMenu(e,t=!0){let i=e>=this.numMenusShown?hO.OVERFLOW_INDEX:e,o=i===hO.OVERFLOW_INDEX?this.overflowMenu:this.menus[i];if(!o.actions||!o.buttonElement||!o.titleElement)return;let n=hP("div.menubar-menu-items-holder",{title:""});o.buttonElement.classList.add("open");let r=o.titleElement.getBoundingClientRect(),s=(0,el.getDomNodeZoomLevel)(o.titleElement);if(this.options.compactMode?.horizontal===hR.HorizontalDirection.Right)n.style.left=`${r.left+this.container.clientWidth}px`;else if(this.options.compactMode?.horizontal===hR.HorizontalDirection.Left){let e=(0,el.getWindow)(this.container).innerWidth;n.style.right=`${e-r.left}px`,n.style.left="auto"}else n.style.left=`${r.left*s}px`;this.options.compactMode?.vertical===hR.VerticalDirection.Above?n.style.top=`${r.top-30*this.menus.length+this.container.clientHeight}px`:this.options.compactMode?.vertical===hR.VerticalDirection.Below?n.style.top=`${r.top}px`:n.style.top=`${r.bottom*s}px`,o.buttonElement.appendChild(n);let a={getKeyBinding:this.options.getKeybinding,actionRunner:this.actionRunner,enableMnemonics:this.options.alwaysOnMnemonics||this.mnemonicsInUse&&this.options.enableMnemonics,ariaLabel:o.buttonElement.getAttribute("aria-label")??void 0,expandDirection:this.isCompact?this.options.compactMode:{horizontal:hR.HorizontalDirection.Right,vertical:hR.VerticalDirection.Below},useEventAsContext:!0},l=this.menuDisposables.add(new hR.Menu(n,o.actions,a,this.menuStyle));this.menuDisposables.add(l.onDidCancel(()=>{this.focusState=G.FOCUSED})),i!==e?l.trigger(e-this.numMenusShown):l.focus(t),this.focusedMenu={index:i,holder:n,widget:l}}}var hF=e.i(976204),hK=e.i(128733),hW=e.i(203956);hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarFileMenu,title:{value:"File",original:"File",mnemonicTitle:(0,J.localize)(3338,"&&File")},order:1}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarEditMenu,title:{value:"Edit",original:"Edit",mnemonicTitle:(0,J.localize)(3339,"&&Edit")},order:2}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarSelectionMenu,title:{value:"Selection",original:"Selection",mnemonicTitle:(0,J.localize)(3340,"&&Selection")},order:3}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarViewMenu,title:{value:"View",original:"View",mnemonicTitle:(0,J.localize)(3341,"&&View")},order:4}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarGoMenu,title:{value:"Go",original:"Go",mnemonicTitle:(0,J.localize)(3342,"&&Go")},order:5}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarTerminalMenu,title:{value:"Terminal",original:"Terminal",mnemonicTitle:(0,J.localize)(3343,"&&Terminal")},order:7}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarHelpMenu,title:{value:"Help",original:"Help",mnemonicTitle:(0,J.localize)(3344,"&&Help")},order:8}),hI.MenuRegistry.appendMenuItem(hI.MenuId.MenubarMainMenu,{submenu:hI.MenuId.MenubarPreferencesMenu,title:{value:"Preferences",original:"Preferences",mnemonicTitle:(0,J.localize)(3345,"Preferences")},when:l0.IsMacNativeContext,order:9});class hz extends hx.Disposable{static{this.MAX_MENU_RECENT_ENTRIES=10}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super(),this.menuService=e,this.workspacesService=t,this.contextKeyService=i,this.keybindingService=o,this.configurationService=n,this.labelService=r,this.updateService=s,this.storageService=a,this.notificationService=l,this.preferencesService=d,this.environmentService=c,this.accessibilityService=u,this.hostService=h,this.commandService=p,this.keys=["window.menuBarVisibility","window.enableMenuBarMnemonics","window.customMenuBarAltFocus","workbench.sideBar.location","window.nativeTabs"],this.menus={},this.topLevelTitles={},this.recentlyOpened={files:[],workspaces:[]},this.mainMenu=this._register(this.menuService.createMenu(hI.MenuId.MenubarMainMenu,this.contextKeyService)),this.mainMenuDisposables=this._register(new hx.DisposableStore),this.setupMainMenu(),this.menuUpdater=this._register(new ta.RunOnceScheduler(()=>this.doUpdateMenubar(!1),200)),this.notifyUserOfCustomMenubarAccessibility()}registerListeners(){this._register(this.hostService.onDidChangeFocus(e=>this.onDidChangeWindowFocus(e))),this._register(this.configurationService.onDidChangeConfiguration(e=>this.onConfigurationUpdated(e))),this._register(this.updateService.onStateChange(()=>this.onUpdateStateChange())),this._register(this.workspacesService.onDidChangeRecentlyOpened(()=>{this.onDidChangeRecentlyOpened()})),this._register(this.keybindingService.onDidUpdateKeybindings(()=>this.updateMenubar())),this._register(this.labelService.onDidChangeFormatters(()=>{this.onDidChangeRecentlyOpened()})),this._register(this.mainMenu.onDidChange(()=>{this.setupMainMenu(),this.doUpdateMenubar(!0)}))}setupMainMenu(){this.mainMenuDisposables.clear(),this.menus={},this.topLevelTitles={};let[,e]=this.mainMenu.getActions()[0];for(let t of e)t instanceof hI.SubmenuItemAction&&"string"!=typeof t.item.title&&(this.menus[t.item.title.original]=this.mainMenuDisposables.add(this.menuService.createMenu(t.item.submenu,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.topLevelTitles[t.item.title.original]=t.item.title.mnemonicTitle??t.item.title.value)}updateMenubar(){this.menuUpdater.schedule()}calculateActionLabel(e){return e.label}onUpdateStateChange(){this.updateMenubar()}onUpdateKeybindings(){this.updateMenubar()}getOpenRecentActions(){if(!this.recentlyOpened)return[];let{workspaces:e,files:t}=this.recentlyOpened,i=[];if(e.length>0){for(let t=0;t<hz.MAX_MENU_RECENT_ENTRIES&&t<e.length;t++)i.push(this.createOpenRecentMenuAction(e[t]));i.push(new e5.Separator)}if(t.length>0){for(let e=0;e<hz.MAX_MENU_RECENT_ENTRIES&&e<t.length;e++)i.push(this.createOpenRecentMenuAction(t[e]));i.push(new e5.Separator)}return i}onDidChangeWindowFocus(e){e&&this.onDidChangeRecentlyOpened()}onConfigurationUpdated(e){this.keys.some(t=>e.affectsConfiguration(t))&&this.updateMenubar(),e.affectsConfiguration("editor.accessibilitySupport")&&this.notifyUserOfCustomMenubarAccessibility(),e.affectsConfiguration("window.menuBarVisibility")&&this.onDidChangeRecentlyOpened()}get menubarHidden(){return(!e8.isMacintosh||!e8.isNative)&&"hidden"===(0,uV.getMenuBarVisibility)(this.configurationService)}onDidChangeRecentlyOpened(){this.menubarHidden||this.workspacesService.getRecentlyOpened().then(e=>{this.recentlyOpened=e,this.updateMenubar()})}createOpenRecentMenuAction(e){let t,i,o,n,r=e.remoteAuthority;return(0,hD.isRecentFolder)(e)?(i=e.folderUri,t=e.label||this.labelService.getWorkspaceLabel(i,{verbose:cF.Verbosity.LONG}),o="openRecentFolder",n={folderUri:i}):(0,hD.isRecentWorkspace)(e)?(i=e.workspace.configPath,t=e.label||this.labelService.getWorkspaceLabel(e.workspace,{verbose:cF.Verbosity.LONG}),o="openRecentWorkspace",n={workspaceUri:i}):(i=e.fileUri,t=e.label||this.labelService.getUriLabel(i),o="openRecentFile",n={fileUri:i}),Object.assign((0,e5.toAction)({id:o,label:(0,cO.unmnemonicLabel)(t),run:e=>{let t=e&&(!e8.isMacintosh&&(e.ctrlKey||e.shiftKey)||e8.isMacintosh&&(e.metaKey||e.altKey));return this.hostService.openWindow([n],{forceNewWindow:!!t,remoteAuthority:r||null})}}),{uri:i,remoteAuthority:r})}notifyUserOfCustomMenubarAccessibility(){if(e8.isWeb||e8.isMacintosh)return;let e=this.storageService.getBoolean("menubar/accessibleMenubarNotified",td.StorageScope.APPLICATION,!1),t=!(0,uV.hasNativeTitlebar)(this.configurationService);if(e||t||!this.accessibilityService.isScreenReaderOptimized())return;let i=(0,J.localize)(3346,"Accessibility support is enabled for you. For the most accessible experience, we recommend the custom title bar style.");this.notificationService.prompt(oY.default.Info,i,[{label:(0,J.localize)(3347,"Open Settings"),run:()=>this.preferencesService.openUserSettings({query:uV.TitleBarSetting.TITLE_BAR_STYLE})}]),this.storageService.store("menubar/accessibleMenubarNotified",!0,td.StorageScope.APPLICATION,td.StorageTarget.USER)}}let hV=class extends hz{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g){super(e,t,i,o,n,r,s,a,l,d,c,u,p,g),this.telemetryService=h,this.alwaysOnMnemonics=!1,this.focusInsideMenubar=!1,this.pendingFirstTimeUpdate=!1,this.visible=!0,this.webNavigationMenu=this._register(this.menuService.createMenu(hI.MenuId.MenubarHomeMenu,this.contextKeyService)),this.reinstallDisposables=this._register(new hx.DisposableStore),this._onVisibilityChange=this._register(new eE.Emitter),this._onFocusStateChange=this._register(new eE.Emitter),this.actionRunner=this._register(new e5.ActionRunner),this.actionRunner.onDidRun(e=>{this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),this.workspacesService.getRecentlyOpened().then(e=>{this.recentlyOpened=e}),this.registerListeners()}doUpdateMenubar(e){this.focusInsideMenubar||this.setupCustomMenubar(e),e&&(this.pendingFirstTimeUpdate=!0)}getUpdateAction(){switch(this.updateService.state.type){case hA.StateType.Idle:return new e5.Action("update.check",(0,J.localize)(3349,"Check for &&Updates..."),void 0,!0,()=>this.updateService.checkForUpdates(!0));case hA.StateType.CheckingForUpdates:return new e5.Action("update.checking",(0,J.localize)(3350,"Checking for Updates..."),void 0,!1);case hA.StateType.AvailableForDownload:return new e5.Action("update.downloadNow",(0,J.localize)(3351,"D&&ownload Update"),void 0,!0,()=>this.updateService.downloadUpdate());case hA.StateType.Downloading:return new e5.Action("update.downloading",(0,J.localize)(3352,"Downloading Update..."),void 0,!1);case hA.StateType.Downloaded:return e8.isMacintosh?null:new e5.Action("update.install",(0,J.localize)(3353,"Install &&Update..."),void 0,!0,()=>this.updateService.applyUpdate());case hA.StateType.Updating:return new e5.Action("update.updating",(0,J.localize)(3354,"Installing Update..."),void 0,!1);case hA.StateType.Ready:return new e5.Action("update.restart",(0,J.localize)(3355,"Restart to &&Update"),void 0,!0,()=>this.updateService.quitAndInstall());default:return null}}get currentMenubarVisibility(){return(0,uV.getMenuBarVisibility)(this.configurationService)}get currentDisableMenuBarAltFocus(){let e=this.configurationService.getValue("window.customMenuBarAltFocus"),t=!1;return"boolean"==typeof e&&(t=!e),t}insertActionsBefore(e,t){switch(e.id){case hW.OpenRecentAction.ID:t.push(...this.getOpenRecentActions());break;case"workbench.action.showAboutDialog":if(!e8.isMacintosh&&!e8.isWeb){let e=this.getUpdateAction();e&&(e.label=(0,cO.mnemonicMenuLabel)(e.label),t.push(e),t.push(new e5.Separator))}}}get currentEnableMenuBarMnemonics(){let e=this.configurationService.getValue("window.enableMenuBarMnemonics");return"boolean"!=typeof e&&(e=!0),e&&(!e8.isWeb||(0,df.isFullscreen)(iC.mainWindow))}get currentCompactMenuMode(){if("compact"===this.currentMenubarVisibility)return{horizontal:"right"===this.configurationService.getValue("workbench.sideBar.location")?hR.HorizontalDirection.Left:hR.HorizontalDirection.Right,vertical:this.configurationService.getValue("workbench.activityBar.location")===cT.ActivityBarPosition.BOTTOM?hR.VerticalDirection.Above:hR.VerticalDirection.Below}}onDidVisibilityChange(e){this.visible=e,this.onDidChangeRecentlyOpened(),this._onVisibilityChange.fire(e)}toActionsArray(e){return(0,nk.getFlatContextMenuActions)(e.getActions({shouldForwardArgs:!0}))}setupCustomMenubar(e){if(!this.container)return;e?(this.menubar&&this.reinstallDisposables.clear(),this.menubar=this.reinstallDisposables.add(new hO(this.container,this.getMenuBarOptions(),aa.defaultMenuStyles)),this.accessibilityService.alwaysUnderlineAccessKeys().then(e=>{this.alwaysOnMnemonics=e,this.menubar?.update(this.getMenuBarOptions())}),this.reinstallDisposables.add(this.menubar.onFocusStateChange(e=>{this._onFocusStateChange.fire(e),e||(this.pendingFirstTimeUpdate?(this.setupCustomMenubar(!0),this.pendingFirstTimeUpdate=!1):this.updateMenubar(),this.focusInsideMenubar=!1)})),this.reinstallDisposables.add(this.menubar.onVisibilityChange(e=>this.onDidVisibilityChange(e))),this.reinstallDisposables.add((0,el.addDisposableListener)(this.container,el.EventType.FOCUS_IN,()=>{this.focusInsideMenubar=!0})),this.reinstallDisposables.add((0,el.addDisposableListener)(this.container,el.EventType.FOCUS_OUT,()=>{this.focusInsideMenubar=!1})),this.menubar.isVisible&&this.onDidVisibilityChange(!0)):this.menubar?.update(this.getMenuBarOptions());let t=(e,i,o)=>{for(let n of(i.splice(0),e))if(this.insertActionsBefore(n,i),n instanceof e5.Separator)i.push(n);else if(n instanceof hI.SubmenuItemAction||n instanceof hI.MenuItemAction){let e="string"==typeof n.item.title?n.item.title:n.item.title.mnemonicTitle??n.item.title.value;if(n instanceof hI.SubmenuItemAction){let r=[];t(n.actions,r,o),r.length>0&&i.push(new e5.SubmenuAction(n.id,(0,cO.mnemonicMenuLabel)(e),r))}else{(0,dv.isICommandActionToggleInfo)(n.item.toggled)&&(e=n.item.toggled.mnemonicTitle??n.item.toggled.title??e);let t=new e5.Action(n.id,(0,cO.mnemonicMenuLabel)(e),n.class,n.enabled,()=>this.commandService.executeCommand(n.id));t.tooltip=n.tooltip,t.checked=n.checked,i.push(t)}}if("File"===o&&void 0===this.currentCompactMenuMode){let e=this.getWebNavigationActions();e.length&&i.push(...e)}};for(let i of Object.keys(this.topLevelTitles)){let o=this.menus[i];e&&o&&(this.reinstallDisposables.add(o.onDidChange(()=>{if(!this.focusInsideMenubar){let e=[];t(this.toActionsArray(o),e,i),this.menubar?.updateMenu({actions:e,label:(0,cO.mnemonicMenuLabel)(this.topLevelTitles[i])})}})),o===this.menus.File&&this.reinstallDisposables.add(this.webNavigationMenu.onDidChange(()=>{if(!this.focusInsideMenubar){let e=[];t(this.toActionsArray(o),e,i),this.menubar?.updateMenu({actions:e,label:(0,cO.mnemonicMenuLabel)(this.topLevelTitles[i])})}})));let n=[];o&&t(this.toActionsArray(o),n,i),this.menubar&&(e?this.menubar.push({actions:n,label:(0,cO.mnemonicMenuLabel)(this.topLevelTitles[i])}):this.menubar.updateMenu({actions:n,label:(0,cO.mnemonicMenuLabel)(this.topLevelTitles[i])}))}}getWebNavigationActions(){if(!e8.isWeb)return[];let e=[];for(let t of this.webNavigationMenu.getActions()){let[,i]=t;for(let t of i)if(t instanceof hI.MenuItemAction){let i="string"==typeof t.item.title?t.item.title:t.item.title.mnemonicTitle??t.item.title.value;e.push(new e5.Action(t.id,(0,cO.mnemonicMenuLabel)(i),t.class,t.enabled,async e=>{this.commandService.executeCommand(t.id,e)}))}e.push(new e5.Separator)}return e.length&&e.pop(),e}getMenuBarOptions(){return{enableMnemonics:this.currentEnableMenuBarMnemonics,disableAltFocus:this.currentDisableMenuBarAltFocus,visibility:this.currentMenubarVisibility,actionRunner:this.actionRunner,getKeybinding:e=>this.keybindingService.lookupKeybinding(e.id),alwaysOnMnemonics:this.alwaysOnMnemonics,compactMode:this.currentCompactMenuMode,getCompactMenuActions:()=>e8.isWeb?this.getWebNavigationActions():[]}}onDidChangeWindowFocus(e){this.visible&&(super.onDidChangeWindowFocus(e),this.container&&(e?this.container.classList.remove("inactive"):(this.container.classList.add("inactive"),this.menubar?.blur())))}onUpdateStateChange(){this.visible&&super.onUpdateStateChange()}onDidChangeRecentlyOpened(){this.visible&&super.onDidChangeRecentlyOpened()}onUpdateKeybindings(){this.visible&&super.onUpdateKeybindings()}registerListeners(){super.registerListeners(),this._register((0,el.addDisposableListener)(iC.mainWindow,el.EventType.RESIZE,()=>{this.menubar&&!(e8.isIOS&&hK.BrowserFeatures.pointerEvents)&&this.menubar.blur()})),e8.isWeb&&(this._register((0,df.onDidChangeFullscreen)(e=>{e===iC.mainWindow.vscodeWindowId&&this.updateMenubar()})),this._register(this.webNavigationMenu.onDidChange(()=>this.updateMenubar())),this._register((!n&&(n=new eE.Emitter,(0,hI.registerAction2)(class extends hI.Action2{constructor(){super({id:"workbench.actions.menubar.focus",title:(0,J.localize2)(3348,"Focus Application Menu"),keybinding:{primary:ec.KeyMod.Alt|ec.KeyCode.F10,weight:eb.KeybindingWeight.WorkbenchContrib,when:l0.IsWebContext},f1:!0})}async run(){n?.fire()}})),n).event(()=>this.menubar?.toggleFocus())))}get onVisibilityChange(){return this._onVisibilityChange.event}get onFocusStateChange(){return this._onFocusStateChange.event}getMenubarItemsDimensions(){return this.menubar?new el.Dimension(this.menubar.getWidth(),this.menubar.getHeight()):new el.Dimension(0,0)}create(e){return this.container=e,this.container&&this.doUpdateMenubar(!0),this.container}layout(e){this.menubar?.update(this.getMenuBarOptions())}toggleFocus(){this.menubar?.toggleFocus()}};hV=(0,Y.__decorate)([(0,Y.__param)(0,nA.IMenuService),(0,Y.__param)(1,hk.IWorkspacesService),(0,Y.__param)(2,ev.IContextKeyService),(0,Y.__param)(3,eM.IKeybindingService),(0,Y.__param)(4,es.IConfigurationService),(0,Y.__param)(5,nM.ILabelService),(0,Y.__param)(6,hM.IUpdateService),(0,Y.__param)(7,tc.IStorageService),(0,Y.__param)(8,iR.INotificationService),(0,Y.__param)(9,dK.IPreferencesService),(0,Y.__param)(10,hL.IWorkbenchEnvironmentService),(0,Y.__param)(11,ni.IAccessibilityService),(0,Y.__param)(12,nn.ITelemetryService),(0,Y.__param)(13,hF.IHostService),(0,Y.__param)(14,iT.ICommandService)],hV);var hB=e.i(368954),hH=e.i(928546),hU=Z,hG=e.i(403197);class hq{constructor(e,t,i,o,n,r){this.viewDescriptorService=e,this.targetContainerLocation=t,this.orientation=i,this.openComposite=o,this.moveComposite=n,this.getItems=r}drop(e,t,i,o){let n=e.getData();if("composite"===n.type){let e=this.viewDescriptorService.getViewContainerById(n.id),i=this.viewDescriptorService.getViewContainerLocation(e),r=!1;i===this.targetContainerLocation?t&&(this.moveComposite(n.id,t,o),r=!0):(this.viewDescriptorService.moveViewContainerToLocation(e,this.targetContainerLocation,this.getTargetIndex(t,o),"dnd"),r=!0),r&&this.openComposite(e.id,!0)}if("view"===n.type){let e=this.viewDescriptorService.getViewDescriptorById(n.id);if(e&&e.canMoveView){this.viewDescriptorService.moveViewToLocation(e,this.targetContainerLocation,"dnd");let i=this.viewDescriptorService.getViewContainerByViewId(e.id);t&&this.moveComposite(i.id,t,o),this.openComposite(i.id,!0).then(t=>{t?.openView(e.id,!0)})}}}onDragEnter(e,t,i){return this.canDrop(e,t)}onDragOver(e,t,i){return this.canDrop(e,t)}getTargetIndex(e,t){if(!e)return;let i=this.getItems(),o=this.orientation===lx.ActionsOrientation.HORIZONTAL?t?.horizontallyBefore:t?.verticallyBefore;return i.filter(e=>e.visible).findIndex(t=>t.id===e)+ +!o}canDrop(e,t){let i=e.getData();if("composite"===i.type){let e=this.viewDescriptorService.getViewContainerById(i.id);return this.viewDescriptorService.getViewContainerLocation(e)!==this.targetContainerLocation||i.id!==t}{let e=this.viewDescriptorService.getViewDescriptorById(i.id);return!!e&&!!e.canMoveView}}}class h${constructor(e,t,i,o,n){this.compositeBarContainer=e,this.actionBarContainer=t,this.compositeBarModel=i,this.dndHandler=o,this.orientation=n,this.insertDropBefore=void 0}onDragOver(e){let t=this.compositeBarModel.visibleItems;if(!t.length||e.eventData.target&&(0,el.isAncestor)(e.eventData.target,this.actionBarContainer)){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!0);return}let i=this.insertAtFront(this.actionBarContainer,e.eventData),o=i?t[0]:t[t.length-1],n=this.dndHandler.onDragOver(e.dragAndDropData,o.id,e.eventData);(0,us.toggleDropEffect)(e.eventData.dataTransfer,"move",n),this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,n,i,!0)}onDragLeave(e){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}onDragEnd(e){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}onDrop(e){let t,i=this.compositeBarModel.visibleItems;i.length&&(t=this.insertAtFront(this.actionBarContainer,e.eventData)?i[0].id:i[i.length-1].id),this.dndHandler.drop(e.dragAndDropData,t,e.eventData,this.insertDropBefore),this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}insertAtFront(e,t){let i=e.getBoundingClientRect(),o=t.clientX,n=t.clientY;switch(this.orientation){case lx.ActionsOrientation.HORIZONTAL:return o<i.left;case lx.ActionsOrientation.VERTICAL:return n<i.top}}updateFromDragging(e,t,i,o){if(e.classList.toggle("dragged-over",o),e.classList.toggle("dragged-over-head",t&&i),e.classList.toggle("dragged-over-tail",t&&!i),t)return{verticallyBefore:i,horizontallyBefore:i}}}let hj=class extends hG.Widget{constructor(e,t,i,o,n){super(),this.options=t,this.instantiationService=i,this.contextMenuService=o,this.viewDescriptorService=n,this._onDidChange=this._register(new eE.Emitter),this.onDidChange=this._onDidChange.event,this.model=new hQ(e,t),this.visibleComposites=[],this.compositeSizeInBar=new Map,this.computeSizes(this.model.visibleItems)}getCompositeBarItems(){return[...this.model.items]}setCompositeBarItems(e){this.model.setItems(e),this.updateCompositeSwitcher(!0)}getPinnedComposites(){return this.model.pinnedItems}getPinnedCompositeIds(){return this.getPinnedComposites().map(e=>e.id)}getVisibleComposites(){return this.model.visibleItems}create(e){let t=e.appendChild((0,el.$)(".composite-bar"));this.compositeSwitcherBar=this._register(new lx.ActionBar(t,{actionViewItemProvider:(e,t)=>{if(e instanceof uh)return this.compositeOverflowActionViewItem;let i=this.model.findItem(e.id);return i&&this.instantiationService.createInstance(um,{...t,draggable:!0,colors:this.options.colors,icon:this.options.icon,hoverOptions:this.options.activityHoverOptions,compact:this.options.compact},e,i.pinnedAction,i.toggleBadgeAction,e=>this.options.getContextMenuActionsForComposite(e),()=>this.getContextMenuActions(),this.options.dndHandler,this)},orientation:this.options.orientation,ariaLabel:(0,J.localize)(2732,"Active View Switcher"),ariaRole:"tablist",preventLoopNavigation:this.options.preventLoopNavigation,triggerKeys:{keyDown:!0}})),this._register((0,el.addDisposableListener)(e,el.EventType.CONTEXT_MENU,t=>this.showContextMenu((0,el.getWindow)(e),t))),this._register(hT.Gesture.addTarget(e)),this._register((0,el.addDisposableListener)(e,hT.EventType.Contextmenu,t=>this.showContextMenu((0,el.getWindow)(e),t)));let i=new h$(e,t,this.model,this.options.dndHandler,this.options.orientation);return this._register(us.CompositeDragAndDropObserver.INSTANCE.registerTarget(e,i)),t}focus(e){this.compositeSwitcherBar?.focus(e)}recomputeSizes(){this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher()}layout(e){this.dimension=e,0!==e.height&&0!==e.width&&(0===this.compositeSizeInBar.size&&this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher())}addComposite({id:e,name:t,order:i,requestedIndex:o}){this.model.add(e,t,i,o)&&(this.computeSizes([this.model.findItem(e)]),this.updateCompositeSwitcher())}removeComposite(e){this.isPinned(e)&&this.unpin(e),this.model.remove(e)&&this.updateCompositeSwitcher()}hideComposite(e){this.model.hide(e)&&(this.resetActiveComposite(e),this.updateCompositeSwitcher())}activateComposite(e){let t=this.model.activeItem;this.model.activate(e)&&(-1===this.visibleComposites.indexOf(e)||this.model.activeItem&&!this.model.activeItem.pinned||t&&!t.pinned)&&this.updateCompositeSwitcher()}deactivateComposite(e){let t=this.model.activeItem;this.model.deactivate()&&t&&!t.pinned&&this.updateCompositeSwitcher()}async pin(e,t){this.model.setPinned(e,!0)&&(this.updateCompositeSwitcher(),t&&(await this.options.openComposite(e),this.activateComposite(e)))}unpin(e){this.model.setPinned(e,!1)&&(this.updateCompositeSwitcher(),this.resetActiveComposite(e))}areBadgesEnabled(e){return this.viewDescriptorService.getViewContainerBadgeEnablementState(e)}toggleBadgeEnablement(e){this.viewDescriptorService.setViewContainerBadgeEnablementState(e,!this.areBadgesEnabled(e)),this.updateCompositeSwitcher();let t=this.model.findItem(e);t&&(t.activityAction.activity=t.activityAction.activity)}resetActiveComposite(e){let t=this.options.getDefaultCompositeId();if(this.model.activeItem&&this.model.activeItem.id===e)if(this.deactivateComposite(e),t&&t!==e&&this.isPinned(t))this.options.openComposite(t,!0);else{let t=this.visibleComposites.find(t=>t!==e);t&&this.options.openComposite(t)}}isPinned(e){let t=this.model.findItem(e);return t?.pinned}move(e,t,i){if(void 0!==i){let o=this.model.items.findIndex(t=>t.id===e),n=this.model.items.findIndex(e=>e.id===t);o>=0&&n>=0&&(!i&&o>n&&n++,i&&o<n&&n--,n<this.model.items.length&&n>=0&&n!==o&&this.model.move(this.model.items[o].id,this.model.items[n].id)&&setTimeout(()=>this.updateCompositeSwitcher(),0))}else this.model.move(e,t)&&setTimeout(()=>this.updateCompositeSwitcher(),0)}getAction(e){let t=this.model.findItem(e);return t?.activityAction}computeSizes(e){let t=this.options.compositeSize;if(t)e.forEach(e=>this.compositeSizeInBar.set(e.id,t));else{let t=this.compositeSwitcherBar;if(t&&this.dimension&&0!==this.dimension.height&&0!==this.dimension.width){let i=t.viewItems.length;t.push(e.map(e=>e.activityAction)),e.forEach((e,o)=>this.compositeSizeInBar.set(e.id,this.options.orientation===lx.ActionsOrientation.VERTICAL?t.getHeight(i+o):t.getWidth(i+o))),e.forEach(()=>t.pull(t.viewItems.length-1))}}}updateCompositeSwitcher(e){let t=this.compositeSwitcherBar;if(!t||!this.dimension)return;let i=this.model.visibleItems.filter(e=>e.pinned||this.model.activeItem&&this.model.activeItem.id===e.id).map(e=>e.id),o=i.length,n=i.length,r=0,s=this.options.orientation===lx.ActionsOrientation.VERTICAL?this.dimension.height:this.dimension.width;for(let e=0;e<i.length;e++){let t=this.compositeSizeInBar.get(i[e]);if(r+t>s){o=e;break}r+=t}for(n>o&&(i=i.slice(0,o)),this.model.activeItem&&i.every(e=>!!this.model.activeItem&&e!==this.model.activeItem.id)&&(r+=this.compositeSizeInBar.get(this.model.activeItem.id),i.push(this.model.activeItem.id));r>s&&i.length;){let e=i.length>1?i.splice(i.length-2,1)[0]:i.pop();r-=this.compositeSizeInBar.get(e)}for(n>i.length&&(r+=this.options.overflowActionSize);r>s&&i.length;){let e=i.length>1&&i[i.length-1]===this.model.activeItem?.id?i.splice(i.length-2,1)[0]:i.pop();r-=this.compositeSizeInBar.get(e)}n===i.length&&this.compositeOverflowAction&&(t.pull(t.length()-1),this.compositeOverflowAction.dispose(),this.compositeOverflowAction=void 0,this.compositeOverflowActionViewItem?.dispose(),this.compositeOverflowActionViewItem=void 0);let a=[];this.visibleComposites.forEach((e,t)=>{i.includes(e)||a.push(t)}),a.reverse().forEach(e=>{t.pull(e),this.visibleComposites.splice(e,1)}),i.forEach((e,i)=>{let o=this.visibleComposites.indexOf(e);i!==o&&(-1!==o&&(t.pull(o),this.visibleComposites.splice(o,1)),t.push(this.model.findItem(e).activityAction,{label:!0,icon:this.options.icon,index:i}),this.visibleComposites.splice(i,0,e))}),n>i.length&&!this.compositeOverflowAction&&(this.compositeOverflowAction=this._register(this.instantiationService.createInstance(uh,()=>{this.compositeOverflowActionViewItem?.showMenu()})),this.compositeOverflowActionViewItem=this._register(this.instantiationService.createInstance(up,this.compositeOverflowAction,()=>this.getOverflowingComposites(),()=>this.model.activeItem?this.model.activeItem.id:void 0,e=>{let t=this.model.findItem(e);return t?.activity[0]?.badge},this.options.getOnCompositeClickAction,this.options.colors,this.options.activityHoverOptions)),t.push(this.compositeOverflowAction,{label:!1,icon:!0})),e||this._onDidChange.fire()}getOverflowingComposites(){let e=this.model.visibleItems.filter(e=>e.pinned).map(e=>e.id);return this.model.activeItem&&!this.model.activeItem.pinned&&e.push(this.model.activeItem.id),e=e.filter(e=>!this.visibleComposites.includes(e)),this.model.visibleItems.filter(t=>e.includes(t.id)).map(e=>({id:e.id,name:this.getAction(e.id)?.label||e.name}))}showContextMenu(e,t){el.EventHelper.stop(t,!0);let i=new e7.StandardMouseEvent(e,t);this.contextMenuService.showContextMenu({getAnchor:()=>i,getActions:()=>this.getContextMenuActions(t)})}getContextMenuActions(e){let t=this.model.visibleItems.map(({id:e,name:t,activityAction:i})=>{let o=this.isPinned(e);return(0,e5.toAction)({id:e,label:this.getAction(e).label||t||e,checked:o,enabled:i.enabled&&(!o||this.getPinnedCompositeIds().length>1),run:()=>{this.isPinned(e)?this.unpin(e):this.pin(e,!0)}})});return this.options.fillExtraContextMenuActions(t,e),t}};hj=(0,Y.__decorate)([(0,Y.__param)(2,eC.IInstantiationService),(0,Y.__param)(3,eJ.IContextMenuService),(0,Y.__param)(4,dY.IViewDescriptorService)],hj);class hQ{get items(){return this._items}constructor(e,t){this._items=[],this.options=t,this.setItems(e)}setItems(e){this._items=[],this._items=e.map(e=>this.createCompositeBarItem(e.id,e.name,e.order,e.pinned,e.visible))}get visibleItems(){return this.items.filter(e=>e.visible)}get pinnedItems(){return this.items.filter(e=>e.visible&&e.pinned)}createCompositeBarItem(e,t,i,o,n){let r=this.options;return{id:e,name:t,pinned:o,order:i,visible:n,activity:[],get activityAction(){return r.getActivityAction(e)},get pinnedAction(){return r.getCompositePinnedAction(e)},get toggleBadgeAction(){return r.getCompositeBadgeAction(e)}}}add(e,t,i,o){let n=this.findItem(e);if(n){let e=!1;return n.name=t,(0,ih.isUndefinedOrNull)(i)||(e=n.order!==i,n.order=i),n.visible||(n.visible=!0,e=!0),e}{let n=this.createCompositeBarItem(e,t,i,!0,!0);if((0,ih.isUndefinedOrNull)(o))if((0,ih.isUndefinedOrNull)(i))this.items.push(n);else{let e=0;for(;e<this.items.length&&"number"==typeof this.items[e].order&&this.items[e].order<i;)e++;this.items.splice(e,0,n)}else{let e=0,t=o;for(;t>0&&e<this.items.length;)this.items[e++].visible&&t--;this.items.splice(e,0,n)}return!0}}remove(e){for(let t=0;t<this.items.length;t++)if(this.items[t].id===e)return this.items.splice(t,1),!0;return!1}hide(e){for(let t of this.items)if(t.id===e){if(t.visible)return t.visible=!1,!0;break}return!1}move(e,t){let i=this.findIndex(e),o=this.findIndex(t);if(-1===i||-1===o)return!1;let n=this.items.splice(i,1)[0];return this.items.splice(o,0,n),n.pinned=!0,!0}setPinned(e,t){for(let i of this.items)if(i.id===e){if(i.pinned!==t)return i.pinned=t,!0;break}return!1}activate(e){if(!this.activeItem||this.activeItem.id!==e){for(let t of(this.activeItem&&this.deactivate(),this.items))if(t.id===e)return this.activeItem=t,this.activeItem.activityAction.activate(),!0}return!1}deactivate(){return!!this.activeItem&&(this.activeItem.activityAction.deactivate(),this.activeItem=void 0,!0)}findItem(e){return this.items.filter(t=>t.id===e)[0]}findIndex(e){for(let t=0;t<this.items.length;t++)if(this.items[t].id===e)return t;return -1}}var hY=e.i(757641),hZ=e.i(547158);let hX=class extends hU.Disposable{constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this.options=e,this.part=t,this.paneCompositePart=i,this.instantiationService=o,this.storageService=n,this.extensionService=r,this.viewDescriptorService=s,this.viewService=a,this.contextKeyService=l,this.environmentService=d,this.layoutService=c,this.viewContainerDisposables=this._register(new hU.DisposableMap),this.compositeActions=new Map,this.hasExtensionsRegistered=!1,this._cachedViewContainers=void 0,this.location=i.partId===cT.Parts.PANEL_PART?dQ.ViewContainerLocation.Panel:i.partId===cT.Parts.AUXILIARYBAR_PART?dQ.ViewContainerLocation.AuxiliaryBar:dQ.ViewContainerLocation.Sidebar,this.dndHandler=new hq(this.viewDescriptorService,this.location,this.options.orientation,async(e,t)=>await this.paneCompositePart.openPaneComposite(e,t)??null,(e,t,i)=>this.compositeBar.move(e,t,this.options.orientation===lx.ActionsOrientation.VERTICAL?i?.verticallyBefore:i?.horizontallyBefore),()=>this.compositeBar.getCompositeBarItems());const u=this.cachedViewContainers.map(e=>({id:e.id,name:e.name,visible:!this.shouldBeHidden(e.id,e),order:e.order,pinned:e.pinned}));this.compositeBar=this.createCompositeBar(u),this.onDidRegisterViewContainers(this.getViewContainers()),this.registerListeners()}createCompositeBar(e){return this._register(this.instantiationService.createInstance(hj,e,{icon:this.options.icon,compact:this.options.compact,orientation:this.options.orientation,activityHoverOptions:this.options.activityHoverOptions,preventLoopNavigation:this.options.preventLoopNavigation,openComposite:async(e,t)=>await this.paneCompositePart.openPaneComposite(e,!t)??null,getActivityAction:e=>this.getCompositeActions(e).activityAction,getCompositePinnedAction:e=>this.getCompositeActions(e).pinnedAction,getCompositeBadgeAction:e=>this.getCompositeActions(e).badgeAction,getOnCompositeClickAction:e=>this.getCompositeActions(e).activityAction,fillExtraContextMenuActions:(e,t)=>this.options.fillExtraContextMenuActions(e,t),getContextMenuActionsForComposite:e=>this.getContextMenuActionsForComposite(e),getDefaultCompositeId:()=>this.viewDescriptorService.getDefaultViewContainer(this.location)?.id,dndHandler:this.dndHandler,compositeSize:this.options.compositeSize,overflowActionSize:this.options.overflowActionSize,colors:e=>this.options.colors(e)}))}getContextMenuActionsForComposite(e){let t=[new e5.Separator],i=this.viewDescriptorService.getViewContainerById(e),o=this.viewDescriptorService.getDefaultViewContainerLocation(i),n=this.viewDescriptorService.getViewContainerLocation(i),r=[];for(let e of[dQ.ViewContainerLocation.Sidebar,dQ.ViewContainerLocation.AuxiliaryBar,dQ.ViewContainerLocation.Panel])n!==e&&r.push(this.createMoveAction(i,e,o));if(t.push(new e5.SubmenuAction("moveToMenu",(0,J.localize)(3275,"Move To"),r)),o!==n)t.push((0,e5.toAction)({id:"resetLocationAction",label:(0,J.localize)(3276,"Reset Location"),run:()=>{this.viewDescriptorService.moveViewContainerToLocation(i,o,void 0,"resetLocationAction"),this.viewService.openViewContainer(i.id,!0)}}));else{let e=this.viewDescriptorService.getViewContainerModel(i);if(1===e.allViewDescriptors.length){let o=e.allViewDescriptors[0],n=this.viewDescriptorService.getDefaultContainerById(o.id);n!==i&&t.push((0,e5.toAction)({id:"resetLocationAction",label:(0,J.localize)(3276,"Reset Location"),run:()=>{this.viewDescriptorService.moveViewsToContainer([o],n,void 0,"resetLocationAction"),this.viewService.openViewContainer(i.id,!0)}}))}}return t}createMoveAction(e,t,i){return(0,e5.toAction)({id:`moveViewContainerTo${t}`,label:t===dQ.ViewContainerLocation.Panel?(0,J.localize)(3277,"Panel"):t===dQ.ViewContainerLocation.Sidebar?(0,J.localize)(3278,"Primary Side Bar"):(0,J.localize)(3279,"Secondary Side Bar"),run:()=>{let o;o=t!==i?this.viewDescriptorService.getViewContainersByLocation(t).length:void 0,this.viewDescriptorService.moveViewContainerToLocation(e,t,o),this.viewService.openViewContainer(e.id,!0)}})}registerListeners(){this._register(this.viewDescriptorService.onDidChangeViewContainers(({added:e,removed:t})=>this.onDidChangeViewContainers(e,t))),this._register(this.viewDescriptorService.onDidChangeContainerLocation(({viewContainer:e,from:t,to:i})=>this.onDidChangeViewContainerLocation(e,t,i))),this._register(this.paneCompositePart.onDidPaneCompositeOpen(e=>this.onDidChangeViewContainerVisibility(e.getId(),!0))),this._register(this.paneCompositePart.onDidPaneCompositeClose(e=>this.onDidChangeViewContainerVisibility(e.getId(),!1))),this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this._store.isDisposed||(this.onDidRegisterExtensions(),this._register(this.compositeBar.onDidChange(()=>{this.updateCompositeBarItemsFromStorage(!0),this.saveCachedViewContainers()})),this._register(this.storageService.onDidChangeValue(td.StorageScope.PROFILE,this.options.pinnedViewContainersKey,this._store)(()=>this.updateCompositeBarItemsFromStorage(!1))))})}onDidChangeViewContainers(e,t){t.filter(({location:e})=>e===this.location).forEach(({container:e})=>this.onDidDeregisterViewContainer(e)),this.onDidRegisterViewContainers(e.filter(({location:e})=>e===this.location).map(({container:e})=>e))}onDidChangeViewContainerLocation(e,t,i){t===this.location&&this.onDidDeregisterViewContainer(e),i===this.location&&this.onDidRegisterViewContainers([e])}onDidChangeViewContainerVisibility(e,t){t?this.onDidViewContainerVisible(e):this.compositeBar.deactivateComposite(e)}onDidRegisterExtensions(){for(let{id:e}of(this.hasExtensionsRegistered=!0,this.cachedViewContainers)){let t=this.getViewContainer(e);t?this.showOrHideViewContainer(t):this.viewDescriptorService.isViewContainerRemovedPermanently(e)?this.removeComposite(e):this.hideComposite(e)}this.saveCachedViewContainers()}onDidViewContainerVisible(e){let t=this.getViewContainer(e);t&&(this.addComposite(t),this.compositeBar.activateComposite(t.id),this.shouldBeHidden(t)&&0===this.viewDescriptorService.getViewContainerModel(t).activeViewDescriptors.length&&this.hideComposite(t.id))}create(e){return this.compositeBar.create(e)}getCompositeActions(e){let t=this.compositeActions.get(e);if(!t){let i=this.getViewContainer(e);if(i){let e=this.viewDescriptorService.getViewContainerModel(i);t={activityAction:this._register(this.instantiationService.createInstance(hJ,this.toCompositeBarActionItemFrom(e),this.part,this.paneCompositePart)),pinnedAction:this._register(new u_(this.toCompositeBarActionItemFrom(e),this.compositeBar)),badgeAction:this._register(new uf(this.toCompositeBarActionItemFrom(e),this.compositeBar))}}else{let i=this.cachedViewContainers.filter(t=>t.id===e)[0];t={activityAction:this._register(this.instantiationService.createInstance(h0,this.toCompositeBarActionItem(e,i?.name??e,i?.icon,void 0),this.part,this.paneCompositePart)),pinnedAction:this._register(new h1(e,this.compositeBar)),badgeAction:this._register(new h2(e,this.compositeBar))}}this.compositeActions.set(e,t)}return t}onDidRegisterViewContainers(e){for(let t of e){this.addComposite(t),this.cachedViewContainers.filter(({id:e})=>e===t.id)[0]||this.compositeBar.pin(t.id);let e=this.paneCompositePart.getActivePaneComposite();e?.getId()===t.id&&this.compositeBar.activateComposite(t.id);let i=this.viewDescriptorService.getViewContainerModel(t);this.updateCompositeBarActionItem(t,i),this.showOrHideViewContainer(t);let o=new hU.DisposableStore;o.add(i.onDidChangeContainerInfo(()=>this.updateCompositeBarActionItem(t,i))),o.add(i.onDidChangeActiveViewDescriptors(()=>this.showOrHideViewContainer(t))),this.viewContainerDisposables.set(t.id,o)}}onDidDeregisterViewContainer(e){this.viewContainerDisposables.deleteAndDispose(e.id),this.removeComposite(e.id)}updateCompositeBarActionItem(e,t){let i=this.toCompositeBarActionItemFrom(t),{activityAction:o,pinnedAction:n}=this.getCompositeActions(e.id);o.updateCompositeBarActionItem(i),n instanceof h1&&n.setActivity(i),this.options.recomputeSizes&&this.compositeBar.recomputeSizes(),this.saveCachedViewContainers()}toCompositeBarActionItemFrom(e){return this.toCompositeBarActionItem(e.viewContainer.id,e.title,e.icon,e.keybindingId)}toCompositeBarActionItem(e,t,i,o){let n,r;if(this.options.icon)if(ip.URI.isUri(i)){r=i;let t=(0,hY.asCSSUrl)(i),o=new hZ.StringSHA1;o.update(t);let s=`activity-${e.replace(/\./g,"-")}-${o.digest()}`,a=`.monaco-workbench .${this.options.partContainerClass} .monaco-action-bar .action-label.${s}`;n=[s,"uri-icon"],(0,tr.createCSSRule)(a,`
				mask: ${t} no-repeat 50% 50%;
				mask-size: ${this.options.iconSize}px;
				-webkit-mask: ${t} no-repeat 50% 50%;
				-webkit-mask-size: ${this.options.iconSize}px;
				mask-origin: padding;
				-webkit-mask-origin: padding;
			`)}else rD.ThemeIcon.isThemeIcon(i)&&(n=rD.ThemeIcon.asClassNameArray(i));return{id:e,name:t,classNames:n,iconUrl:r,keybindingId:o}}showOrHideViewContainer(e){if(this.shouldBeHidden(e))this.hideComposite(e.id);else{this.addComposite(e);let t=this.paneCompositePart.getActivePaneComposite();t?.getId()===e.id&&this.compositeBar.activateComposite(e.id)}}shouldBeHidden(e,t){let i=(0,ih.isString)(e)?this.getViewContainer(e):e,o=(0,ih.isString)(e)?e:e.id;if(i){if(!i.hideIfEmpty)return!1;else if(this.viewService.isViewContainerActive(o))return!1}if(!this.hasExtensionsRegistered&&!(this.part===cT.Parts.SIDEBAR_PART&&this.environmentService.remoteAuthority&&e8.isNative)){if(t=t||this.cachedViewContainers.find(({id:e})=>e===o),!i&&t?.isBuiltin&&t?.visible)return!1;if(t?.views?.length)return t.views.every(({when:e})=>!!e&&!this.contextKeyService.contextMatchesRules(ey.ContextKeyExpr.deserialize(e)))}return!0}addComposite(e){this.compositeBar.addComposite({id:e.id,name:"string"==typeof e.title?e.title:e.title.value,order:e.order,requestedIndex:e.requestedIndex})}hideComposite(e){this.compositeBar.hideComposite(e);let t=this.compositeActions.get(e);t&&(t.activityAction.dispose(),t.pinnedAction.dispose(),this.compositeActions.delete(e))}removeComposite(e){this.compositeBar.removeComposite(e);let t=this.compositeActions.get(e);t&&(t.activityAction.dispose(),t.pinnedAction.dispose(),this.compositeActions.delete(e))}getPinnedPaneCompositeIds(){let e=this.compositeBar.getPinnedComposites().map(e=>e.id);return this.getViewContainers().filter(e=>this.compositeBar.isPinned(e.id)).sort((t,i)=>e.indexOf(t.id)-e.indexOf(i.id)).map(e=>e.id)}getVisiblePaneCompositeIds(){return this.compositeBar.getVisibleComposites().filter(e=>this.paneCompositePart.getActivePaneComposite()?.getId()===e.id||this.compositeBar.isPinned(e.id)).map(e=>e.id)}getPaneCompositeIds(){return this.compositeBar.getVisibleComposites().map(e=>e.id)}getContextMenuActions(){return this.compositeBar.getContextMenuActions()}focus(e){this.compositeBar.focus(e)}layout(e,t){this.compositeBar.layout(new el.Dimension(e,t))}getViewContainer(e){let t=this.viewDescriptorService.getViewContainerById(e);return t&&this.viewDescriptorService.getViewContainerLocation(t)===this.location?t:void 0}getViewContainers(){return this.viewDescriptorService.getViewContainersByLocation(this.location)}updateCompositeBarItemsFromStorage(e){if(this.pinnedViewContainersValue===this.getStoredPinnedViewContainersValue())return;this._placeholderViewContainersValue=void 0,this._pinnedViewContainersValue=void 0,this._cachedViewContainers=void 0;let t=[],i=this.compositeBar.getCompositeBarItems();for(let e of this.cachedViewContainers)t.push({id:e.id,name:e.name,order:e.order,pinned:e.pinned,visible:e.visible&&!!this.getViewContainer(e.id)});for(let e of this.getViewContainers())if(!t.some(({id:t})=>t===e.id)){let o=i.findIndex(({id:t})=>t===e.id);if(-1!==o){let n=i[o];t.splice(o,0,{id:e.id,name:"string"==typeof e.title?e.title:e.title.value,order:n.order,pinned:n.pinned,visible:n.visible})}else t.push({id:e.id,name:"string"==typeof e.title?e.title:e.title.value,order:e.order,pinned:!0,visible:!this.shouldBeHidden(e)})}if(e)for(let e of i)t.find(({id:t})=>t===e.id)||t.push(e);this.compositeBar.setCompositeBarItems(t)}saveCachedViewContainers(){let e=[];for(let t of this.compositeBar.getCompositeBarItems()){let i=this.getViewContainer(t.id);if(i){let o=this.viewDescriptorService.getViewContainerModel(i),n=[];for(let{when:e}of o.allViewDescriptors)n.push({when:e?e.serialize():void 0});e.push({id:t.id,name:o.title,icon:ip.URI.isUri(o.icon)&&this.environmentService.remoteAuthority?void 0:o.icon,views:n,pinned:t.pinned,order:t.order,visible:t.visible,isBuiltin:!i.extensionId})}else e.push({id:t.id,name:t.name,pinned:t.pinned,order:t.order,visible:!1,isBuiltin:!1})}this.storeCachedViewContainersState(e)}get cachedViewContainers(){if(void 0===this._cachedViewContainers){for(let e of(this._cachedViewContainers=this.getPinnedViewContainers(),this.getPlaceholderViewContainers())){let t=this._cachedViewContainers.find(t=>t.id===e.id);t&&(t.visible=e.visible??t.visible,t.name=e.name,t.icon=e.themeIcon?e.themeIcon:e.iconUrl?ip.URI.revive(e.iconUrl):void 0,ip.URI.isUri(t.icon)&&this.environmentService.remoteAuthority&&(t.icon=void 0),t.views=e.views,t.isBuiltin=e.isBuiltin)}for(let e of this.getViewContainersWorkspaceState()){let t=this._cachedViewContainers.find(t=>t.id===e.id);t&&(t.visible=e.visible??t.visible)}}return this._cachedViewContainers}storeCachedViewContainersState(e){let t=this.getPinnedViewContainers();this.setPinnedViewContainers(e.map(({id:e,pinned:i,order:o})=>({id:e,pinned:i,visible:!!t.find(({id:t})=>t===e)?.visible,order:o}))),this.setPlaceholderViewContainers(e.map(({id:e,icon:t,name:i,views:o,isBuiltin:n})=>({id:e,iconUrl:ip.URI.isUri(t)?t:void 0,themeIcon:rD.ThemeIcon.isThemeIcon(t)?t:void 0,name:i,isBuiltin:n,views:o}))),this.setViewContainersWorkspaceState(e.map(({id:e,visible:t})=>({id:e,visible:t})))}getPinnedViewContainers(){return JSON.parse(this.pinnedViewContainersValue)}setPinnedViewContainers(e){this.pinnedViewContainersValue=JSON.stringify(e)}get pinnedViewContainersValue(){return this._pinnedViewContainersValue||(this._pinnedViewContainersValue=this.getStoredPinnedViewContainersValue()),this._pinnedViewContainersValue}set pinnedViewContainersValue(e){this.pinnedViewContainersValue!==e&&(this._pinnedViewContainersValue=e,this.setStoredPinnedViewContainersValue(e))}getStoredPinnedViewContainersValue(){return this.storageService.get(this.options.pinnedViewContainersKey,td.StorageScope.PROFILE,"[]")}setStoredPinnedViewContainersValue(e){this.storageService.store(this.options.pinnedViewContainersKey,e,td.StorageScope.PROFILE,td.StorageTarget.USER)}getPlaceholderViewContainers(){return JSON.parse(this.placeholderViewContainersValue)}setPlaceholderViewContainers(e){this.placeholderViewContainersValue=JSON.stringify(e)}get placeholderViewContainersValue(){return this._placeholderViewContainersValue||(this._placeholderViewContainersValue=this.getStoredPlaceholderViewContainersValue()),this._placeholderViewContainersValue}set placeholderViewContainersValue(e){this.placeholderViewContainersValue!==e&&(this._placeholderViewContainersValue=e,this.setStoredPlaceholderViewContainersValue(e))}getStoredPlaceholderViewContainersValue(){return this.storageService.get(this.options.placeholderViewContainersKey,td.StorageScope.PROFILE,"[]")}setStoredPlaceholderViewContainersValue(e){this.storageService.store(this.options.placeholderViewContainersKey,e,td.StorageScope.PROFILE,td.StorageTarget.MACHINE)}getViewContainersWorkspaceState(){return JSON.parse(this.viewContainersWorkspaceStateValue)}setViewContainersWorkspaceState(e){this.viewContainersWorkspaceStateValue=JSON.stringify(e)}get viewContainersWorkspaceStateValue(){return this._viewContainersWorkspaceStateValue||(this._viewContainersWorkspaceStateValue=this.getStoredViewContainersWorkspaceStateValue()),this._viewContainersWorkspaceStateValue}set viewContainersWorkspaceStateValue(e){this.viewContainersWorkspaceStateValue!==e&&(this._viewContainersWorkspaceStateValue=e,this.setStoredViewContainersWorkspaceStateValue(e))}getStoredViewContainersWorkspaceStateValue(){return this.storageService.get(this.options.viewContainersWorkspaceStateKey,td.StorageScope.WORKSPACE,"[]")}setStoredViewContainersWorkspaceStateValue(e){this.storageService.store(this.options.viewContainersWorkspaceStateKey,e,td.StorageScope.WORKSPACE,td.StorageTarget.MACHINE)}};hX=(0,Y.__decorate)([(0,Y.__param)(3,eC.IInstantiationService),(0,Y.__param)(4,tc.IStorageService),(0,Y.__param)(5,er.IExtensionService),(0,Y.__param)(6,dY.IViewDescriptorService),(0,Y.__param)(7,dZ.IViewsService),(0,Y.__param)(8,ev.IContextKeyService),(0,Y.__param)(9,hL.IWorkbenchEnvironmentService),(0,Y.__param)(10,e4.IWorkbenchLayoutService)],hX);let hJ=class extends uc{static{q=this}static{this.preventDoubleClickDelay=300}constructor(e,t,i,o,n,r,s){super(e),this.part=t,this.paneCompositePart=i,this.layoutService=o,this.telemetryService=n,this.configurationService=r,this.activityService=s,this.lastRun=0,this.updateActivity(),this._register(this.activityService.onDidChangeActivity(e=>{(0,ih.isString)(e)||e.id!==this.compositeBarActionItem.id||this.updateActivity()}))}updateCompositeBarActionItem(e){this.compositeBarActionItem=e}updateActivity(){let e=this.activityService.getViewContainerActivities(this.compositeBarActionItem.id);this.activity=e[0]}async run(e){if((0,el.isMouseEvent)(e)&&2===e.button)return;let t=Date.now();if(t>this.lastRun&&t-this.lastRun<q.preventDoubleClickDelay)return;this.lastRun=t;let i=!e||!("preserveFocus"in e)||!e.preserveFocus;if(this.part===cT.Parts.ACTIVITYBAR_PART){let e=this.layoutService.isVisible(cT.Parts.SIDEBAR_PART),t=this.paneCompositePart.getActivePaneComposite(),o=this.configurationService.getValue("workbench.activityBar.iconClickBehavior");if(e&&t?.getId()===this.compositeBarActionItem.id)return void("focus"===o?(this.logAction("refocus"),this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id,i)):(this.logAction("hide"),this.layoutService.setPartHidden(!0,cT.Parts.SIDEBAR_PART)));this.logAction("show")}return await this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id,i),this.activate()}logAction(e){this.telemetryService.publicLog2("activityBarAction",{viewletId:this.compositeBarActionItem.id,action:e})}};hJ=q=(0,Y.__decorate)([(0,Y.__param)(3,e4.IWorkbenchLayoutService),(0,Y.__param)(4,nn.ITelemetryService),(0,Y.__param)(5,es.IConfigurationService),(0,Y.__param)(6,hH.IActivityService)],hJ);class h0 extends hJ{}class h1 extends u_{constructor(e,t){super({id:e,name:e,classNames:void 0},t)}setActivity(e){this.label=e.name}}class h2 extends uf{constructor(e,t){super({id:e,name:e,classNames:void 0},t)}setCompositeBarActionItem(e){this.label=e.name}}e.s(["PaneCompositeBar",()=>hX],877999);var h3=e.i(147502),h5=Z,h4=e.i(110284),h6=e.i(796635),h8=e.i(795519),h9=e.i(559813),h7=e.i(604058);let pe=(0,nw.registerIcon)("settings-view-bar-icon",tP.Codicon.settingsGear,(0,J.localize)(12047,"Settings icon in the view bar."));tP.Codicon.vm,tP.Codicon.server,tP.Codicon.recordKeys,tP.Codicon.deviceMobile,tP.Codicon.watch,tP.Codicon.vr,tP.Codicon.piano,tP.Codicon.ruby,tP.Codicon.code,tP.Codicon.coffee,tP.Codicon.snake,tP.Codicon.project,tP.Codicon.window,tP.Codicon.library,tP.Codicon.extensions,tP.Codicon.terminal,tP.Codicon.terminalDebian,tP.Codicon.terminalLinux,tP.Codicon.terminalUbuntu,tP.Codicon.beaker,tP.Codicon.package,tP.Codicon.cloud,tP.Codicon.book,tP.Codicon.globe,tP.Codicon.database,tP.Codicon.notebook,tP.Codicon.robot,tP.Codicon.game,tP.Codicon.chip,tP.Codicon.music,tP.Codicon.remoteExplorer,tP.Codicon.github,tP.Codicon.azure,tP.Codicon.vscode,tP.Codicon.copilot,tP.Codicon.gift,tP.Codicon.send,tP.Codicon.bookmark,tP.Codicon.briefcase,tP.Codicon.megaphone,tP.Codicon.comment,tP.Codicon.telescope,tP.Codicon.creditCard,tP.Codicon.map,tP.Codicon.deviceCameraVideo,tP.Codicon.unmute,tP.Codicon.law,tP.Codicon.graphLine,tP.Codicon.heart,tP.Codicon.home,tP.Codicon.inbox,tP.Codicon.mortarBoard,tP.Codicon.rocket,tP.Codicon.magnet,tP.Codicon.lock,tP.Codicon.milestone,tP.Codicon.tag,tP.Codicon.pulse,tP.Codicon.radioTower,tP.Codicon.smiley,tP.Codicon.zap,tP.Codicon.squirrel,tP.Codicon.symbolColor,tP.Codicon.mail,tP.Codicon.key,tP.Codicon.pieChart,tP.Codicon.organization,tP.Codicon.preview,tP.Codicon.wand,tP.Codicon.starEmpty,tP.Codicon.lightbulb,tP.Codicon.symbolRuler,tP.Codicon.dashboard,tP.Codicon.calendar,tP.Codicon.shield,tP.Codicon.verified,tP.Codicon.debug,tP.Codicon.flame,tP.Codicon.compass,tP.Codicon.paintcan,tP.Codicon.archive,tP.Codicon.mic,tP.Codicon.jersey;let pt=class extends h5.Disposable{static{$=this}static{this.ACCOUNTS_ACTION_INDEX=0}static{this.ACCOUNTS_ICON=(0,nw.registerIcon)("accounts-view-bar-icon",tP.Codicon.account,(0,J.localize)(3200,"Accounts icon in the view bar."))}constructor(e,t,i,o,n,r,s){super(),this.contextMenuActionsProvider=e,this.colors=t,this.activityHoverOptions=i,this.instantiationService=n,this.storageService=r,this.extensionService=s,this.globalActivityAction=this._register(new e5.Action(h3.GLOBAL_ACTIVITY_ID)),this.accountAction=this._register(new e5.Action(h3.ACCOUNTS_ACTIVITY_ID)),this.element=document.createElement("div");const a=()=>({anchorAlignment:"left"===o.getValue("workbench.sideBar.location")?h4.AnchorAlignment.RIGHT:h4.AnchorAlignment.LEFT,anchorAxisAlignment:h4.AnchorAxisAlignment.HORIZONTAL});this.globalActivityActionBar=this._register(new lx.ActionBar(this.element,{actionViewItemProvider:(e,t)=>{if(e.id===h3.GLOBAL_ACTIVITY_ID)return this.instantiationService.createInstance(pn,this.contextMenuActionsProvider,{...t,colors:this.colors,hoverOptions:this.activityHoverOptions},a);if(e.id===h3.ACCOUNTS_ACTIVITY_ID)return this.instantiationService.createInstance(po,this.contextMenuActionsProvider,{...t,colors:this.colors,hoverOptions:this.activityHoverOptions},a,e=>{e.unshift((0,e5.toAction)({id:"hideAccounts",label:(0,J.localize)(3201,"Hide Accounts"),run:()=>pd(r,!1)}),new e5.Separator)});throw Error(`No view item for action '${e.id}'`)},orientation:lx.ActionsOrientation.VERTICAL,ariaLabel:(0,J.localize)(3202,"Manage"),preventLoopNavigation:!0})),this.accountsVisibilityPreference&&this.globalActivityActionBar.push(this.accountAction,{index:$.ACCOUNTS_ACTION_INDEX}),this.globalActivityActionBar.push(this.globalActivityAction),this.registerListeners()}registerListeners(){this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this._store.isDisposed||this._register(this.storageService.onDidChangeValue(td.StorageScope.PROFILE,po.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,this._store)(()=>this.toggleAccountsActivity()))})}create(e){e.appendChild(this.element)}focus(){this.globalActivityActionBar.focus(!0)}size(){return this.globalActivityActionBar.viewItems.length}getContextMenuActions(){return[(0,e5.toAction)({id:"toggleAccountsVisibility",label:(0,J.localize)(3203,"Accounts"),checked:this.accountsVisibilityPreference,run:()=>this.accountsVisibilityPreference=!this.accountsVisibilityPreference})]}toggleAccountsActivity(){2===this.globalActivityActionBar.length()&&this.accountsVisibilityPreference||(2===this.globalActivityActionBar.length()?this.globalActivityActionBar.pull($.ACCOUNTS_ACTION_INDEX):this.globalActivityActionBar.push(this.accountAction,{index:$.ACCOUNTS_ACTION_INDEX}))}get accountsVisibilityPreference(){return pl(this.storageService)}set accountsVisibilityPreference(e){pd(this.storageService,e)}};pt=$=(0,Y.__decorate)([(0,Y.__param)(3,es.IConfigurationService),(0,Y.__param)(4,eC.IInstantiationService),(0,Y.__param)(5,tc.IStorageService),(0,Y.__param)(6,er.IExtensionService)],pt);let pi=class extends uu{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h){super(t,{draggable:!1,icon:!0,hasPopup:!0,...i},()=>!0,r,s,c,u),this.menuId=e,this.contextMenuActionsProvider=o,this.contextMenuAlignmentOptions=n,this.menuService=a,this.contextMenuService=l,this.contextKeyService=d,this.activityService=h,this.updateItemActivity(),this._register(this.activityService.onDidChangeActivity(e=>{(0,ih.isString)(e)&&e===this.compositeBarActionItem.id&&this.updateItemActivity()}))}updateItemActivity(){let e=this.activityService.getActivity(this.compositeBarActionItem.id),t=e[0];if(t){let{badge:i,priority:o}=t;i instanceof un.NumberBadge&&e.length>1&&(t={badge:this.getCumulativeNumberBadge(e,o??0)})}this.action.activity=t}getCumulativeNumberBadge(e,t){let i=e.filter(e=>e.badge instanceof un.NumberBadge&&(e.priority??0)===t),o=i.reduce((e,t)=>e+t.badge.number,0);return new un.NumberBadge(o,()=>i.reduce((e,t,o)=>(e+=t.badge.getDescription(),o<i.length-1&&(e=`${e}
`),e),""))}render(e){super.render(e),this._register((0,el.addDisposableListener)(this.container,el.EventType.MOUSE_DOWN,async e=>{el.EventHelper.stop(e,!0),e?.button!==2&&this.run()})),this._register((0,el.addDisposableListener)(this.container,el.EventType.CONTEXT_MENU,async e=>{e.stopPropagation();let t=new h5.DisposableStore,i=await this.resolveContextMenuActions(t),o=new e7.StandardMouseEvent((0,el.getWindow)(this.container),e);this.contextMenuService.showContextMenu({getAnchor:()=>o,getActions:()=>i,onHide:()=>t.dispose()})})),this._register((0,el.addDisposableListener)(this.container,el.EventType.KEY_UP,e=>{let t=new ts.StandardKeyboardEvent(e);(t.equals(ec.KeyCode.Enter)||t.equals(ec.KeyCode.Space))&&(el.EventHelper.stop(e,!0),this.run())})),this._register((0,el.addDisposableListener)(this.container,hT.EventType.Tap,e=>{el.EventHelper.stop(e,!0),this.run()}))}async resolveContextMenuActions(e){return this.contextMenuActionsProvider()}async run(){let e=new h5.DisposableStore,t=e.add(this.menuService.createMenu(this.menuId,this.contextKeyService)),i=await this.resolveMainMenuActions(t,e),{anchorAlignment:o,anchorAxisAlignment:n}=this.contextMenuAlignmentOptions()??{anchorAlignment:void 0,anchorAxisAlignment:void 0};this.contextMenuService.showContextMenu({getAnchor:()=>this.label,anchorAlignment:o,anchorAxisAlignment:n,getActions:()=>i,onHide:()=>e.dispose(),menuActionOptions:{renderShortTitle:!0}})}async resolveMainMenuActions(e,t){return(0,nk.getActionBarActions)(e.getActions({renderShortTitle:!0})).secondary}};pi=(0,Y.__decorate)([(0,Y.__param)(5,iq.IThemeService),(0,Y.__param)(6,iZ.IHoverService),(0,Y.__param)(7,nA.IMenuService),(0,Y.__param)(8,eJ.IContextMenuService),(0,Y.__param)(9,ev.IContextKeyService),(0,Y.__param)(10,es.IConfigurationService),(0,Y.__param)(11,eM.IKeybindingService),(0,Y.__param)(12,hH.IActivityService)],pi);let po=class extends pi{static{this.ACCOUNTS_VISIBILITY_PREFERENCE_KEY="workbench.activity.showAccounts"}constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g,m,_,f,y,v){const C=y.createInstance(uc,{id:h3.ACCOUNTS_ACTIVITY_ID,name:(0,J.localize)(3203,"Accounts"),classNames:rD.ThemeIcon.asClassNameArray(pt.ACCOUNTS_ICON)});super(em.MenuId.AccountsContext,C,t,e,i,n,s,l,a,d,p,g,f),this.fillContextMenuActions=o,this.lifecycleService=r,this.authenticationService=c,this.productService=h,this.secretStorageService=m,this.logService=_,this.commandService=v,this.groupedAccounts=new Map,this.problematicProviders=new Set,this.initialized=!1,this.sessionFromEmbedder=new te.Lazy(()=>(0,h8.getCurrentAuthenticationSessionInfo)(this.secretStorageService,this.productService)),this._register(C),this.registerListeners(),this.initialize()}registerListeners(){this._register(this.authenticationService.onDidRegisterAuthenticationProvider(async e=>{await this.addAccountsFromProvider(e.id)})),this._register(this.authenticationService.onDidUnregisterAuthenticationProvider(e=>{this.groupedAccounts.delete(e.id),this.problematicProviders.delete(e.id)})),this._register(this.authenticationService.onDidChangeSessions(async e=>{if(e.event.removed)for(let t of e.event.removed)this.removeAccount(e.providerId,t.account);for(let t of[...e.event.changed??[],...e.event.added??[]])try{await this.addOrUpdateAccount(e.providerId,t.account)}catch(e){this.logService.error(e)}}))}async initialize(){if(await this.lifecycleService.when(en.LifecyclePhase.Restored),this._store.isDisposed)return;let e=this._register((0,el.runWhenWindowIdle)((0,el.getWindow)(this.element),async()=>{await this.doInitialize(),e.dispose()}))}async doInitialize(){let e=this.authenticationService.getProviderIds();for(let t of(await Promise.allSettled(e.map(e=>this.addAccountsFromProvider(e)))))"rejected"===t.status&&this.logService.error(t.reason);this.initialized=!0}async resolveMainMenuActions(e,t){await super.resolveMainMenuActions(e,t);let i=this.authenticationService.getProviderIds(),o=e.getActions(),n=[];for(let e of i){if(!this.initialized){let e=t.add(new e5.Action("noAccountsAvailable",(0,J.localize)(3204,"Loading..."),void 0,!1));n.push(e);break}let i=this.authenticationService.getProvider(e).label,o=this.groupedAccounts.get(e);if(!o){if(this.problematicProviders.has(e)){let o=t.add(new e5.Action("providerUnavailable",(0,J.localize)(3205,"{0} is currently unavailable",i),void 0,!1));n.push(o);try{await this.addAccountsFromProvider(e)}catch(e){this.logService.error(e)}}continue}for(let t of o){let o=[(0,e5.toAction)({id:`configureSessions${t.label}`,label:(0,J.localize)(3206,"Manage Trusted Extensions"),enabled:!0,run:()=>this.commandService.executeCommand("_manageTrustedExtensionsForAccount",{providerId:e,accountLabel:t.label})})];t.canSignOut&&o.push((0,e5.toAction)({id:"signOut",label:(0,J.localize)(3207,"Sign Out"),enabled:!0,run:()=>this.commandService.executeCommand("_signOutOfAccount",{providerId:e,accountLabel:t.label})}));let r=new e5.SubmenuAction("activitybar.submenu",`${t.label} (${i})`,o);n.push(r)}}if(i.length&&!n.length){let e=t.add(new e5.Action("noAccountsAvailable",(0,J.localize)(3208,"You are not signed in to any accounts"),void 0,!1));n.push(e)}return n.length&&o.length&&n.push(new e5.Separator),o.forEach((e,t)=>{let i=e[1];n=n.concat(i),t!==o.length-1&&n.push(new e5.Separator)}),n}async resolveContextMenuActions(e){let t=await super.resolveContextMenuActions(e);return this.fillContextMenuActions(t),t}async addOrUpdateAccount(e,t){let i=this.groupedAccounts.get(e);i||(i=[],this.groupedAccounts.set(e,i));let o=await this.sessionFromEmbedder.value,n=!0;o&&!o.canSignOut&&(await this.authenticationService.getSessions(e)).some(e=>e.id===o.id&&e.account.id===t.id)&&(n=!1);let r=i.find(e=>e.label===t.label);r?n||(r.canSignOut=n):i.push({...t,canSignOut:n})}removeAccount(e,t){let i=this.groupedAccounts.get(e);if(!i)return;let o=i.findIndex(e=>e.id===t.id);-1!==o&&(i.splice(o,1),0===i.length&&this.groupedAccounts.delete(e))}async addAccountsFromProvider(e){try{let t=await this.authenticationService.getSessions(e);for(let i of(this.problematicProviders.delete(e),t))try{await this.addOrUpdateAccount(e,i.account)}catch(e){this.logService.error(e)}}catch(t){this.logService.error(t),this.problematicProviders.add(e)}}};po=(0,Y.__decorate)([(0,Y.__param)(4,iq.IThemeService),(0,Y.__param)(5,h7.ILifecycleService),(0,Y.__param)(6,iZ.IHoverService),(0,Y.__param)(7,eJ.IContextMenuService),(0,Y.__param)(8,nA.IMenuService),(0,Y.__param)(9,ev.IContextKeyService),(0,Y.__param)(10,h9.IAuthenticationService),(0,Y.__param)(11,hL.IWorkbenchEnvironmentService),(0,Y.__param)(12,dA.IProductService),(0,Y.__param)(13,es.IConfigurationService),(0,Y.__param)(14,eM.IKeybindingService),(0,Y.__param)(15,h6.ISecretStorageService),(0,Y.__param)(16,th.ILogService),(0,Y.__param)(17,hH.IActivityService),(0,Y.__param)(18,eC.IInstantiationService),(0,Y.__param)(19,iT.ICommandService)],po);let pn=class extends pi{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){const g=h.createInstance(uc,{id:h3.GLOBAL_ACTIVITY_ID,name:(0,J.localize)(3202,"Manage"),classNames:rD.ThemeIcon.asClassNameArray(o.currentProfile.icon?rD.ThemeIcon.fromId(o.currentProfile.icon):pe)});super(em.MenuId.GlobalActivity,g,t,e,i,n,r,s,a,l,d,u,p),this.userDataProfileService=o,this._register(g),this._register(this.userDataProfileService.onDidChangeCurrentProfile(e=>{g.compositeBarActionItem={...g.compositeBarActionItem,classNames:rD.ThemeIcon.asClassNameArray(o.currentProfile.icon?rD.ThemeIcon.fromId(o.currentProfile.icon):pe)}}))}render(e){super.render(e),this.profileBadge=(0,el.append)(e,(0,el.$)(".profile-badge")),this.profileBadgeContent=(0,el.append)(this.profileBadge,(0,el.$)(".profile-badge-content")),this.updateProfileBadge()}updateProfileBadge(){!this.profileBadge||!this.profileBadgeContent||((0,el.clearNode)(this.profileBadgeContent),(0,el.hide)(this.profileBadge),this.userDataProfileService.currentProfile.isDefault||this.userDataProfileService.currentProfile.icon&&this.userDataProfileService.currentProfile.icon!==pe.id||this.action.activity||((0,el.show)(this.profileBadge),this.profileBadgeContent.classList.add("profile-text-overlay"),this.profileBadgeContent.textContent=this.userDataProfileService.currentProfile.name.substring(0,2).toUpperCase()))}updateActivity(){super.updateActivity(),this.updateProfileBadge()}computeTitle(){return this.userDataProfileService.currentProfile.isDefault?super.computeTitle():(0,J.localize)(3209,"Manage {0} (Profile)",this.userDataProfileService.currentProfile.name)}};pn=(0,Y.__decorate)([(0,Y.__param)(3,tb.IUserDataProfileService),(0,Y.__param)(4,iq.IThemeService),(0,Y.__param)(5,iZ.IHoverService),(0,Y.__param)(6,nA.IMenuService),(0,Y.__param)(7,eJ.IContextMenuService),(0,Y.__param)(8,ev.IContextKeyService),(0,Y.__param)(9,es.IConfigurationService),(0,Y.__param)(10,hL.IWorkbenchEnvironmentService),(0,Y.__param)(11,eM.IKeybindingService),(0,Y.__param)(12,eC.IInstantiationService),(0,Y.__param)(13,hH.IActivityService)],pn);let pr=class extends po{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p,g,m,_,f,y){super(()=>pa(g,!0),{...t,colors:e=>({badgeBackground:e.getColor(hE.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(hE.ACTIVITY_BAR_BADGE_FOREGROUND)}),hoverOptions:e,compact:!0},()=>void 0,e=>e,i,o,n,r,s,a,l,d,c,u,h,p,m,_,f,y)}};pr=(0,Y.__decorate)([(0,Y.__param)(2,iq.IThemeService),(0,Y.__param)(3,h7.ILifecycleService),(0,Y.__param)(4,iZ.IHoverService),(0,Y.__param)(5,eJ.IContextMenuService),(0,Y.__param)(6,nA.IMenuService),(0,Y.__param)(7,ev.IContextKeyService),(0,Y.__param)(8,h9.IAuthenticationService),(0,Y.__param)(9,hL.IWorkbenchEnvironmentService),(0,Y.__param)(10,dA.IProductService),(0,Y.__param)(11,es.IConfigurationService),(0,Y.__param)(12,eM.IKeybindingService),(0,Y.__param)(13,h6.ISecretStorageService),(0,Y.__param)(14,tc.IStorageService),(0,Y.__param)(15,th.ILogService),(0,Y.__param)(16,hH.IActivityService),(0,Y.__param)(17,eC.IInstantiationService),(0,Y.__param)(18,iT.ICommandService)],pr);let ps=class extends pn{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super(()=>pa(p,!1),{...t,colors:e=>({badgeBackground:e.getColor(hE.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(hE.ACTIVITY_BAR_BADGE_FOREGROUND)}),hoverOptions:e,compact:!0},()=>void 0,i,o,n,r,s,a,l,d,c,u,h)}};function pa(e,t){let i=[];return t&&i.push((0,e5.toAction)({id:"hideAccounts",label:(0,J.localize)(3201,"Hide Accounts"),run:()=>pd(e,!1)}),new e5.Separator),[...i,(0,e5.toAction)({id:"toggle.hideAccounts",label:(0,J.localize)(3203,"Accounts"),checked:pl(e),run:()=>pd(e,!pl(e))}),(0,e5.toAction)({id:"toggle.hideManage",label:(0,J.localize)(3202,"Manage"),checked:!0,enabled:!1,run:()=>{throw Error('"Manage" can not be hidden')}})]}function pl(e){return e.getBoolean(po.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,td.StorageScope.PROFILE,!0)}function pd(e,t){e.store(po.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,t,td.StorageScope.PROFILE,td.StorageTarget.USER)}ps=(0,Y.__decorate)([(0,Y.__param)(2,tb.IUserDataProfileService),(0,Y.__param)(3,iq.IThemeService),(0,Y.__param)(4,iZ.IHoverService),(0,Y.__param)(5,nA.IMenuService),(0,Y.__param)(6,eJ.IContextMenuService),(0,Y.__param)(7,ev.IContextKeyService),(0,Y.__param)(8,es.IConfigurationService),(0,Y.__param)(9,hL.IWorkbenchEnvironmentService),(0,Y.__param)(10,eM.IKeybindingService),(0,Y.__param)(11,eC.IInstantiationService),(0,Y.__param)(12,hH.IActivityService),(0,Y.__param)(13,tc.IStorageService)],ps);var pc=em;let pu=class extends c8{static{j=this}static{this.ACTION_HEIGHT=48}static{this.pinnedViewContainersKey="workbench.activity.pinnedViewlets2"}static{this.placeholderViewContainersKey="workbench.activity.placeholderViewlets"}static{this.viewContainersWorkspaceStateKey="workbench.activity.viewletsWorkspaceState"}constructor(e,t,i,o,n){super(cT.Parts.ACTIVITYBAR_PART,{hasTitle:!1},o,n,i),this.paneCompositePart=e,this.instantiationService=t,this.minimumWidth=48,this.maximumWidth=48,this.minimumHeight=0,this.maximumHeight=1/0,this.compositeBar=this._register(new Z.MutableDisposable)}createCompositeBar(){return this.instantiationService.createInstance(ph,{partContainerClass:"activitybar",pinnedViewContainersKey:j.pinnedViewContainersKey,placeholderViewContainersKey:j.placeholderViewContainersKey,viewContainersWorkspaceStateKey:j.viewContainersWorkspaceStateKey,orientation:lx.ActionsOrientation.VERTICAL,icon:!0,iconSize:24,activityHoverOptions:{position:()=>this.layoutService.getSideBarPosition()===cT.Position.LEFT?hB.HoverPosition.RIGHT:hB.HoverPosition.LEFT},preventLoopNavigation:!0,recomputeSizes:!1,fillExtraContextMenuActions:(e,t)=>{},compositeSize:52,colors:e=>({activeForegroundColor:e.getColor(hE.ACTIVITY_BAR_FOREGROUND),inactiveForegroundColor:e.getColor(hE.ACTIVITY_BAR_INACTIVE_FOREGROUND),activeBorderColor:e.getColor(hE.ACTIVITY_BAR_ACTIVE_BORDER),activeBackground:e.getColor(hE.ACTIVITY_BAR_ACTIVE_BACKGROUND),badgeBackground:e.getColor(hE.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(hE.ACTIVITY_BAR_BADGE_FOREGROUND),dragAndDropBorder:e.getColor(hE.ACTIVITY_BAR_DRAG_AND_DROP_BORDER),activeBackgroundColor:void 0,inactiveBackgroundColor:void 0,activeBorderBottomColor:void 0}),overflowActionSize:j.ACTION_HEIGHT},cT.Parts.ACTIVITYBAR_PART,this.paneCompositePart,!0)}createContentArea(e){return this.element=e,this.content=(0,el.append)(this.element,(0,el.$)(".content")),this.layoutService.isVisible(cT.Parts.ACTIVITYBAR_PART)&&this.show(),this.content}getPinnedPaneCompositeIds(){return this.compositeBar.value?.getPinnedPaneCompositeIds()??[]}getVisiblePaneCompositeIds(){return this.compositeBar.value?.getVisiblePaneCompositeIds()??[]}getPaneCompositeIds(){return this.compositeBar.value?.getPaneCompositeIds()??[]}focus(){this.compositeBar.value?.focus()}updateStyles(){super.updateStyles();let e=(0,ih.assertIsDefined)(this.getContainer()),t=this.getColor(hE.ACTIVITY_BAR_BACKGROUND)||"";e.style.backgroundColor=t;let i=this.getColor(hE.ACTIVITY_BAR_BORDER)||this.getColor(nR.contrastBorder)||"";e.classList.toggle("bordered",!!i),e.style.borderColor=i||""}show(e){this.content&&(!this.compositeBar.value&&(this.compositeBar.value=this.createCompositeBar(),this.compositeBar.value.create(this.content),this.dimension&&this.layout(this.dimension.width,this.dimension.height)),e&&this.focus())}hide(){this.compositeBar.value&&(this.compositeBar.clear(),this.content&&(0,el.clearNode)(this.content))}layout(e,t){if(super.layout(e,t,0,0),!this.compositeBar.value)return;let i=super.layoutContents(e,t).contentSize;this.compositeBar.value.layout(e,i.height)}toJSON(){return{type:cT.Parts.ACTIVITYBAR_PART}}};pu=j=(0,Y.__decorate)([(0,Y.__param)(1,eC.IInstantiationService),(0,Y.__param)(2,e4.IWorkbenchLayoutService),(0,Y.__param)(3,iq.IThemeService),(0,Y.__param)(4,tc.IStorageService)],pu);let ph=class extends hX{constructor(e,t,i,o,n,r,s,a,l,d,c,u,h,p){super({...e,fillExtraContextMenuActions:(t,i)=>{e.fillExtraContextMenuActions(t,i),this.fillContextMenuActions(t,i)}},t,i,n,r,s,a,l,d,c,p),this.configurationService=u,this.menuService=h,this.keyboardNavigationDisposables=this._register(new Z.DisposableStore),o&&(this.globalCompositeBar=this._register(n.createInstance(pt,()=>this.getContextMenuActions(),e=>this.options.colors(e),this.options.activityHoverOptions))),this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("window.menuBarVisibility")&&("compact"===(0,uV.getMenuBarVisibility)(this.configurationService)?this.installMenubar():this.uninstallMenubar())}))}fillContextMenuActions(e,t){let i=(0,uV.getMenuBarVisibility)(this.configurationService);("compact"===i||"hidden"===i||"toggle"===i)&&e.unshift((0,e5.toAction)({id:"toggleMenuVisibility",label:(0,J.localize)(2696,"Menu"),checked:"compact"===i,run:()=>this.configurationService.updateValue("window.menuBarVisibility","compact"===i?"toggle":"compact")}),new e5.Separator),"compact"===i&&this.menuBarContainer&&t?.target&&(0,el.isAncestor)(t.target,this.menuBarContainer)&&e.unshift((0,e5.toAction)({id:"hideCompactMenu",label:(0,J.localize)(2697,"Hide Menu"),run:()=>this.configurationService.updateValue("window.menuBarVisibility","toggle")}),new e5.Separator),this.globalCompositeBar&&(e.push(new e5.Separator),e.push(...this.globalCompositeBar.getContextMenuActions())),e.push(new e5.Separator),e.push(...this.getActivityBarContextMenuActions())}uninstallMenubar(){this.menuBar&&(this.menuBar.dispose(),this.menuBar=void 0),this.menuBarContainer&&(this.menuBarContainer.remove(),this.menuBarContainer=void 0)}installMenubar(){this.menuBar||(this.menuBarContainer=document.createElement("div"),this.menuBarContainer.classList.add("menubar"),(0,ih.assertIsDefined)(this.element).prepend(this.menuBarContainer),this.menuBar=this._register(this.instantiationService.createInstance(hV)),this.menuBar.create(this.menuBarContainer))}registerKeyboardNavigationListeners(){this.keyboardNavigationDisposables.clear(),this.menuBarContainer&&this.keyboardNavigationDisposables.add((0,el.addDisposableListener)(this.menuBarContainer,el.EventType.KEY_DOWN,e=>{let t=new ts.StandardKeyboardEvent(e);(t.equals(ec.KeyCode.DownArrow)||t.equals(ec.KeyCode.RightArrow))&&this.focus()})),this.compositeBarContainer&&this.keyboardNavigationDisposables.add((0,el.addDisposableListener)(this.compositeBarContainer,el.EventType.KEY_DOWN,e=>{let t=new ts.StandardKeyboardEvent(e);t.equals(ec.KeyCode.DownArrow)||t.equals(ec.KeyCode.RightArrow)?this.globalCompositeBar?.focus():(t.equals(ec.KeyCode.UpArrow)||t.equals(ec.KeyCode.LeftArrow))&&this.menuBar?.toggleFocus()})),this.globalCompositeBar&&this.keyboardNavigationDisposables.add((0,el.addDisposableListener)(this.globalCompositeBar.element,el.EventType.KEY_DOWN,e=>{let t=new ts.StandardKeyboardEvent(e);(t.equals(ec.KeyCode.UpArrow)||t.equals(ec.KeyCode.LeftArrow))&&this.focus(this.getVisiblePaneCompositeIds().length-1)}))}create(e){return this.element=e,"compact"===(0,uV.getMenuBarVisibility)(this.configurationService)&&this.installMenubar(),this.compositeBarContainer=super.create(this.element),this.globalCompositeBar&&this.globalCompositeBar.create(this.element),this.registerKeyboardNavigationListeners(),this.compositeBarContainer}layout(e,t){this.menuBarContainer&&(this.options.orientation===lx.ActionsOrientation.VERTICAL?t-=this.menuBarContainer.clientHeight:e-=this.menuBarContainer.clientWidth),this.globalCompositeBar&&(this.options.orientation===lx.ActionsOrientation.VERTICAL?t-=this.globalCompositeBar.size()*pu.ACTION_HEIGHT:e-=this.globalCompositeBar.element.clientWidth),super.layout(e,t)}getActivityBarContextMenuActions(){let e=this.menuService.getMenuActions(pc.MenuId.ActivityBarPositionMenu,this.contextKeyService,{shouldForwardArgs:!0,renderShortTitle:!0}),t=(0,nk.getContextMenuActions)(e).secondary;return[new e5.SubmenuAction("workbench.action.panel.position",(0,J.localize)(2698,"Activity Bar Position"),t),(0,e5.toAction)({id:u8.ID,label:u8.getLabel(this.layoutService),run:()=>this.instantiationService.invokeFunction(e=>new u8().run(e))})]}};ph=(0,Y.__decorate)([(0,Y.__param)(4,eC.IInstantiationService),(0,Y.__param)(5,tc.IStorageService),(0,Y.__param)(6,er.IExtensionService),(0,Y.__param)(7,dY.IViewDescriptorService),(0,Y.__param)(8,dZ.IViewsService),(0,Y.__param)(9,ev.IContextKeyService),(0,Y.__param)(10,hL.IWorkbenchEnvironmentService),(0,Y.__param)(11,es.IConfigurationService),(0,Y.__param)(12,nA.IMenuService),(0,Y.__param)(13,e4.IWorkbenchLayoutService)],ph),(0,pc.registerAction2)(class extends pc.Action2{constructor(){super({id:"workbench.action.activityBarLocation.default",title:{...(0,J.localize2)(2699,"Move Activity Bar to Side"),mnemonicTitle:(0,J.localize)(2700,"&&Default")},shortTitle:(0,J.localize)(2701,"Default"),category:tg.Categories.View,toggled:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.DEFAULT),menu:[{id:pc.MenuId.ActivityBarPositionMenu,order:1},{id:pc.MenuId.CommandPalette,when:ey.ContextKeyExpr.notEquals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.DEFAULT)}]})}run(e){e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.ACTIVITY_BAR_LOCATION,cT.ActivityBarPosition.DEFAULT)}}),(0,pc.registerAction2)(class extends pc.Action2{constructor(){super({id:"workbench.action.activityBarLocation.top",title:{...(0,J.localize2)(2702,"Move Activity Bar to Top"),mnemonicTitle:(0,J.localize)(2703,"&&Top")},shortTitle:(0,J.localize)(2704,"Top"),category:tg.Categories.View,toggled:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.TOP),menu:[{id:pc.MenuId.ActivityBarPositionMenu,order:2},{id:pc.MenuId.CommandPalette,when:ey.ContextKeyExpr.notEquals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.TOP)}]})}run(e){e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.ACTIVITY_BAR_LOCATION,cT.ActivityBarPosition.TOP)}}),(0,pc.registerAction2)(class extends pc.Action2{constructor(){super({id:"workbench.action.activityBarLocation.bottom",title:{...(0,J.localize2)(2705,"Move Activity Bar to Bottom"),mnemonicTitle:(0,J.localize)(2706,"&&Bottom")},shortTitle:(0,J.localize)(2707,"Bottom"),category:tg.Categories.View,toggled:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.BOTTOM),menu:[{id:pc.MenuId.ActivityBarPositionMenu,order:3},{id:pc.MenuId.CommandPalette,when:ey.ContextKeyExpr.notEquals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.BOTTOM)}]})}run(e){e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.ACTIVITY_BAR_LOCATION,cT.ActivityBarPosition.BOTTOM)}}),(0,pc.registerAction2)(class extends pc.Action2{constructor(){super({id:"workbench.action.activityBarLocation.hide",title:{...(0,J.localize2)(2708,"Hide Activity Bar"),mnemonicTitle:(0,J.localize)(2709,"&&Hidden")},shortTitle:(0,J.localize)(2710,"Hidden"),category:tg.Categories.View,toggled:ey.ContextKeyExpr.equals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.HIDDEN),menu:[{id:pc.MenuId.ActivityBarPositionMenu,order:4},{id:pc.MenuId.CommandPalette,when:ey.ContextKeyExpr.notEquals(`config.${cT.LayoutSettings.ACTIVITY_BAR_LOCATION}`,cT.ActivityBarPosition.HIDDEN)}]})}run(e){e.get(es.IConfigurationService).updateValue(cT.LayoutSettings.ACTIVITY_BAR_LOCATION,cT.ActivityBarPosition.HIDDEN)}}),(0,pc.registerAction2)(class extends uy{constructor(){super({id:"workbench.action.previousSideBarView",title:(0,J.localize2)(2712,"Previous Primary Side Bar View"),category:tg.Categories.View,f1:!0},dQ.ViewContainerLocation.Sidebar,-1)}}),(0,pc.registerAction2)(class extends uy{constructor(){super({id:"workbench.action.nextSideBarView",title:(0,J.localize2)(2713,"Next Primary Side Bar View"),category:tg.Categories.View,f1:!0},dQ.ViewContainerLocation.Sidebar,1)}}),(0,pc.registerAction2)(class extends pc.Action2{constructor(){super({id:"workbench.action.focusActivityBar",title:(0,J.localize2)(2714,"Focus Activity Bar"),category:tg.Categories.View,f1:!0})}async run(e){e.get(e4.IWorkbenchLayoutService).focusPart(cT.Parts.ACTIVITYBAR_PART)}}),(0,rv.registerThemingParticipant)((e,t)=>{let i=e.getColor(hE.ACTIVITY_BAR_ACTIVE_BORDER);i&&t.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator:before {
				border-left-color: ${i};
			}
		`);let o=e.getColor(hE.ACTIVITY_BAR_ACTIVE_FOCUS_BORDER);o&&t.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus::before {
				visibility: hidden;
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus .active-item-indicator:before {
				visibility: visible;
				border-left-color: ${o};
			}
		`);let n=e.getColor(hE.ACTIVITY_BAR_ACTIVE_BACKGROUND);n&&t.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator {
				z-index: 0;
				background-color: ${n};
			}
		`);let r=e.getColor(nR.activeContrastBorder);if(r)t.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item .action-label::before{
				padding: 6px;
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active:hover .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:hover .action-label::before {
				outline: 1px solid ${r};
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:hover .action-label::before {
				outline: 1px dashed ${r};
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator:before {
				border-left-color: ${r};
			}
		`);else{let i=e.getColor(nR.focusBorder);i&&t.addRule(`
				.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator::before {
						border-left-color: ${i};
					}
				`)}}),e.s(["ActivityBarCompositeBar",()=>ph,"ActivitybarPart",()=>pu],266264);var pp=e.i(595156),pg=Z,pm=e.i(370769),p_=e.i(288265),pf=e.i(437780);class py extends pg.Disposable{constructor(e=(0,c3.getWorkbenchContainer)()){super(),this.mainContainer=e,this.setSize=pf.unsupported,this.onDidChangeMainEditorCenteredLayout=eE.Event.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this._onDidLayoutContainer=this._register(new eE.Emitter),this.onDidLayoutContainer=this._onDidLayoutContainer.event,this._onDidAddContainer=this._register(new eE.Emitter),this.onDidAddContainer=this._onDidAddContainer.event,this._onDidRemoveContainer=this._register(new eE.Emitter),this.onDidRemoveContainer=this._onDidRemoveContainer.event,this._onDidLayoutMainContainer=this._register(new eE.Emitter),this.onDidLayoutMainContainer=this._onDidLayoutMainContainer.event,this._onDidLayoutActiveContainer=this._register(new eE.Emitter),this.onDidLayoutActiveContainer=this._onDidLayoutActiveContainer.event,this._onDidChangeActiveContainer=this._register(new eE.Emitter),this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0},this.onDidChangeFullscreen=eE.Event.None,this.onDidChangeZenMode=eE.Event.None,this.onDidChangeWindowMaximized=eE.Event.None,this.onDidChangeCenteredLayout=eE.Event.None,this._onDidChangePanelPosition=this._register(new eE.Emitter),this.onDidChangePanelPosition=this._onDidChangePanelPosition.event,this._onDidChangeSideBarPosition=this._register(new eE.Emitter),this.onDidChangeSideBarPosition=this._onDidChangeSideBarPosition.event,this.onDidChangePanelAlignment=eE.Event.None,this.onDidChangeNotificationsVisibility=eE.Event.None,this.openedDefaultEditors=!1,this.whenRestored=Promise.resolve(),this.parts=new Map,this.hiddenParts=new Set,this._onDidChangePartVisibility=new eE.Emitter,this.onDidChangePartVisibility=this._onDidChangePartVisibility.event,this.offset={top:0,quickPickTop:0},this._onDidLayout=new eE.Emitter,this.onDidLayout=this._onDidLayout.event,window.addEventListener("resize",()=>this.layout()),this.layout();const t=e8.isWindows?"windows":e8.isLinux?"linux":"mac",i=(0,oD.coalesce)(["monaco-workbench",t,"web",e8.isChrome?"chromium":e8.isFirefox?"firefox":e8.isSafari?"safari":void 0]);e.classList.add(...i),document.body.classList.add(t),document.body.classList.add("web")}getSize(e){return this.getPart(e)?.dimension??{height:0,width:0}}whenContainerStylesLoaded(){}hasMainWindowBorder(){return!1}getMainWindowBorderRadius(){}isMainEditorLayoutCentered(){return!1}centerMainEditorLayout(){}get activeContainer(){return this.getContainerFromDocument((0,el.getActiveDocument)())}get containers(){let e=[];for(let{window:t}of(0,el.getWindows)())e.push(this.getContainerFromDocument(t.document));return e}getContainerFromDocument(e){return e===this.mainContainer.ownerDocument?this.mainContainer:e.body.getElementsByClassName("monaco-workbench")[0]}init(e){this.editorGroupService=e.get(dO.IEditorGroupsService),this.paneCompositeService=e.get(d0.IPaneCompositePartService),this.statusBarService=e.get(pp.IStatusbarService),this.viewDescriptorService=e.get(dY.IViewDescriptorService),this.configurationService=e.get(es.IConfigurationService),this.auxiliaryWindowService=e.get(pm.IAuxiliaryWindowService),this.hostService=e.get(hF.IHostService),this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(cT.LayoutSettings.ACTIVITY_BAR_LOCATION)&&this.setPartHidden(this.isActivityBarHidden(),cT.Parts.ACTIVITYBAR_PART),e.affectsConfiguration("workbench.statusBar.visible")&&this.setPartHidden(!this.configurationService.getValue("workbench.statusBar.visible"),cT.Parts.STATUSBAR_PART),e.affectsConfiguration("workbench.sideBar.location")&&this.setSideBarPosition((0,cT.positionFromString)(this.configurationService.getValue("workbench.sideBar.location")??"left")),e.affectsConfiguration("workbench.panel.defaultLocation")&&this.setPanelPosition((0,cT.positionFromString)(this.configurationService.getValue("workbench.panel.defaultLocation")??"bottom"))})),this.setPartHidden(this.isActivityBarHidden(),cT.Parts.ACTIVITYBAR_PART),this.setPartHidden(!this.configurationService.getValue("workbench.statusBar.visible"),cT.Parts.STATUSBAR_PART),this.sideBarPosition=(0,cT.positionFromString)(this.configurationService.getValue("workbench.sideBar.location")??"left"),this.panelPosition=(0,cT.positionFromString)(this.configurationService.getValue("workbench.panel.defaultLocation")??"bottom"),this._register(this.hostService.onDidChangeActiveWindow(()=>this.onActiveWindowChanged())),this._register(this.auxiliaryWindowService.onDidOpenAuxiliaryWindow(({window:e,disposables:t})=>{this._onDidAddContainer.fire({container:e.container,disposables:new pg.DisposableStore}),t.add(e.onDidLayout(t=>this.handleContainerDidLayout(e.container,t))),t.add((0,pg.toDisposable)(()=>this._onDidRemoveContainer.fire(e.container)))}))}handleContainerDidLayout(e,t){e===this.mainContainer&&this._onDidLayoutMainContainer.fire(t),(0,el.isActiveDocument)(e)&&this._onDidLayoutActiveContainer.fire(t)}getActiveContainerId(){let e=this.activeContainer;return(0,el.getWindow)(e).vscodeWindowId}onActiveWindowChanged(){let e=this.getActiveContainerId();this.activeContainerId!==e&&(this.activeContainerId=e,this._onDidChangeActiveContainer.fire())}isActivityBarHidden(){let e=this.configurationService.getValue("workbench.activityBar.visible");return void 0!==e?!e:this.configurationService.getValue(cT.LayoutSettings.ACTIVITY_BAR_LOCATION)!==cT.ActivityBarPosition.DEFAULT}focusPart(e){switch(e){case cT.Parts.EDITOR_PART:this.editorGroupService.activeGroup.focus();break;case cT.Parts.PANEL_PART:{let e=this.paneCompositeService.getActivePaneComposite(dQ.ViewContainerLocation.Panel);e?.focus();break}case cT.Parts.SIDEBAR_PART:{let e=this.paneCompositeService.getActivePaneComposite(dQ.ViewContainerLocation.Sidebar);e?.focus();break}case cT.Parts.ACTIVITYBAR_PART:this.getPart(cT.Parts.ACTIVITYBAR_PART).focus();break;case cT.Parts.STATUSBAR_PART:this.statusBarService.focus();break;default:{let t=this.getContainer(e);t?.focus()}}}getDimension(e){return this.getPart(e)?.dimension}toggleMaximizedPanel(){}toggleMenuBar(){let e,t=(0,uV.getMenuBarVisibility)(this.configurationService);"string"!=typeof t&&(t="classic"),e="visible"===t||"classic"===t?"native"===(0,uV.getTitleBarStyle)(this.configurationService)?"toggle":"compact":"classic",this.configurationService.updateValue("window.menuBarVisibility",e)}setPanelPosition(e){this.panelPosition=e;let t=this.getPart(cT.Parts.PANEL_PART);t?.updateStyles(),this._onDidChangePanelPosition.fire((0,cT.positionToString)(e))}getPanelAlignment(){return"left"}setPanelAlignment(){}toggleZenMode(){}isEditorLayoutCentered(){return!1}centerEditorLayout(){}resizePart(){}isWindowMaximized(){return!1}updateWindowMaximizedState(){}getVisibleNeighborPart(){}getMaximumEditorDimensions(){return new el.Dimension(1/0,1/0)}isPanelMaximized(){return!1}getPanelPosition(){return this.panelPosition}hasFocus(e){let t=document.activeElement;if(null==t)return!1;let i=this.getContainer(e);return null!=i&&(0,el.isAncestorUsingFlowTo)(t,i)}getContainer(e){if("string"==typeof e){if(null!=this.parts.get(e))return this.getPart(e)?.getContainer()}else if(e.document===this.mainContainer.ownerDocument)return this.mainContainer;else return e.document.body.getElementsByClassName("monaco-workbench")[0]}getPart(e){return this.parts.get(e)}hasViews(e){let t=this.viewDescriptorService.getViewContainerById(e);if(null==t)return!1;let i=this.viewDescriptorService.getViewContainerModel(t);return null!=i&&i.activeViewDescriptors.length>=1}setPartHidden(e,t){e?this.hiddenParts.add(t):this.hiddenParts.delete(t),this._onDidChangePartVisibility.fire();let i={[cT.Parts.SIDEBAR_PART]:dQ.ViewContainerLocation.Sidebar,[cT.Parts.AUXILIARYBAR_PART]:dQ.ViewContainerLocation.AuxiliaryBar,[cT.Parts.PANEL_PART]:dQ.ViewContainerLocation.Panel}[t];if(null!=i){let t=this.paneCompositeService.getActivePaneComposite(i);if(null!=t&&e)this.paneCompositeService.hideActivePaneComposite(i);else if(null==t&&!e){let e=this.paneCompositeService.getLastActivePaneCompositeId(i);null!=e&&this.hasViews(e)||(e=this.viewDescriptorService.getViewContainersByLocation(i).find(e=>this.hasViews(e.id))?.id),null!=e&&this.paneCompositeService.openPaneComposite(e,i,!0)}}this.getPart(t)?.setVisible(!e)}isVisible(e){return!this.hiddenParts.has(e)}getSideBarPosition(){return this.sideBarPosition}setSideBarPosition(e){this.sideBarPosition=e;let t=this.getPart(cT.Parts.ACTIVITYBAR_PART),i=this.getPart(cT.Parts.SIDEBAR_PART),o=this.getPart(cT.Parts.AUXILIARYBAR_PART);t?.updateStyles(),i?.updateStyles(),o?.updateStyles(),this._onDidChangeSideBarPosition.fire((0,cT.positionToString)(e))}registerPart(e){let t=e.getId();return this.parts.set(t,e),(0,pg.toDisposable)(()=>this.parts.delete(t))}isRestored(){return!0}get mainContainerDimension(){return this._mainContainerDimension}get activeContainerDimension(){let e=this.activeContainer;return e===this.mainContainer?this.mainContainerDimension:(0,el.getClientArea)(e)}layout(){this._mainContainerDimension=(0,el.getClientArea)(window.document.body),this._onDidLayout.fire(this._mainContainerDimension)}get hasContainer(){return!0}focus(){let e=this.activeContainer;if(e===this.mainContainer){let e=dh.StandaloneServices.get(eQ.ICodeEditorService).getFocusedCodeEditor();e instanceof d_.StandaloneCodeEditor?e.focus():this.focusPart(cT.Parts.EDITOR_PART)}else this.editorGroupService.getPart(e).activeGroup.focus()}}function pv(e){return{[e0.ILayoutService.toString()]:new dc.SyncDescriptor(py,[e],!0)}}(0,p_.onRenderWorkbench)(e=>{let t=e.get(e0.ILayoutService);t instanceof py&&t.init(e)}),e.s(["default",()=>pv],242696);var pC=e.i(464627),pb=e.i(804085),pS=Z,pw=e.i(47515),pE=e.i(429681),pI=e.i(708251);(g=Q||(Q={}))[g.Unknown=1]="Unknown",g[g.Keyboard=2]="Keyboard",g[g.Api=3]="Api";let px=class extends pS.Disposable{constructor(e,t,i,o,n,r,s,a,l,d,c){super(),this.layoutService=e,this.configurationService=t,this.fileService=i,this.labelService=o,this.environmentService=n,this.instantiationService=r,this.lifecycleService=s,this.logService=a,this.dialogService=l,this.contextService=d,this.userDataProfilesService=c,this.shutdownReason=Q.Unknown,n.options?.workspaceProvider?this.workspaceProvider=n.options.workspaceProvider:this.workspaceProvider=new class{constructor(){this.workspace=void 0,this.trusted=void 0}async open(){return!0}},this.registerListeners()}registerListeners(){this._register(this.lifecycleService.onBeforeShutdown(e=>this.onBeforeShutdown(e))),this._register(el.ModifierKeyEmitter.getInstance().event(()=>this.updateShutdownReasonFromEvent()))}onBeforeShutdown(e){switch(this.shutdownReason){case Q.Unknown:case Q.Keyboard:{let t=this.configurationService.getValue("window.confirmBeforeClose");("always"===t||"keyboardOnly"===t&&this.shutdownReason===Q.Keyboard)&&e.veto(!0,"veto.confirmBeforeClose")}}this.shutdownReason=Q.Unknown}updateShutdownReasonFromEvent(){this.shutdownReason!==Q.Api&&(el.ModifierKeyEmitter.getInstance().isModifierPressed?this.shutdownReason=Q.Keyboard:this.shutdownReason=Q.Unknown)}get onDidChangeFocus(){let e=this._register(new eE.Emitter);return this._register(eE.Event.runAndSubscribe(el.onDidRegisterWindow,({window:t,disposables:i})=>{let o=i.add((0,el.trackFocus)(t)),n=i.add(new to.DomEmitter(t.document,"visibilitychange"));eE.Event.any(eE.Event.map(o.onDidFocus,()=>this.hasFocus,i),eE.Event.map(o.onDidBlur,()=>this.hasFocus,i),eE.Event.map(n.event,()=>this.hasFocus,i),eE.Event.map(this.onDidChangeActiveWindow,()=>this.hasFocus,i))(t=>e.fire(t))},{window:iC.mainWindow,disposables:this._store})),eE.Event.latch(e.event,void 0,this._store)}get hasFocus(){return(0,el.getActiveDocument)().hasFocus()}async hadLastFocus(){return!0}async focus(e){e.focus()}get onDidChangeActiveWindow(){let e=this._register(new eE.Emitter);return this._register(eE.Event.runAndSubscribe(el.onDidRegisterWindow,({window:t,disposables:i})=>{let o=(0,el.getWindowId)(t),n=i.add((0,el.trackFocus)(t));i.add(n.onDidFocus(()=>e.fire(o))),(0,iC.isAuxiliaryWindow)(t)&&i.add((0,el.disposableWindowInterval)(t,()=>{let i=t.document.hasFocus();return i&&e.fire(o),i},100,20))},{window:iC.mainWindow,disposables:this._store})),eE.Event.latch(e.event,void 0,this._store)}get onDidChangeFullScreen(){let e=this._register(new eE.Emitter);return this._register(eE.Event.runAndSubscribe(el.onDidRegisterWindow,({window:t,disposables:i})=>{let o=(0,el.getWindowId)(t),n=e8.isIOS&&t.visualViewport?t.visualViewport:t,r=()=>{let e=(0,el.detectFullscreen)(t);return null!==e&&!e.guess};for(let n of[el.EventType.FULLSCREEN_CHANGE,el.EventType.WK_FULLSCREEN_CHANGE])i.add((0,el.addDisposableListener)(t.document,n,()=>e.fire({windowId:o,fullscreen:r()})));i.add((0,el.addDisposableThrottledListener)(n,el.EventType.RESIZE,()=>e.fire({windowId:o,fullscreen:r()}),void 0,e8.isMacintosh?2e3:800))},{window:iC.mainWindow,disposables:this._store})),e.event}openWindow(e,t){return Array.isArray(e)?this.doOpenWindow(e,t):this.doOpenEmptyWindow(e)}async doOpenWindow(e,t){let i=this.preservePayload(!1,t),o=[],n=[];for(let r of e)r.label=r.label||this.getRecentLabel(r),(0,uV.isFolderToOpen)(r)?t?.addMode?n.push({uri:r.folderUri}):this.doOpen({folderUri:r.folderUri},{reuse:this.shouldReuse(t,!1),payload:i}):(0,uV.isWorkspaceToOpen)(r)?this.doOpen({workspaceUri:r.workspaceUri},{reuse:this.shouldReuse(t,!1),payload:i}):(0,uV.isFileToOpen)(r)&&o.push(r);n.length>0&&this.withServices(e=>{e.get(pw.IWorkspaceEditingService).addFolders(n)}),o.length>0&&this.withServices(async e=>{let i=e.get(tS.IEditorService);if(t?.mergeMode&&4===o.length){let e=(0,oD.coalesce)(await (0,cN.pathsToEditors)(o,this.fileService,this.logService));if(4!==e.length||!(0,cN.isResourceEditorInput)(e[0])||!(0,cN.isResourceEditorInput)(e[1])||!(0,cN.isResourceEditorInput)(e[2])||!(0,cN.isResourceEditorInput)(e[3]))return;if(this.shouldReuse(t,!0))i.openEditor({input1:{resource:e[0].resource},input2:{resource:e[1].resource},base:{resource:e[2].resource},result:{resource:e[3].resource},options:{pinned:!0}});else{let t=new Map;t.set("mergeFile1",e[0].resource.toString()),t.set("mergeFile2",e[1].resource.toString()),t.set("mergeFileBase",e[2].resource.toString()),t.set("mergeFileResult",e[3].resource.toString()),this.doOpen(void 0,{payload:Array.from(t.entries())})}}else if(t?.diffMode&&2===o.length){let e=(0,oD.coalesce)(await (0,cN.pathsToEditors)(o,this.fileService,this.logService));if(2!==e.length||!(0,cN.isResourceEditorInput)(e[0])||!(0,cN.isResourceEditorInput)(e[1]))return;if(this.shouldReuse(t,!0))i.openEditor({original:{resource:e[0].resource},modified:{resource:e[1].resource},options:{pinned:!0}});else{let t=new Map;t.set("diffFileSecondary",e[0].resource.toString()),t.set("diffFilePrimary",e[1].resource.toString()),this.doOpen(void 0,{payload:Array.from(t.entries())})}}else for(let e of o)if(this.shouldReuse(t,!0)){let o=[];if(t?.gotoLineMode){let t=(0,cJ.parseLineAndColumnAware)(e.fileUri.path);o=[{fileUri:e.fileUri.with({path:t.path}),options:{selection:(0,ih.isUndefined)(t.line)?void 0:{startLineNumber:t.line,startColumn:t.column||1}}}]}else o=[e];i.openEditors((0,oD.coalesce)(await (0,cN.pathsToEditors)(o,this.fileService,this.logService)),void 0,{validateTrust:!0})}else{let i=new Map;i.set("openFile",e.fileUri.toString()),t?.gotoLineMode&&i.set("gotoLineMode","true"),this.doOpen(void 0,{payload:Array.from(i.entries())})}let n=t?.waitMarkerFileURI;n&&(async()=>{await this.instantiationService.invokeFunction(e=>(0,pb.whenEditorClosed)(e,o.map(e=>e.fileUri))),await this.fileService.del(n)})()})}withServices(e){this.instantiationService.invokeFunction(t=>e(t))}preservePayload(e,t){let i=[];!e&&this.environmentService.extensionDevelopmentLocationURI&&(i.push(["extensionDevelopmentPath",this.environmentService.extensionDevelopmentLocationURI.toString()]),this.environmentService.debugExtensionHost.debugId&&i.push(["debugId",this.environmentService.debugExtensionHost.debugId]),this.environmentService.debugExtensionHost.port&&i.push(["inspect-brk-extensions",String(this.environmentService.debugExtensionHost.port)]));let o=t?.forceProfile?this.userDataProfilesService.profiles.find(e=>e.name===t?.forceProfile):void 0;return o&&!o.isDefault&&i.push(["profile",o.name]),i.length?i:void 0}getRecentLabel(e){return(0,uV.isFolderToOpen)(e)?this.labelService.getWorkspaceLabel(e.folderUri,{verbose:cF.Verbosity.LONG}):(0,uV.isWorkspaceToOpen)(e)?this.labelService.getWorkspaceLabel((0,pE.getWorkspaceIdentifier)(e.workspaceUri),{verbose:cF.Verbosity.LONG}):this.labelService.getUriLabel(e.fileUri)}shouldReuse(e=Object.create(null),t){if(e.waitMarkerFileURI)return!0;let i=this.configurationService.getValue("window"),o=t?i?.openFilesInNewWindow||"off":i?.openFoldersInNewWindow||"default",n=(e.preferNewWindow||!!e.forceNewWindow)&&!e.forceReuseWindow;return e.forceNewWindow||e.forceReuseWindow||"on"!==o&&"off"!==o||(n="on"===o),!n}async doOpenEmptyWindow(e){return this.doOpen(void 0,{reuse:e?.forceReuseWindow,payload:this.preservePayload(!0,e)})}async doOpen(e,t){if(e&&(0,uV.isFolderToOpen)(e)&&e.folderUri.scheme===cv.Schemas.file&&(0,cP.isTemporaryWorkspace)(this.contextService.getWorkspace()))return void this.withServices(async t=>{let i=t.get(pw.IWorkspaceEditingService);await i.updateFolders(0,this.contextService.getWorkspace().folders.length,[{uri:e.folderUri}])});if(t?.reuse&&await this.handleExpectedShutdown(en.ShutdownReason.LOAD),!await this.workspaceProvider.open(e,t)){let{confirmed:i}=await this.dialogService.confirm({type:oY.default.Warning,message:(0,J.localize)(11605,"The browser interrupted the opening of a new tab or window. Press 'Open' to open it anyway."),primaryButton:(0,J.localize)(11606,"&&Open")});i&&await this.workspaceProvider.open(e,t)}}async toggleFullScreen(e){let t=this.layoutService.getContainer(e);if(void 0!==e.document.fullscreen)if(e.document.fullscreen)try{return await e.document.exitFullscreen()}catch(e){this.logService.warn("toggleFullScreen(): exitFullscreen failed")}else try{return await t.requestFullscreen()}catch(e){this.logService.warn("toggleFullScreen(): requestFullscreen failed")}if(void 0!==e.document.webkitIsFullScreen)try{e.document.webkitIsFullScreen?e.document.webkitExitFullscreen():t.webkitRequestFullscreen()}catch{this.logService.warn("toggleFullScreen(): requestFullscreen/exitFullscreen failed")}}async moveTop(e){}async getCursorScreenPoint(){}async restart(){this.reload()}async reload(){await this.handleExpectedShutdown(en.ShutdownReason.RELOAD),iC.mainWindow.location.reload()}async close(){await this.handleExpectedShutdown(en.ShutdownReason.CLOSE),iC.mainWindow.close()}async withExpectedShutdown(e){let t=this.shutdownReason;try{return this.shutdownReason=Q.Api,await e()}finally{this.shutdownReason=t}}async handleExpectedShutdown(e){return this.shutdownReason=Q.Api,this.lifecycleService.withExpectedShutdown(e)}async getScreenshot(){let e,t=new pS.DisposableStore,i=document.createElement("video");t.add((0,pS.toDisposable)(()=>i.remove()));try{i.srcObject=e=await navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}),i.play(),await Promise.all([new Promise(e=>t.add((0,el.addDisposableListener)(i,"loadedmetadata",()=>e()))),new Promise(e=>t.add((0,el.addDisposableListener)(i,"canplaythrough",()=>e())))]);let o=document.createElement("canvas");o.width=i.videoWidth,o.height=i.videoHeight;let n=o.getContext("2d");if(!n)return;n.drawImage(i,0,0,o.width,o.height);let r=await new Promise(e=>o.toBlob(t=>e(t),"image/jpeg",.95));if(!r)throw Error("Failed to create blob from canvas");return r.arrayBuffer()}catch(e){console.error("Error taking screenshot:",e);return}finally{if(t.dispose(),e)for(let t of e.getTracks())t.stop()}}async getNativeWindowHandle(e){}};px.__decorator=(0,Y.__decorate)([cX.memoize],px.prototype,"onDidChangeFocus",null),px.__decorator=(0,Y.__decorate)([cX.memoize],px.prototype,"onDidChangeActiveWindow",null),px.__decorator=(0,Y.__decorate)([cX.memoize],px.prototype,"onDidChangeFullScreen",null),px=(0,Y.__decorate)([(0,Y.__param)(0,e0.ILayoutService),(0,Y.__param)(1,es.IConfigurationService),(0,Y.__param)(2,n5.IFileService),(0,Y.__param)(3,nM.ILabelService),(0,Y.__param)(4,cn.IBrowserWorkbenchEnvironmentService),(0,Y.__param)(5,eC.IInstantiationService),(0,Y.__param)(6,h7.ILifecycleService),(0,Y.__param)(7,th.ILogService),(0,Y.__param)(8,tf.IDialogService),(0,Y.__param)(9,n4.IWorkspaceContextService),(0,Y.__param)(10,pI.IUserDataProfilesService)],px);var pD=Z;class pk extends pD.Disposable{constructor(){super(),this._onDidSchemeChangeEvent=this._register(new eE.Emitter),this.registerListeners()}registerListeners(){(0,df.addMatchMediaChangeListener)(iC.mainWindow,"(prefers-color-scheme: dark)",()=>{this._onDidSchemeChangeEvent.fire()}),(0,df.addMatchMediaChangeListener)(iC.mainWindow,"(forced-colors: active)",()=>{this._onDidSchemeChangeEvent.fire()})}get onDidChangeColorScheme(){return this._onDidSchemeChangeEvent.event}get dark(){if(iC.mainWindow.matchMedia("(prefers-color-scheme: light)").matches);else if(iC.mainWindow.matchMedia("(prefers-color-scheme: dark)").matches)return!0;return!1}get highContrast(){return!!iC.mainWindow.matchMedia("(forced-colors: active)").matches}}function pA(){return{[hF.IHostService.toString()]:new dc.SyncDescriptor(px,[],!0),[pC.IHostColorSchemeService.toString()]:new dc.SyncDescriptor(pk,[],!0)}}e.s(["default",()=>pA],533523)},717789,e=>{"use strict";var t,i;(i=t||(t={}))[i.ERROR_INVALID_FILE=0]="ERROR_INVALID_FILE";class o extends Error{constructor(e,t){super(e),this.code=t}}e.s(["JSONEditingError",()=>o,"JSONEditingErrorCode",()=>t])},693941,e=>{"use strict";var t,i=e.i(308165);e.i(225911),e.i(150132),e.i(262465),e.i(934767),e.i(816921),e.i(528045),e.i(190342),e.i(64918),e.i(853788),e.i(710249),e.i(405560),e.i(753725),e.i(779461),e.i(319219),e.i(804810),e.i(906696),e.i(676101),e.i(364316),e.i(251046),e.i(531462),e.i(96373),e.i(717179),e.i(709442),e.i(887418),e.i(584056),e.i(123460),e.i(547687),e.i(116748),e.i(697120),e.i(910207),e.i(6658),e.i(534970),e.i(49811),e.i(235610),e.i(565176),e.i(197379),e.i(550118),e.i(556065),e.i(294372),e.i(514663),e.i(615650),e.i(306033),e.i(496709),e.i(101797),e.i(873505),e.i(92121),e.i(64803),e.i(115838),e.i(719249),e.i(299201),e.i(808456),e.i(228273),e.i(610916),e.i(199511),e.i(517323),e.i(890154),e.i(71634),e.i(295347),e.i(468387),e.i(287231),e.i(886197),e.i(891680),e.i(217508),e.i(982252),e.i(583763),e.i(329381),e.i(39192),e.i(381853),e.i(471590),e.i(486988),e.i(697340),e.i(860906),e.i(647564),e.i(601244),e.i(332786),e.i(986189),e.i(481200),e.i(112692),e.i(272431),e.i(734201),e.i(547184),e.i(267026),e.i(391722),e.i(729588),e.i(518655),e.i(402720),e.i(588624),e.i(323094),e.i(152619),e.i(231010),e.i(286894);var o=e.i(413174),n=e.i(116086),r=e.i(550483),s=e.i(693655),a=e.i(436120),l=e.i(312582),d=e.i(576549),c=e.i(239548),u=e.i(288265),h=e.i(405035),p=e.i(246159),g=e.i(671941),m=e.i(355788),_=e.i(242696),f=e.i(533523),y=e.i(299665),v=e.i(364045),C=e.i(452229),b=e.i(577289),S=e.i(74944),w=e.i(834045),E=e.i(797837),I=e.i(383962),x=e.i(790059),D=e.i(504473),k=e.i(395806),A=e.i(224961),M=e.i(475424),L=e.i(91418),T=e.i(524819),R=e.i(911694),N=e.i(490582),P=e.i(717789);e.i(777700);let O=class{constructor(e,t,i){this.fileService=e,this.textModelResolverService=t,this.textFileService=i,this.queue=new k.Queue}write(e,t){return Promise.resolve(this.queue.queue(()=>this.doWriteConfiguration(e,t)))}async doWriteConfiguration(e,t){let i=await this.resolveAndValidate(e,!0);try{await this.writeToBuffer(i.object.textEditorModel,t)}finally{i.dispose()}}async writeToBuffer(e,t){let i=!1;for(let o of t){let t=this.getEdits(e,o)[0];i=!!t&&this.applyEditsToBuffer(t,e)}if(i)return this.textFileService.save(e.uri)}applyEditsToBuffer(e,t){let i=t.getPositionAt(e.offset),o=t.getPositionAt(e.offset+e.length),n=new M.Range(i.lineNumber,i.column,o.lineNumber,o.column),r=t.getValueInRange(n);if(e.content!==r){let o=r?A.EditOperation.replace(n,e.content):A.EditOperation.insert(i,e.content);return t.pushEditOperations([new L.Selection(i.lineNumber,i.column,i.lineNumber,i.column)],[o],()=>[]),!0}return!1}getEdits(e,t){let{tabSize:i,insertSpaces:o}=e.getOptions(),n=e.getEOL(),{path:r,value:s}=t;if(!r.length){let e=JSON.stringify(s,null,o?" ".repeat(i):"	");return[{content:e,length:e.length,offset:0}]}return(0,D.setProperty)(e.getValue(),r,s,{tabSize:i,insertSpaces:o,eol:n})}async resolveModelReference(e){return await this.fileService.exists(e)||await this.textFileService.write(e,"{}",{encoding:"utf8"}),this.textModelResolverService.createModelReference(e)}hasParseErrors(e){let t=[];return(0,x.parse)(e.getValue(),t,{allowTrailingComma:!0,allowEmptyContent:!0}),t.length>0}async resolveAndValidate(e,t){let i=await this.resolveModelReference(e),o=i.object.textEditorModel;return this.hasParseErrors(o)?(i.dispose(),this.reject(P.JSONEditingErrorCode.ERROR_INVALID_FILE)):i}reject(e){let t=this.toErrorMessage(e);return Promise.reject(new P.JSONEditingError(t,e))}toErrorMessage(e){if(e===P.JSONEditingErrorCode.ERROR_INVALID_FILE)return(0,I.localize)(11322,"Unable to write into the file. Please open the file to correct errors/warnings in the file and try again.")}};O=(0,i.__decorate)([(0,i.__param)(0,R.IFileService),(0,i.__param)(1,N.ITextModelService),(0,i.__param)(2,T.ITextFileService)],O);var F=e.i(145384),K=e.i(978238),W=e.i(450332),z=e.i(347997),V=e.i(757641),B=e.i(272117),H=e.i(610620),U=e.i(448493),G=e.i(394839),q=e.i(760837),$=e.i(547158),j=e.i(625092),Q=e.i(68858),Y=e.i(945588);e.i(786480),e.i(184765),e.i(537397),e.i(765809),e.i(491481),e.i(827678),e.i(789672),e.i(847307),e.i(491120),e.i(165071);var Z=e.i(358764);class X{static keyOf(e){if(Array.isArray(e))return e.map(X.keyOf).join(",");{let{color:t,letter:i}=e;return H.ThemeIcon.isThemeIcon(i)?`${t}+${i.id}`:`${t}/${i}`}}static{this._classNamesPrefix="monaco-decoration"}constructor(e,t,i){this.themeService=e,this._refCounter=0,this.data=t;const o=(0,$.hash)(i).toString(36);this.itemColorClassName=`${X._classNamesPrefix}-itemColor-${o}`,this.itemBadgeClassName=`${X._classNamesPrefix}-itemBadge-${o}`,this.bubbleBadgeClassName=`${X._classNamesPrefix}-bubbleBadge-${o}`,this.iconBadgeClassName=`${X._classNamesPrefix}-iconBadge-${o}`}acquire(){this._refCounter+=1}release(){return 0==--this._refCounter}appendCSSRules(e){Array.isArray(this.data)?this._appendForMany(this.data,e):this._appendForOne(this.data,e)}_appendForOne(e,t){let{color:i,letter:o}=e;(0,z.createCSSRule)(`.${this.itemColorClassName}`,`color: ${ei(i)};`,t),H.ThemeIcon.isThemeIcon(o)?this._createIconCSSRule(o,i,t):o&&(0,z.createCSSRule)(`.${this.itemBadgeClassName}::after`,`content: "${o}"; color: ${ei(i)};`,t)}_appendForMany(e,t){let i,{color:o}=e.find(e=>!!e.color)??e[0];(0,z.createCSSRule)(`.${this.itemColorClassName}`,`color: ${ei(o)};`,t);let n=[];for(let t of e)if(H.ThemeIcon.isThemeIcon(t.letter)){i=t.letter;break}else t.letter&&n.push(t.letter);i?this._createIconCSSRule(i,o,t):(n.length&&(0,z.createCSSRule)(`.${this.itemBadgeClassName}::after`,`content: "${n.join(", ")}"; color: ${ei(o)};`,t),(0,z.createCSSRule)(`.${this.bubbleBadgeClassName}::after`,`content: "\uea71"; color: ${ei(o)}; font-family: codicon; font-size: 14px; margin-right: 14px; opacity: 0.4;`,t))}_createIconCSSRule(e,t,i){let o=H.ThemeIcon.getModifier(e);o&&(e=H.ThemeIcon.modify(e,void 0));let n=(0,Z.getIconRegistry)().getIcon(e.id);if(!n)return;let r=this.themeService.getProductIconTheme().getIcon(n);r&&(0,z.createCSSRule)(`.${this.iconBadgeClassName}::after`,`content: '${r.fontCharacter}';
			color: ${e.color?ei(e.color.id):ei(t)};
			font-family: ${(0,V.stringValue)(r.font?.id??"codicon")};
			font-size: 16px;
			margin-right: 14px;
			font-weight: normal;
			${"spin"===o?"animation: codicon-spin 1.5s steps(30) infinite":""};
			`,i)}removeCSSRules(e){(0,z.removeCSSRulesContainingSelector)(this.itemColorClassName,e),(0,z.removeCSSRulesContainingSelector)(this.itemBadgeClassName,e),(0,z.removeCSSRulesContainingSelector)(this.bubbleBadgeClassName,e),(0,z.removeCSSRulesContainingSelector)(this.iconBadgeClassName,e)}}class J{constructor(e){this._themeService=e,this._dispoables=new a.DisposableStore,this._styleElement=(0,z.createStyleSheet)(void 0,void 0,this._dispoables),this._decorationRules=new Map}dispose(){this._dispoables.dispose()}asDecoration(e,t){e.sort((e,t)=>(t.weight||0)-(e.weight||0));let i=X.keyOf(e),o=this._decorationRules.get(i);o||(o=new X(this._themeService,e,i),this._decorationRules.set(i,o),o.appendCSSRules(this._styleElement)),o.acquire();let n=o.itemColorClassName,r=o.itemBadgeClassName,s=o.iconBadgeClassName,a=(0,Q.distinct)(e.filter(e=>!(0,U.isFalsyOrWhitespace)(e.tooltip)).map(e=>e.tooltip)).join("  "),l=e.some(e=>e.strikethrough);return t&&(r=o.bubbleBadgeClassName,a=(0,I.localize)(11360,"Contains emphasized items")),{labelClassName:n,badgeClassName:r,iconClassName:s,strikethrough:l,tooltip:a,dispose:()=>{o?.release()&&(this._decorationRules.delete(i),o.removeCSSRules(this._styleElement),o=void 0)}}}}class ee{constructor(e){this._data=K.TernarySearchTree.forUris(e=>!0),this._data.fill(!0,(0,Q.asArray)(e))}affectsResource(e){return this._data.hasElementOrSubtree(e)}}class et{constructor(e,t){this.source=e,this.thenable=t}}function ei(e){return e?(0,Y.asCssVariable)(e):"inherit"}let eo=class{constructor(e,t){this._store=new a.DisposableStore,this._onDidChangeDecorationsDelayed=this._store.add(new F.DebounceEmitter({merge:e=>e.flat()})),this._onDidChangeDecorations=this._store.add(new F.Emitter),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._provider=new W.LinkedList,this._decorationStyles=new J(t),this._data=K.TernarySearchTree.forUris(t=>e.extUri.ignorePathCasing(t)),this._store.add(this._onDidChangeDecorationsDelayed.event(e=>{this._onDidChangeDecorations.fire(new ee(e))}))}dispose(){this._store.dispose(),this._data.clear()}registerDecorationsProvider(e){let t=this._provider.unshift(e);this._onDidChangeDecorations.fire({affectsResource:()=>!0});let i=()=>{let t=[];for(let[i,o]of this._data)o.delete(e)&&t.push(i);t.length>0&&this._onDidChangeDecorationsDelayed.fire(t)},o=e.onDidChange(t=>{if(t)for(let i of t){let t=this._ensureEntry(i);this._fetchData(t,i,e)}else i()});return(0,a.toDisposable)(()=>{t(),o.dispose(),i()})}_ensureEntry(e){let t=this._data.get(e);return t||(t=new Map,this._data.set(e,t)),t}getDecoration(e,t){let i=[],o=!1,n=this._ensureEntry(e);for(let t of this._provider){let o=n.get(t);void 0===o&&(o=this._fetchData(n,e,t)),!o||o instanceof et||i.push(o)}if(t){let t=this._data.findSuperstr(e);if(t)for(let e of t)for(let t of e[1].values())!t||t instanceof et||!t.bubble||(i.push(t),o=!0)}return 0===i.length?void 0:this._decorationStyles.asDecoration(i,o)}_fetchData(e,t,i){let o=e.get(i);o instanceof et&&(o.source.cancel(),e.delete(i));let n=new q.CancellationTokenSource,r=i.provideDecorations(t,n.token);if(!(0,k.isThenable)(r))return n.dispose(),this._keepItem(e,i,t,r);{let o=new et(n,Promise.resolve(r).then(n=>{e.get(i)===o&&this._keepItem(e,i,t,n)}).catch(t=>{(0,G.isCancellationError)(t)||e.get(i)!==o||e.delete(i)}).finally(()=>{n.dispose()}));return e.set(i,o),null}}_keepItem(e,t,i,o){let n=o||null,r=e.get(t);return e.set(t,n),(n||r)&&this._onDidChangeDecorationsDelayed.fire(i),n}};eo=(0,i.__decorate)([(0,i.__param)(0,j.IUriIdentityService),(0,i.__param)(1,B.IThemeService)],eo);var en=e.i(619223),er=e.i(182408);class es{constructor(e){this.channel=e}async request(e,t){let[i,o]=await this.channel.call("request",[e],t);return{res:i,stream:(0,er.bufferToStream)(o)}}async resolveProxy(e){return this.channel.call("resolveProxy",[e])}async lookupAuthorization(e){return this.channel.call("lookupAuthorization",[e])}async lookupKerberosAuthorization(e){return this.channel.call("lookupKerberosAuthorization",[e])}async loadCertificates(){return this.channel.call("loadCertificates")}}var ea=e.i(873619),el=e.i(785310),ed=e.i(827104);class ec extends Error{constructor(){super("Offline"),this.name=this.message}}async function eu(e,t,i){if(t.isCancellationRequested)throw(0,G.canceled)();let o=new AbortController,n=t.onCancellationRequested(()=>o.abort()),r=e.timeout?AbortSignal.any([o.signal,AbortSignal.timeout(e.timeout)]):o.signal;try{var s;let t,i={method:e.type||"GET",headers:function(e){if(e.headers||e.user||e.password||e.proxyAuthorization){let t=new Headers;for(let i in e.headers){switch(i.toLowerCase()){case"user-agent":case"accept-encoding":case"content-length":continue}let o=e.headers[i];if("string"==typeof o)t.set(i,o);else if(Array.isArray(o))for(let e of o)t.append(i,e)}return(e.user||e.password)&&t.set("Authorization","Basic "+btoa(`${e.user||""}:${e.password||""}`)),e.proxyAuthorization&&t.set("Proxy-Authorization",e.proxyAuthorization),t}}(e),body:e.data,signal:r};e.disableCache&&(i.cache="no-store");let o=await fetch(e.url||"",i);return{res:{statusCode:o.status,headers:(s=o,t=Object.create(null),s.headers.forEach((e,i)=>{t[i]?Array.isArray(t[i])?t[i].push(e):t[i]=[t[i],e]:t[i]=e}),t)},stream:(0,er.bufferToStream)(er.VSBuffer.wrap(new Uint8Array(await o.arrayBuffer())))}}catch(t){if(!i())throw new ec;if(t?.name==="AbortError")throw(0,G.canceled)();if(t?.name==="TimeoutError")throw Error(`Fetch timeout: ${e.timeout}ms`);throw t}finally{n.dispose()}}var eh=e.i(322549);let ep=class extends ed.AbstractRequestService{constructor(e,t,i){super(i),this.remoteAgentService=e,this.configurationService=t}async request(e,t){try{e.proxyAuthorization||(e.proxyAuthorization=this.configurationService.getValue("http.proxyAuthorization"));let i=await this.logAndRequest(e,()=>eu(e,t,()=>navigator.onLine)),o=this.remoteAgentService.getConnection();if(o&&405===i.res.statusCode)return this._makeRemoteRequest(o,e,t);return i}catch(o){let i=this.remoteAgentService.getConnection();if(i)return this._makeRemoteRequest(i,e,t);throw o}}async resolveProxy(e){}async lookupAuthorization(e){}async lookupKerberosAuthorization(e){}async loadCertificates(){return[]}_makeRemoteRequest(e,t,i){return e.withChannel("request",e=>new es(e).request(t,i))}};ep=(0,i.__decorate)([(0,i.__param)(0,ea.IRemoteAgentService),(0,i.__param)(1,en.IConfigurationService),(0,i.__param)(2,eh.ILogService)],ep),el.CommandsRegistry.registerCommand("_workbench.fetchJSON",async function(e,t,i){let o=await fetch(t,{method:i,headers:{Accept:"application/json"}});if(o.ok)return o.json();throw Error(o.statusText)});var eg=e.i(292473),em=a;e.i(266931),e.i(456369);var e_=e.i(912097),ef=e.i(509592);class ey extends em.Disposable{constructor(){super(...arguments),this.handlers=new Set}open(e,t){let i=[...this.handlers.values()];return(0,k.first)(i.map(i=>()=>i.handleURL(e,t)),void 0,!1).then(e=>e||!1)}registerHandler(e){return this.handlers.add(e),(0,em.toDisposable)(()=>this.handlers.delete(e))}}var ev=e.i(308955),eC=e.i(373742),eb=e.i(533412);class eS{constructor(e,t){this.urlService=e,this.productService=t}async open(e,t){return!t?.openExternal&&!!(0,eb.matchesScheme)(e,this.productService.urlProtocol)&&("string"==typeof e&&(e=eg.URI.parse(e)),this.urlService.open(e,{trusted:!0}))}}let ew=class extends ey{constructor(e,t,i){super(),this.provider=e.options?.urlCallbackProvider,this.provider&&this._register(this.provider.onCallback(e=>this.open(e,{trusted:!0}))),this._register(t.registerOpener(new eS(this,i)))}create(e){return this.provider?this.provider.create(e):eg.URI.parse("unsupported://")}};ew=(0,i.__decorate)([(0,i.__param)(0,ev.IBrowserWorkbenchEnvironmentService),(0,i.__param)(1,eC.IOpenerService),(0,i.__param)(2,d.IProductService)],ew);class eE{constructor(){this._providers=new Map}registerCanonicalUriProvider(e){return this._providers.set(e.scheme,e),{dispose:()=>this._providers.delete(e.scheme)}}async provideCanonicalUri(e,t,i){let o=this._providers.get(e.scheme);if(o)return o.provideCanonicalUri(e,t,i)}}var eI=e.i(751326),ex=e.i(120359),eD=e.i(260263);let ek=class{constructor(e,t){this.requestService=e,this.fileService=t}async download(e,t,i=q.CancellationToken.None){if(e.scheme===eb.Schemas.file||e.scheme===eb.Schemas.vscodeRemote)return void await this.fileService.copy(e,t);let o={type:"GET",url:e.toString(!0)},n=await this.requestService.request(o,i);if(200===n.res.statusCode)await this.fileService.writeFile(t,n.stream);else{let e=await (0,ed.asTextOrError)(n);throw Error(`Expected 200, got back ${n.res.statusCode} instead.

${e}`)}}};ek=(0,i.__decorate)([(0,i.__param)(0,v.IRequestService),(0,i.__param)(1,R.IFileService)],ek);var eA=e.i(516245),eM=e.i(389083),eL=e.i(84389),eT=e.i(623885),eR=e.i(618284),eN=e.i(678417),eP=e.i(47179);let eO=t=class{constructor(e,t,i,o){this.localUserHome=e,this.remoteAgentService=t,this.environmentService=i,this.contextService=o,this.resolveOS=(async()=>{let e=await this.remoteAgentService.getEnvironment();return e?.os||ef.OS})(),this.resolveUserHome=(async()=>{let t=await this.remoteAgentService.getEnvironment();return this.maybeUnresolvedUserHome=t?.userHome??e})()}hasValidBasename(e,t,i){return"string"==typeof t||void 0===t?this.resolveOS.then(i=>this.doHasValidBasename(e,i,t)):this.doHasValidBasename(e,t,i)}doHasValidBasename(e,t,i){return e.scheme!==eb.Schemas.file&&e.scheme!==eb.Schemas.vscodeRemote||(0,eR.isValidBasename)(i??(0,eN.basename)(e),t===ef.OperatingSystem.Windows)}get defaultUriScheme(){return t.findDefaultUriScheme(this.environmentService,this.contextService)}static findDefaultUriScheme(e,t){if(e.remoteAuthority)return eb.Schemas.vscodeRemote;let i=(0,eP.getVirtualWorkspaceScheme)(t.getWorkspace());if(i)return i;let o=t.getWorkspace().folders[0];if(o)return o.uri.scheme;let n=t.getWorkspace().configuration;return n?n.scheme:eb.Schemas.file}userHome(e){return e?.preferLocal?this.localUserHome:this.resolveUserHome}get resolvedUserHome(){return this.maybeUnresolvedUserHome}get path(){return this.resolveOS.then(e=>e===ef.OperatingSystem.Windows?e_.win32:e_.posix)}async fileURI(e){let t="";if(await this.resolveOS===ef.OperatingSystem.Windows&&(e=e.replace(/\\/g,"/")),"/"===e[0]&&"/"===e[1]){let i=e.indexOf("/",2);-1===i?(t=e.substring(2),e="/"):(t=e.substring(2,i),e=e.substring(i)||"/")}return eg.URI.from({scheme:eb.Schemas.file,authority:t,path:e,query:"",fragment:""})}};eO=t=(0,i.__decorate)([(0,i.__param)(1,ea.IRemoteAgentService),(0,i.__param)(2,eL.IWorkbenchEnvironmentService),(0,i.__param)(3,eT.IWorkspaceContextService)],eO);var eF=a;let eK=new class{constructor(){this.todo=[],this.add=e=>{this.todo.push(e)}}take(e,t){this.add=i=>t.createInstance(i,e),this.todo.forEach(this.add),this.todo=[]}},eW=class extends eF.Disposable{constructor(e){super(),this.markInactive=this._register(new k.RunOnceScheduler(()=>{this.isActive=!1,this.changeEmitter.fire(!1)},1e4)),this.changeEmitter=this._register(new F.Emitter),this.active=0,this.isActive=!0,this.onDidChangeIsActive=this.changeEmitter.event,this._register((0,k.runWhenGlobalIdle)(()=>eK.take(this,e)))}markActive(e){if(e?.whenHeldFor){let t=new eF.DisposableStore;return t.add((0,k.disposableTimeout)(()=>t.add(this.markActive()),e.whenHeldFor)),t}return 1==++this.active&&(this.isActive=!0,this.changeEmitter.fire(!0),this.markInactive.cancel()),(0,eF.toDisposable)(()=>{0==--this.active&&this.markInactive.schedule()})}};eW=(0,i.__decorate)([(0,i.__param)(0,s.IInstantiationService)],eW);var ez=a,eV=e.i(971921),eB=e.i(67064),eH=a;let eU=class extends eH.Disposable{constructor(e,t){super(),this.logService=e,this.configurationService=t,this.participants=new W.LinkedList}addFileOperationParticipant(e){let t=this.participants.push(e);return(0,eH.toDisposable)(()=>t())}async participate(e,t,i,o){let n=this.configurationService.getValue("files.participants.timeout");if("number"==typeof n&&!(n<=0))for(let r of this.participants)try{await r.participate(e,t,i,n,o)}catch(e){this.logService.warn(e)}}dispose(){this.participants.clear(),super.dispose()}};eU=(0,i.__decorate)([(0,i.__param)(0,eh.ILogService),(0,i.__param)(1,en.IConfigurationService)],eU);var eG=e.i(446099),eq=e.i(982534),e$=a,ej=e.i(39400);let eQ=class extends e$.Disposable{get length(){return this.saveParticipants.size}constructor(e,t){super(),this.logService=e,this.progressService=t,this.saveParticipants=new W.LinkedList}addSaveParticipant(e){let t=this.saveParticipants.push(e);return(0,e$.toDisposable)(()=>t())}async participate(e,t,i,o){let n=new q.CancellationTokenSource(o);e.model?.pushStackElement(),i.report({message:(0,I.localize)(12126,"Running Code Actions and Formatters...")});let r=!1;if(await this.progressService.withProgress({priority:ej.NotificationPriority.URGENT,location:eG.ProgressLocation.Notification,cancellable:(0,I.localize)(12127,"Skip"),delay:e.isDirty()?5e3:3e3},async i=>{for(let o of this.saveParticipants){if(n.token.isCancellationRequested||e.isDisposed())break;try{let r=o.participate(e,t,i,n.token);await (0,k.raceCancellation)(r,n.token)}catch(e){(0,G.isCancellationError)(e)?n.token.isCancellationRequested||(n.cancel(),r=!0):this.logService.error(e)}}},()=>{n.cancel()}),e.model?.pushStackElement(),n.dispose(),r)throw new G.CancellationError}dispose(){this.saveParticipants.clear(),super.dispose()}};eQ=(0,i.__decorate)([(0,i.__param)(0,eh.ILogService),(0,i.__param)(1,eq.IProgressService)],eQ);let eY=class extends ez.Disposable{constructor(e,t,i,o){super(),this.fileService=e,this.workingCopyService=t,this.instantiationService=i,this.uriIdentityService=o,this._onWillRunWorkingCopyFileOperation=this._register(new F.AsyncEmitter),this.onWillRunWorkingCopyFileOperation=this._onWillRunWorkingCopyFileOperation.event,this._onDidFailWorkingCopyFileOperation=this._register(new F.AsyncEmitter),this.onDidFailWorkingCopyFileOperation=this._onDidFailWorkingCopyFileOperation.event,this._onDidRunWorkingCopyFileOperation=this._register(new F.AsyncEmitter),this.onDidRunWorkingCopyFileOperation=this._onDidRunWorkingCopyFileOperation.event,this.correlationIds=0,this.fileOperationParticipants=this._register(this.instantiationService.createInstance(eU)),this.saveParticipants=this._register(this.instantiationService.createInstance(eQ)),this.workingCopyProviders=[],this._register(this.registerWorkingCopyProvider(e=>this.workingCopyService.workingCopies.filter(t=>this.fileService.hasProvider(e)?this.uriIdentityService.extUri.isEqualOrParent(t.resource,e):this.uriIdentityService.extUri.isEqual(t.resource,e))))}create(e,t,i){return this.doCreateFileOrFolder(e,!0,t,i)}createFolder(e,t,i){return this.doCreateFileOrFolder(e,!1,t,i)}async doCreateFileOrFolder(e,t,i,o){let n;if(0===e.length)return[];if(t){let t=(await k.Promises.settled(e.map(e=>this.fileService.canCreateFile(e.resource,{overwrite:e.overwrite})))).find(e=>e instanceof Error);if(t instanceof Error)throw t}let r=e.map(e=>({target:e.resource}));await this.runFileOperationParticipants(r,eV.FileOperation.CREATE,o,i);let s={correlationId:this.correlationIds++,operation:eV.FileOperation.CREATE,files:r};await this._onWillRunWorkingCopyFileOperation.fireAsync(s,q.CancellationToken.None);try{n=t?await k.Promises.settled(e.map(e=>this.fileService.createFile(e.resource,e.contents,{overwrite:e.overwrite}))):await k.Promises.settled(e.map(e=>this.fileService.createFolder(e.resource)))}catch(e){throw await this._onDidFailWorkingCopyFileOperation.fireAsync(s,q.CancellationToken.None),e}return await this._onDidRunWorkingCopyFileOperation.fireAsync(s,q.CancellationToken.None),n}async move(e,t,i){return this.doMoveOrCopy(e,!0,t,i)}async copy(e,t,i){return this.doMoveOrCopy(e,!1,t,i)}async doMoveOrCopy(e,t,i,o){let n=[];for(let{file:{source:i,target:o},overwrite:n}of e){let e=await (t?this.fileService.canMove(i,o,n):this.fileService.canCopy(i,o,n));if(e instanceof Error)throw e}let r=e.map(e=>e.file);await this.runFileOperationParticipants(r,t?eV.FileOperation.MOVE:eV.FileOperation.COPY,o,i);let s={correlationId:this.correlationIds++,operation:t?eV.FileOperation.MOVE:eV.FileOperation.COPY,files:r};await this._onWillRunWorkingCopyFileOperation.fireAsync(s,q.CancellationToken.None);try{for(let{file:{source:i,target:o},overwrite:r}of e){if(!this.uriIdentityService.extUri.isEqual(i,o)){let e=t?[...this.getDirty(i),...this.getDirty(o)]:this.getDirty(o);await k.Promises.settled(e.map(e=>e.revert({soft:!0})))}t?n.push(await this.fileService.move(i,o,r)):n.push(await this.fileService.copy(i,o,r))}}catch(e){throw await this._onDidFailWorkingCopyFileOperation.fireAsync(s,q.CancellationToken.None),e}return await this._onDidRunWorkingCopyFileOperation.fireAsync(s,q.CancellationToken.None),n}async delete(e,t,i){for(let t of e){let e=await this.fileService.canDelete(t.resource,{recursive:t.recursive,useTrash:t.useTrash});if(e instanceof Error)throw e}let o=e.map(e=>({target:e.resource}));await this.runFileOperationParticipants(o,eV.FileOperation.DELETE,i,t);let n={correlationId:this.correlationIds++,operation:eV.FileOperation.DELETE,files:o};for(let t of(await this._onWillRunWorkingCopyFileOperation.fireAsync(n,q.CancellationToken.None),e)){let e=this.getDirty(t.resource);await k.Promises.settled(e.map(e=>e.revert({soft:!0})))}try{for(let t of e)await this.fileService.del(t.resource,{recursive:t.recursive,useTrash:t.useTrash})}catch(e){throw await this._onDidFailWorkingCopyFileOperation.fireAsync(n,q.CancellationToken.None),e}await this._onDidRunWorkingCopyFileOperation.fireAsync(n,q.CancellationToken.None)}addFileOperationParticipant(e){return this.fileOperationParticipants.addFileOperationParticipant(e)}runFileOperationParticipants(e,t,i,o){return this.fileOperationParticipants.participate(e,t,i,o)}get hasSaveParticipants(){return this.saveParticipants.length>0}addSaveParticipant(e){return this.saveParticipants.addSaveParticipant(e)}runSaveParticipants(e,t,i,o){return this.saveParticipants.participate(e,t,i,o)}registerWorkingCopyProvider(e){let t=(0,Q.insert)(this.workingCopyProviders,e);return(0,ez.toDisposable)(t)}getDirty(e){let t=new Set;for(let i of this.workingCopyProviders)for(let o of i(e))o.isDirty()&&t.add(o);return Array.from(t)}};eY=(0,i.__decorate)([(0,i.__param)(0,R.IFileService),(0,i.__param)(1,eB.IWorkingCopyService),(0,i.__param)(2,s.IInstantiationService),(0,i.__param)(3,j.IUriIdentityService)],eY);var eZ=e.i(736758),eX=e.i(231018),eJ=a,e0=e.i(569038),e1=e.i(281034),e2=e.i(977857),e3=e.i(239686),e5=e.i(649849),e4=e.i(542073),e6=e.i(413117),e8=e.i(297334),e9=e.i(604058),e7=e.i(681408),te=e.i(780379),tt=e.i(513482);let ti=e4.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"resourceLabelFormatters",jsonSchema:{description:(0,I.localize)(11633,"Contributes resource label formatting rules."),type:"array",items:{type:"object",required:["scheme","formatting"],properties:{scheme:{type:"string",description:(0,I.localize)(11634,'URI scheme on which to match the formatter on. For example "file". Simple glob patterns are supported.')},authority:{type:"string",description:(0,I.localize)(11635,"URI authority on which to match the formatter on. Simple glob patterns are supported.")},formatting:{description:(0,I.localize)(11636,"Rules for formatting uri resource labels."),type:"object",properties:{label:{type:"string",description:(0,I.localize)(11637,"Label rules to display. For example: myLabel:/${path}. ${path}, ${scheme}, ${authority} and ${authoritySuffix} are supported as variables.")},separator:{type:"string",description:(0,I.localize)(11638,"Separator to be used in the uri label display. '/' or '' as an example.")},stripPathStartingSeparator:{type:"boolean",description:(0,I.localize)(11639,"Controls whether `${path}` substitutions should have starting separator characters stripped.")},tildify:{type:"boolean",description:(0,I.localize)(11640,"Controls if the start of the uri label should be tildified when possible.")},workspaceSuffix:{type:"string",description:(0,I.localize)(11641,"Suffix appended to the workspace label.")}}}}}}}),to=/\//g,tn=/\$\{(scheme|authoritySuffix|authority|path|(query)\.(.+?))\}/g,tr=class{constructor(e){this.formattersDisposables=new Map,ti.setHandler((t,i)=>{for(let t of i.added)for(let i of t.value){let o={...i};"string"!=typeof o.formatting.label&&(o.formatting.label="${authority}${path}"),"string"!=typeof o.formatting.separator&&(o.formatting.separator=e_.sep),!(0,e7.isProposedApiEnabled)(t.description,"contribLabelFormatterWorkspaceTooltip")&&o.formatting.workspaceTooltip&&(o.formatting.workspaceTooltip=void 0),this.formattersDisposables.set(o,e.registerFormatter(o))}for(let e of i.removed)for(let t of e.value)(0,eJ.dispose)(this.formattersDisposables.get(t))})}};tr=(0,i.__decorate)([(0,i.__param)(0,e5.ILabelService)],tr),e0.Registry.as(l.Extensions.Workbench).registerWorkbenchContribution(tr,e8.LifecyclePhase.Restored);let ts=class extends eJ.Disposable{constructor(e,t,i,n,r,s){super(),this.environmentService=e,this.contextService=t,this.pathService=i,this.remoteAgentService=n,this._onDidChangeFormatters=this._register(new F.Emitter({leakWarningThreshold:400})),this.onDidChangeFormatters=this._onDidChangeFormatters.event,this.os=ef.OS,this.userHome=i.defaultUriScheme===eb.Schemas.file?this.pathService.userHome({preferLocal:!0}):void 0;const a=this.storedFormattersMemento=new tt.Memento("cachedResourceLabelFormatters2",r);this.storedFormatters=a.getMemento(o.StorageScope.PROFILE,o.StorageTarget.MACHINE),this.formatters=this.storedFormatters?.formatters?.slice()||[],this.resolveRemoteEnvironment()}async resolveRemoteEnvironment(){let e=await this.remoteAgentService.getEnvironment();this.os=e?.os??ef.OS,this.userHome=await this.pathService.userHome()}findFormatting(e){let t;for(let i of this.formatters)if(i.scheme===e.scheme){if(!i.authority&&(!t||i.priority)){t=i;continue}if(!i.authority)continue;(0,e6.match)(i.authority.toLowerCase(),e.authority.toLowerCase())&&(!t||!t.authority||i.authority.length>t.authority.length||i.authority.length===t.authority.length&&i.priority)&&(t=i)}return t?t.formatting:void 0}getUriLabel(e,t={}){let i=this.findFormatting(e);i&&t.separator&&(i={...i,separator:t.separator});let o=this.doGetUriLabel(e,i,t);return!i&&t.separator?o.replace(to,t.separator):o}doGetUriLabel(e,t,i={}){if(!t)return(0,e2.getPathLabel)(e,{os:this.os,tildify:this.userHome?{userHome:this.userHome}:void 0,relative:i.relative?{noPrefix:i.noPrefix,getWorkspace:()=>this.contextService.getWorkspace(),getWorkspaceFolder:e=>this.contextService.getWorkspaceFolder(e)}:void 0});if(i.relative&&this.contextService){let o=this.contextService.getWorkspaceFolder(e);if(!o){let t=this.contextService.getWorkspace().folders.at(0);t&&e.scheme!==t.uri.scheme&&e.path.startsWith(e_.posix.sep)&&(o=this.contextService.getWorkspaceFolder(t.uri.with({path:e.path})))}if(o){let n=this.formatUri(o.uri,t,i.noPrefix),r=this.formatUri(e,t,i.noPrefix),s=0;for(;r[s]&&r[s]===n[s];)s++;if(r[s]&&r[s]!==t.separator?s===n.length&&o.uri.path===e_.posix.sep&&(r=r.substring(s)):r=r.substring(1+s),this.contextService.getWorkspace().folders.length>1&&!i.noPrefix){let e=o?.name??(0,eN.basenameOrAuthority)(o.uri);r=r?`${e}  ${r}`:e}return r}}return this.formatUri(e,t,i.noPrefix)}getUriBasenameLabel(e){let t=this.findFormatting(e),i=this.doGetUriLabel(e,t);return(t?.separator===e_.win32.sep?e_.win32:t?.separator===e_.posix.sep?e_.posix:this.os===ef.OperatingSystem.Windows?e_.win32:e_.posix).basename(i)}getWorkspaceLabel(e,t){if((0,e1.isWorkspace)(e)){let i=(0,e1.toWorkspaceIdentifier)(e);return(0,e1.isSingleFolderWorkspaceIdentifier)(i)||(0,e1.isWorkspaceIdentifier)(i)?this.getWorkspaceLabel(i,t):""}return eg.URI.isUri(e)?this.doGetSingleFolderWorkspaceLabel(e,t):(0,e1.isSingleFolderWorkspaceIdentifier)(e)?this.doGetSingleFolderWorkspaceLabel(e.uri,t):(0,e1.isWorkspaceIdentifier)(e)?this.doGetWorkspaceLabel(e.configPath,t):""}doGetWorkspaceLabel(e,t){let i;if((0,e1.isUntitledWorkspace)(e,this.environmentService))return(0,I.localize)(11642,"Untitled (Workspace)");if((0,e1.isTemporaryWorkspace)(e))return(0,I.localize)(11643,"Workspace");let o=(0,eN.basename)(e);switch(o.endsWith(e1.WORKSPACE_EXTENSION)&&(o=o.substr(0,o.length-e1.WORKSPACE_EXTENSION.length-1)),t?.verbose){case e3.Verbosity.SHORT:i=o;break;case e3.Verbosity.LONG:i=(0,I.localize)(11644,"{0} (Workspace)",this.getUriLabel((0,eN.joinPath)((0,eN.dirname)(e),o)));break;case e3.Verbosity.MEDIUM:default:i=(0,I.localize)(11645,"{0} (Workspace)",o)}return t?.verbose===e3.Verbosity.SHORT?i:this.appendWorkspaceSuffix(i,e)}doGetSingleFolderWorkspaceLabel(e,t){let i;switch(t?.verbose){case e3.Verbosity.LONG:i=this.getUriLabel(e);break;case e3.Verbosity.SHORT:case e3.Verbosity.MEDIUM:default:i=(0,eN.basename)(e)||e_.posix.sep}return t?.verbose===e3.Verbosity.SHORT?i:this.appendWorkspaceSuffix(i,e)}getSeparator(e,t){let i=this.findFormatting(eg.URI.from({scheme:e,authority:t}));return i?.separator||e_.posix.sep}getHostLabel(e,t){let i=this.findFormatting(eg.URI.from({scheme:e,authority:t}));return i?.workspaceSuffix||t||""}getHostTooltip(e,t){let i=this.findFormatting(eg.URI.from({scheme:e,authority:t}));return i?.workspaceTooltip}registerCachedFormatter(e){let t=this.storedFormatters.formatters??=[],i=t.findIndex(t=>t.scheme===e.scheme&&t.authority===e.authority);if(-1===i&&t.length>=50&&(i=49),-1===i)t.unshift(e);else{for(let e=i;e>0;e--)t[e]=t[e-1];t[0]=e}return this.storedFormattersMemento.saveMemento(),this.registerFormatter(e)}registerFormatter(e){return this.formatters.push(e),this._onDidChangeFormatters.fire({scheme:e.scheme}),{dispose:()=>{this.formatters=this.formatters.filter(t=>t!==e),this._onDidChangeFormatters.fire({scheme:e.scheme})}}}formatUri(e,t,i){var o;let n=t.label.replace(tn,(i,o,n,r)=>{switch(o){case"scheme":return e.scheme;case"authority":return e.authority;case"authoritySuffix":{let t=e.authority.indexOf("+");return -1===t?e.authority:e.authority.slice(t+1)}case"path":return t.stripPathStartingSeparator?e.path.slice(+(e.path[0]===t.separator)):e.path;default:if("query"===n){let{query:t}=e;if(t&&"{"===t[0]&&"}"===t[t.length-1])try{return JSON.parse(t)[r]||""}catch{}}return""}});return t.normalizeDriveLetter&&(o=n)&&":"===o[2]&&(n=n.charAt(1).toUpperCase()+n.substr(2)),t.tildify&&!i&&this.userHome&&(n=(0,e2.tildify)(n,this.userHome.fsPath,this.os)),t.authorityPrefix&&e.authority&&(n=t.authorityPrefix+n),n.replace(to,t.separator)}appendWorkspaceSuffix(e,t){let i=this.findFormatting(t),o=i&&"string"==typeof i.workspaceSuffix?i.workspaceSuffix:void 0;return o?`${e} [${o}]`:e}};ts=(0,i.__decorate)([(0,i.__param)(0,eL.IWorkbenchEnvironmentService),(0,i.__param)(1,eT.IWorkspaceContextService),(0,i.__param)(2,eA.IPathService),(0,i.__param)(3,ea.IRemoteAgentService),(0,i.__param)(4,te.IStorageService),(0,i.__param)(5,e9.ILifecycleService)],ts);var ta=e.i(279691),tl=e.i(878295),td=e.i(609941),tc=e.i(720274),tu=e.i(544421),th=e.i(323235),tp=e.i(623947);let tg=class extends td.EditorWorkerService{constructor(e,t,i,o,n){super(new tl.WorkerDescriptor("vs/editor/common/services/editorSimpleWorker","TextEditorWorker"),e,t,i,o,n)}};tg=(0,i.__decorate)([(0,i.__param)(0,th.IModelService),(0,i.__param)(1,tp.ITextResourceConfigurationService),(0,i.__param)(2,eh.ILogService),(0,i.__param)(3,tc.ILanguageConfigurationService),(0,i.__param)(4,tu.ILanguageFeaturesService)],tg);let tm=class extends eO{constructor(e,t,i){super((0,c.getEnvironmentOverride)().userHome??function(e,t){let i=t.getWorkspace(),o=i.folders.at(0);return o?o.uri:i.configuration?(0,eN.dirname)(i.configuration):eg.URI.from({scheme:eO.findDefaultUriScheme(e,t),authority:e.remoteAuthority,path:"/"})}(t,i),e,t,i)}};if(tm=(0,i.__decorate)([(0,i.__param)(0,ea.IRemoteAgentService),(0,i.__param)(1,eL.IWorkbenchEnvironmentService),(0,i.__param)(2,eT.IWorkspaceContextService)],tm),e.i(836387),e.i(633921),e.i(578725),e.i(247921),e.i(657170),e.i(68174),e.i(749351),e.i(131060),e.i(268850),e.i(261583),e.i(230632),e.i(380755),e.i(819515),e.i(890696),e.i(677367),e.i(810602),e.i(142968),e.i(71190),e.i(976204),e.i(256120),e.i(103072),e.i(756970),e.i(750364),e.i(886202),e.i(716199),e.i(790728),e.i(970469),e.i(24165),e.i(97201),e.i(43095),e.i(918496),e.i(782024),e.i(812541),e.i(259430),e.i(272137),e.i(390457),e.i(557260),e.i(362507),e.i(430252),e.i(395882),e.i(614535),e.i(928546),e.i(357790),e.i(273199),e.i(595156),e.i(52848),e.i(852656),e.i(395612),e.i(352700),e.i(796635),e.i(961698),window.monacoVscodeApiInitialized)throw Error("Another version of monaco-vscode-api has already been loaded.");async function t_(e,t=document.body,i={},o){(0,u.checkServicesNotInitialized)(),(0,c.initialize)(t,i,o);let s=n.StandaloneServices.initialize({[d.IProductService.toString()]:(0,r.mixin)({version:"1.96.4",quality:"stable",commit:"cd4ee3b1c348a13bafd8f9ad8060705f6d4b9cba",nameShort:"Code - OSS",nameLong:"Code - OSS",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",serverApplicationName:"code-server-oss"},i.productConfiguration??{}),...(0,_.default)(),...(0,m.default)(),...(0,g.default)(),...(0,p.default)(),...(0,h.default)(),...(0,f.default)(),...{[v.IRequestService.toString()]:new y.SyncDescriptor(ep,[],!0),[eD.IDownloadService.toString()]:new y.SyncDescriptor(ek,[],!0),[C.IDecorationsService.toString()]:new y.SyncDescriptor(eo,[],!0),[b.IJSONEditingService.toString()]:new y.SyncDescriptor(O,[],!0),[S.ITreeViewsDnDService.toString()]:new y.SyncDescriptor(w.TreeViewsDnDService,[],!0),[E.IURLService.toString()]:new y.SyncDescriptor(ew,[],!0),[eI.ICanonicalUriService.toString()]:new y.SyncDescriptor(eE,[],!1),[ex.IUserActivityService.toString()]:new y.SyncDescriptor(eW,[],!0),[eM.IWorkingCopyFileService.toString()]:new y.SyncDescriptor(eY,[],!1),[eA.IPathService.toString()]:new y.SyncDescriptor(tm,[],!0),[eZ.ITrustedDomainService.toString()]:new y.SyncDescriptor(eX.TrustedDomainService,[],!0),[e5.ILabelService.toString()]:new y.SyncDescriptor(ts,[],!0),[ta.IEditorWorkerService.toString()]:new y.SyncDescriptor(tg,[],!0)},...e});await (0,u.startup)(s)}async function tf(e){return await (0,u.waitServicesReady)(),n.StandaloneServices.get(e)}function ty(e){if(u.serviceInitializedBarrier.isOpen())return n.StandaloneServices.get(s.IInstantiationService).invokeFunction(e);let t=new a.DisposableStore,i=t.add(u.serviceInitializedEmitter.event(()=>{i.dispose(),t.add(n.StandaloneServices.get(s.IInstantiationService).invokeFunction(e))}));return t}window.monacoVscodeApiInitialized=!0,e.s(["getService",()=>tf,"initialize",()=>t_,"withReadyServices",()=>ty],693941)}]);